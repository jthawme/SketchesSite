{"version":3,"sources":["../node_modules/inherits/inherits_browser.js","../node_modules/node-libs-browser/node_modules/events/events.js","../node_modules/right-now/browser.js","../node_modules/process/browser.js","src/performance-now.coffee","../node_modules/raf/index.js","../node_modules/raf-loop/index.js","../node_modules/three/build/three.module.js","../node_modules/three/examples/jsm/controls/OrbitControls.js","js/utils/engine3d.js","../node_modules/animejs/lib/anime.es.js","js/Tile.js","js/canvas.js","js/TileBox.js","js/script.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ReflectOwnKeys","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","ProcessEmitWarning","warning","console","warn","NumberIsNaN","Number","isNaN","value","EventEmitter","init","module","exports","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","create","setMaxListeners","n","$getMaxListeners","that","getMaxListeners","emit","type","i","arguments","length","push","doError","events","error","er","Error","err","message","context","handler","len","listeners","arrayClone","_addListener","listener","prepend","m","existing","TypeError","newListener","unshift","warned","w","String","name","emitter","count","addListener","on","prependListener","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","wrapped","bind","once","prependOnceListener","list","position","originalListener","shift","spliceOne","off","removeAllListeners","keys","key","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","arr","copy","Array","index","pop","ret","process","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","Item","array","title","env","argv","version","versions","noop","binding","cwd","chdir","dir","umask","EPSILON","Math","pow","isInteger","isFinite","floor","sign","x","toString","match","assign","output","source","nextKey","hasOwnProperty","EventDispatcher","addEventListener","indexOf","hasEventListener","removeEventListener","listenerArray","splice","dispatchEvent","event","slice","l","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoColors","FaceColors","VertexColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","_lut","_Math","DEG2RAD","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","min","max","euclideanModulo","mapLinear","a1","a2","b1","b2","lerp","y","t","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","Vector2","defineProperties","isVector2","setScalar","scalar","setX","setY","setComponent","getComponent","clone","constructor","v","add","addVectors","addScalar","s","a","b","addScaledVector","sub","subVectors","subScalar","multiply","multiplyScalar","divide","divideScalar","applyMatrix3","elements","clampScalar","minVal","maxVal","clampLength","round","roundToZero","negate","dot","cross","lengthSq","sqrt","manhattanLength","abs","normalize","angle","atan2","distanceTo","distanceToSquared","dx","dy","manhattanDistanceTo","setLength","alpha","lerpVectors","v1","v2","equals","fromArray","offset","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","center","c","cos","sin","Quaternion","z","_x","_y","_z","_w","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","sqrSin","tDir","f","_onChangeCallback","isQuaternion","quaternion","setFromEuler","euler","update","isEuler","order","c1","c2","c3","s1","s2","s3","setFromAxisAngle","axis","halfAngle","setFromRotationMatrix","te","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","setFromUnitVectors","vFrom","vTo","EPS","r","angleTo","q","acos","rotateTowards","step","inverse","conjugate","p","multiplyQuaternions","premultiply","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","_onChange","callback","_vector","Vector3","_quaternion","isVector3","setZ","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","applyMatrix4","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","vector","projectOnPlane","planeNormal","reflect","normal","theta","dz","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","sx","setFromMatrixColumn","sy","sz","getZ","_vector$1","Matrix3","isMatrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","identity","me","setFromMatrix4","applyToBufferAttribute","setXYZ","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","determinant","d","g","h","getInverse","matrix","throwOnDegenerate","isMatrix4","t11","t12","t13","det","msg","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","tx","ty","rotation","cx","cy","scale","rotate","translate","_canvas","ImageUtils","getDataURL","image","canvas","HTMLCanvasElement","src","document","createElementNS","width","height","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","mapping","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","onUpdate","isTexture","updateMatrix","toJSON","meta","isRootObject","textures","metadata","generator","wrap","images","url","isArray","dispose","transformUv","uv","Vector4","isVector4","setW","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","epsilon","epsilon2","xx","yy","zz","xy","xz","yz","getW","WebGLRenderTarget","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","setSize","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","_v1","_m1","Matrix4","_zero","_one","n14","n24","n34","n41","n42","n43","n44","copyPosition","extractBasis","xAxis","yAxis","zAxis","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","lookAt","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","x2","y2","z2","wx","wy","wz","decompose","invSX","invSY","invSZ","makePerspective","left","right","top","bottom","near","far","makeOrthographic","_matrix","_quaternion$1","Euler","_order","DefaultOrder","RotationOrders","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","Layers","mask","channel","enable","enableAll","toggle","disable","disableAll","test","layers","_object3DId","_v1$1","_q1","_m1$1","_target","_position","_scale","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","parent","children","DefaultUp","onRotationChange","onQuaternionChange","configurable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","isObject3D","onBeforeRender","onAfterRender","applyMatrix","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","translateX","translateY","translateZ","localToWorld","worldToLocal","updateWorldMatrix","isCamera","isLight","object","remove","attach","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","updateMatrixWorld","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","force","updateParents","updateChildren","geometries","materials","shapes","JSON","stringify","isMesh","drawMode","serialize","library","element","isLine","isPoints","geometry","parameters","shape","material","uuids","extractFromCache","cache","values","data","recursive","parse","Scene","background","fog","overrideMaterial","autoUpdate","__THREE_DEVTOOLS__","CustomEvent","detail","isScene","_points","_vector$2","_v0","_v1$2","_v2","_f0","_f1","_f2","_center","_extents","_triangleNormal","_testAxis","Box3","Infinity","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","points","makeEmpty","il","expandByPoint","setFromCenterAndSize","size","halfSize","setFromObject","expandByObject","box","isEmpty","getCenter","getSize","point","expandByVector","expandByScalar","isGeometry","vertices","isBufferGeometry","attributes","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","triangle","axes","satForAxes","distanceToPoint","clampedPoint","getBoundingSphere","intersect","union","v0","extents","j","p0","p1","p2","_box","Sphere","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","_vector$3","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","origin","direction","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","denominator","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","_v0$1","_v1$3","_v2$1","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","u","getUV","p3","uv1","uv2","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","i2","getArea","getMidpoint","getPlane","setFromCoplanarPoints","d4","vc","d5","d6","vb","va","_colorKeywords","_hslA","_hslB","Color","setRGB","hue2rgb","SRGBToLinear","LinearToSRGB","isColor","setHex","setStyle","hex","setHSL","style","handleAlpha","string","parseFloat","exec","color","components","parseInt","charAt","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","delta","getStyle","offsetHSL","addColors","color1","color2","lerpHSL","Face3","materialIndex","vertexNormals","vertexColors","materialId","Material","lights","blending","side","flatShading","vertexTangents","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilFunc","stencilRef","stencilMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","toneMapped","needsUpdate","isMaterial","onBeforeCompile","setValues","newValue","currentValue","isRoot","roughness","metalness","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatNormalMap","clearcoatNormalScale","map","matcap","alphaMap","lightMap","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","reflectivity","refractionRatio","combine","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","MeshBasicMaterial","lightMapIntensity","isMeshBasicMaterial","BufferAttribute","itemSize","normalized","dynamic","updateRange","isBufferAttribute","onUploadCallback","setArray","setDynamic","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZW","onUpload","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","DirectGeometry","normals","uvs","uvs2","groups","skinWeights","skinIndices","boundingBox","boundingSphere","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","uvsNeedUpdate","groupsNeedUpdate","computeGroups","group","faces","face","start","fromGeometry","faceVertexUvs","hasFaceVertexUv","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","arrayMax","_bufferGeometryId","_m1$2","_obj","_offset","_box$1","_boxMorphTargets","_vector$4","BufferGeometry","morphAttributes","drawRange","getIndex","setIndex","addAttribute","isInterleavedBufferAttribute","getAttribute","removeAttribute","addGroup","clearGroups","setDrawRange","tangent","computeBoundingBox","computeBoundingSphere","positions","lineDistances","updateFromObject","direct","__directGeometry","elementsNeedUpdate","lineDistancesNeedUpdate","lineDistance","fromDirectGeometry","morphAttributesPosition","morphAttribute","jl","computeFaceNormals","computeVertexNormals","vA","vB","vC","pA","pB","pC","cb","ab","indices","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","attributeData","hasMorphAttributes","attributeArray","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","setDrawMode","morphTargetInfluences","morphTargetDictionary","ml","raycaster","intersects","intersection","morphPosition","groupMaterial","end","checkBufferGeometryIntersection","faceIndex","fvA","fvB","fvC","isMultiMaterial","fl","faceMaterial","checkIntersection","uvs_f","morphInfluences","influence","_geometryId","_m1$3","_obj$1","_offset$1","Geometry","vertex","fromBufferGeometry","scope","addFace","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","faceVertexUvs2","uvsCopy","k","kl","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precisionPoints","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","_id","materialIndexSort","sort","uvs1","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","enabled","hash","srcVertexNormal","destVertexNormal","BoxGeometry","depth","widthSegments","heightSegments","depthSegments","BoxBufferGeometry","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","isShaderMaterial","uniform","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderTarget","WebGLRenderTargetCube","renderer","scene","currentRenderTarget","getRenderTarget","setRenderTarget","render","clear","stencil","isWebGLRenderTargetCube","fromEquirectangularTexture","shader","tEquirect","join","DataTexture","isDataTexture","_vector1","_vector2","_normalMatrix","Plane","isPlane","setComponents","setFromNormalAndCoplanarPoint","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","intersectsLine","startSign","endSign","coplanarPoint","optionalNormalMatrix","referencePoint","_sphere$1","_vector$5","Frustum","p4","p5","planes","frustum","setFromMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","intersectsSprite","sprite","negRadius","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","UniformsLib","diffuse","uvTransform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","shadow","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotShadowMap","spotShadowMatrix","pointLights","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ShaderLib","basic","lambert","phong","standard","dashed","totalSize","t2D","cube","tCube","tFlip","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","physical","transparency","sheen","WebGLAnimation","isAnimating","animationLoop","onAnimationFrame","time","frame","requestAnimationFrame","stop","setAnimationLoop","setContext","WebGLAttributes","gl","buffers","WeakMap","createBuffer","bufferType","usage","buffer","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","deleteBuffer","delete","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","WebGLBackground","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","renderList","forceClear","vr","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBufferRenderer","info","capabilities","mode","setMode","drawArrays","renderInstances","extension","methodName","isWebGL2","maxInstancedCount","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","fromCache","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","geometryAttributes","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","reset","programs","autoReset","absNumericalSort","WebGLMorphtargets","influencesList","program","objectInfluences","influences","getUniforms","setValue","WebGLObjects","updateList","CubeTexture","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","unit","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","units","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","split","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","trim","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMapping","toneMappingName","generateExtensions","rendererExtensions","chunks","envMapCubeUV","tangentSpaceNormalMap","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","parseIncludes","pattern","include","unrollLoops","snippet","unroll","WebGLProgram","code","shadowMapTypeDefine","shadowMapType","envMapTypeDefine","envMapModeDefine","envMapBlendingDefine","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","isRawShaderMaterial","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","outputEncoding","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","depthPacking","isGLSL3ShaderMaterial","versionRegex","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","cachedAttributes","getAttributes","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","allocateBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","gammaOverrideLinear","getParameters","shadows","nClipPlanes","nClipIntersection","shaderID","isSkinnedMesh","gammaOutput","gammaInput","envMapMode","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","getProgramCode","acquireProgram","pl","programInfo","releaseProgram","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","WebGLRenderLists","lists","onSceneDispose","cameras","UniformsCache","light","halfWidth","halfHeight","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","vector3","matrix42","setup","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","bias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","has","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_frustum","_shadowMapSize","_viewportSize","_viewport","_MorphingFlag","_SkinningFlag","_NumberOfMaterialVariants","_depthMaterials","_distanceMaterials","_materialCache","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizonal","HORIZONAL_PASS","fullScreenTri","fullScreenMesh","useMorphing","useSkinning","depthMaterial","distanceMaterial","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","mapPass","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterial","result","materialVariants","customMaterial","customDepthMaterial","customDistanceMaterial","variantIndex","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","WebGLState","utils","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","setOp","stencilOp","clearStencil","colorBuffer","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","enabledCapabilities","compressedTextureFormats","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","getCompressedTextureFormats","formats","useProgram","blendFuncSeparate","blendFunc","blendEquationSeparate","convert","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","_videoTextures","useOffscreenCanvas","OffscreenCanvas","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","glFormat","glType","internalFormat","filterFallback","onTextureDispose","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","initTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","glInternalFormat","setTextureParameters","mipmap","mipmapImage","setTextureCubeDynamic","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","isDepthTexture","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","createFramebuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","MIN_EXT","MAX_EXT","UNSIGNED_INT_24_8_WEBGL","Group","isGroup","ArrayCamera","isArrayCamera","cameraLPos","cameraRPos","setProjectionFromUnion","cameraL","cameraR","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","WebVRManager","renderWidth","renderHeight","device","frameData","poseTarget","controllers","standingMatrix","standingMatrixInverse","framebufferScaleFactor","referenceSpaceType","window","VRFrameData","onVRDisplayPresentChange","tempQuaternion","tempPosition","cameraVR","isPresenting","currentSize","currentPixelRatio","eyeParameters","getEyeParameters","getPixelRatio","setDrawingBufferSize","animation","triggers","findGamepad","gamepads","navigator","getGamepads","gamepad","startsWith","updateControllers","controller","pose","hasPosition","orientation","buttonId","buttons","pressed","updateViewportFromBounds","bounds","getController","getDevice","setDevice","setFramebufferScaleFactor","setReferenceSpaceType","setPoseTarget","getCamera","userHeight","depthNear","depthFar","getFrameData","stageParameters","sittingToStandingTransform","poseObject","leftViewMatrix","rightViewMatrix","leftProjectionMatrix","rightProjectionMatrix","getLayers","layer","leftBounds","rightBounds","getStandingMatrix","submitFrame","setFrameOfReferenceType","WebXRManager","referenceSpace","inputSources","onSessionEvent","inputSource","onSessionEnd","setFramebuffer","onRequestReferenceSpace","setSession","updateRenderState","baseLayer","XRWebGLLayer","requestReferenceSpace","then","updateCamera","onAnimationFrameCallback","getViewerPose","views","transform","inputPose","getPose","targetRaySpace","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","domElement","sortObjects","toneMappingExposure","toneMappingWhitePoint","_this","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","getTargetPixelRatio","contextAttributes","xrCompatible","onContextLost","onContextRestore","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","xr","getContextAttributes","forceContextLoss","loseContext","forceContextRestore","restoreContext","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","pixelRatio","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","bits","preventDefault","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","programAttributes","positionArray","vertexAttribPointer","normalArray","uvArray","colorArray","setProgram","updateBuffers","rangeFactor","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","isInstancedBufferGeometry","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","compile","initMaterial","projectObject","opaqueObjects","transparentObjects","renderObjects","isLOD","isImmediateRenderObject","camera2","materialProperties","lightsStateVersion","programChange","numSupportedMorphTargets","numSupportedMorphNormals","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","isMeshPhongMaterial","isMeshStandardMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","ltc_1","LTC_1","ltc_2","LTC_2","uvScaleMap","isFog","density","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","FogExp2","Fog","InterleavedBuffer","isInterleavedBuffer","InterleavedBufferAttribute","interleavedBuffer","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA$1","_vB$1","_vC$1","_uvA$1","_uvB$1","_uvC$1","Sprite","float32Array","transformVertex","vertexPosition","mvPosition","_v1$4","_v2$2","LOD","levels","addLevel","getObjectForDistance","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","calculateInverses","normalizeSkinWeights","skinWeight","_offsetMatrix","_identityMatrix","Skeleton","boneInverses","bone","isBone","getBoneByName","Bone","linecap","linejoin","_start","_end","_inverseMatrix$1","_ray$1","_sphere$2","Line","computeLineDistances","positionAttribute","linePrecision","localPrecision","localPrecisionSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","_start$1","_end$1","LineSegments","LineLoop","_inverseMatrix$2","_ray$2","_sphere$3","_position$1","Points","threshold","params","localThreshold","localThresholdSq","testPoint","rayPointDistanceSq","intersectPoint","distanceToRay","VideoTexture","video","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","WireframeGeometry","o","ol","edge","edges","edge1","edge2","ParametricGeometry","func","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","PolyhedronGeometry","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","uvA","uvB","uvC","azi","correctUV","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","frames","computeFrenetFrames","P","generateBufferData","generateSegment","generateIndices","getPointAt","N","B","TorusKnotGeometry","tube","heightScale","TorusKnotBufferGeometry","P1","P2","T","calculatePositionOnCurve","cu","su","quOverP","cs","TorusGeometry","arc","TorusBufferGeometry","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","prev","invSize","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q1","q2","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","forEach","ExtrudeGeometry","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","ahole","hl","shapePoints","extractPoints","reverse","scalePt2","pt","vec","bs","vert","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","TextGeometry","text","TextBufferGeometry","font","isFont","generateShapes","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","grid","verticesRow","uOffset","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","base","inverseSegments","n1","n2","ShapeGeometry","ShapeBufferGeometry","toJSON$1","shapeHole","indexOffset","shapeVertices","shapeHoles","EdgesGeometry","thresholdAngle","thresholdDot","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","Geometries","freeze","RawShaderMaterial","Materials","AnimationUtils","arraySlice","from","to","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","valueSize","evaluate","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o1","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","track","trackType","json","getInterpolation","ValueTypeName","InterpolantFactoryMethodDiscrete","getValueSize","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","createInterpolant","timeOffset","timeScale","startTime","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","tracks","resetDuration","getTrackTypeForValueTypeName","typeName","toLowerCase","parseKeyframeTrack","jsonTracks","frameTime","fps","clip","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","DefaultLoadingManager","Loader","manager","crossOrigin","resourcePath","load","setCrossOrigin","setPath","setResourcePath","Handlers","handlers","regex","loader","loading","FileLoader","cached","dataUriRegex","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","request","XMLHttpRequest","open","callbacks","withCredentials","overrideMimeType","header","requestHeader","setRequestHeader","send","setResponseType","setWithCredentials","setMimeType","AnimationLoader","CompressedTextureLoader","_parser","loadTexture","texDatas","loaded","mipmapCount","isCubemap","DataTextureLoader","texData","ImageLoader","onImageLoad","onImageError","substr","CubeTextureLoader","urls","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","t2","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","fromJSON","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","weight","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","getPointsHoles","holesPts","Light","HemisphereLight","LightShadow","_frameExtents","_viewportCount","_viewports","_lightPositionWorld","_lookTarget","shadowMatrix","projScreenMatrix","lookTarget","lightPositionWorld","viewportIndex","SpotLightShadow","isSpotLightShadow","viewCamera","SpotLight","power","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","isOrthographicCamera","zoomW","zoomH","scaleW","scaleH","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","typedArray","TYPED_ARRAYS","bufferAttributeConstr","bufferAttribute","drawcalls","offsets","ObjectLoader","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","bufferGeometryLoader","details","geometryShapes","THREE","geometryLoader","LegacyJSONLoader","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","ImageBitmapLoader","createImageBitmap","fetch","setOptions","res","blob","imageBitmap","catch","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","substring","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","SphericalHarmonics3","isSphericalHarmonics3","zero","getAt","coeff","addScale","getIrradianceAt","getBasisAt","shBasis","LightProbe","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","performance","Date","now","getElapsedTime","getDelta","newTime","_position$2","_quaternion$3","_scale$1","_orientation","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","getInput","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","autoplay","detune","loop","playbackRate","isPlaying","hasPlaybackControl","sourceType","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setBuffer","play","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","pause","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","getVolume","setVolume","_position$3","_quaternion$4","_scale$2","_orientation$1","PositionalAudio","panner","createPanner","panningModel","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","root","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","interpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","Raycaster","PointCloud","ascSort","intersectObject","setFromCamera","coords","intersectObjects","Spherical","other","makeSafe","setFromCartesianCoords","Cylindrical","_vector$6","Box2","_startP","_startEnd","Line3","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","startEnd_startP","ImmediateRenderObject","_v1$5","_v2$3","_normalMatrix$1","_keys","VertexNormalsHelper","nNormals","objGeometry","objPos","objNorm","_vector$7","SpotLightHelper","cone","coneLength","coneWidth","_vector$8","_boneMatrix","_matrixWorldInv","getBoneList","boneList","SkeletonHelper","PointLightHelper","sphereSize","RectAreaLightHelper","positions2","_vector$9","_color1","_color2","HemisphereLightHelper","LightProbeHelper","GridHelper","PolarGridHelper","radials","circles","PositionalAudioHelper","divisionsInnerAngle","divisionsOuterAngle","materialInnerAngle","materialOuterAngle","halfConeInnerAngle","halfConeOuterAngle","_v1$6","_v2$4","_normalMatrix$2","FaceNormalsHelper","_v1$7","_v2$5","_v3$1","DirectionalLightHelper","lightPlane","targetLine","_vector$a","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box$2","BoxHelper","Box3Helper","PlaneHelper","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","Face4","LineStrip","LinePieces","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","XHRLoader","BinaryTextureLoader","setTexturePath","isIntersectionBox","isIntersectionSphere","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBuffer","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","copyIndicesArray","addIndex","addDrawCall","clearDrawCalls","computeOffsets","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","renderReverseSided","renderSingleSided","activeMipMapLevel","standing","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","LensFlare","OrbitControls","minDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","UP","BOTTOM","mouseButtons","touches","ONE","TWO","target0","position0","zoom0","getPolarAngle","spherical","getAzimuthalAngle","saveState","changeEvent","STATE","NONE","quat","quatInverse","lastPosition","lastQuaternion","rotateLeft","getAutoRotationAngle","sphericalDelta","panOffset","zoomChanged","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","onKeyDown","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","body","targetDistance","clientHeight","clientWidth","dollyIn","dollyScale","dollyOut","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","keyCode","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","handleTouchEnd","button","ctrlKey","metaKey","shiftKey","stopPropagation","MapControls","DEFAULTS","devicePixelRatio","clickToggleDebug","RENDERER_DEFAULTS","SketchEngine3D","mountEl","opts","rendererOpts","rendererOptions","updateDimensions","appendChild","orbitControls","orbit","classList","fn","dt","defaultInstanceSettings","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","timelineOffset","defaultTweenSettings","delay","endDelay","easing","validTransforms","CSS","springs","minMax","val","stringContains","str","applyArguments","is","obj","pth","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","fnc","und","rgb","hsl","col","parseEasingParameters","spring","mass","stiffness","damping","velocity","zeta","wd","solver","progress","exp","getDuration","elapsed","rest","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","C","calcBezier","aT","getSlope","binarySubdivide","aA","aB","mX1","mX2","currentX","currentT","newtonRaphsonIterate","aGuessT","currentSlope","mY1","mY2","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","penner","eases","linear","functionEasings","Sine","Circ","Back","Bounce","pow2","Elastic","amplitude","period","baseEasings","easeIn","parseEasings","ease","selectString","nodes","querySelectorAll","filterArray","thisArg","flattenArray","reduce","NodeList","HTMLCollection","arrayContains","some","cloneObject","replaceObjectProps","o2","mergeObjects","rgbToRgba","rgbValue","hexToRgba","hexValue","rgx","hslToRgba","hslValue","colorToRgb","getUnit","getTransformUnit","propName","getFunctionValue","animatable","el","prop","convertPxToUnit","valueUnit","baseline","tempEl","createElement","tagName","parentEl","parentNode","offsetWidth","removeChild","convertedUnit","getCSSValue","uppercasePropName","getComputedStyle","getPropertyValue","getAnimationType","getElementTransforms","reg","transforms","Map","getTransformValue","defaultVal","getOriginalTargetValue","getRelativeValue","operator","validateValue","originalUnit","unitLess","getDistance","getCircleLength","getRectLength","getLineLength","getPolylineLength","totalLength","previousPos","numberOfItems","currentPos","getItem","getPolygonLength","getTotalLength","setDashoffset","setAttribute","getParentSvgEl","getParentSvg","pathEl","svgData","parentSvgEl","rect","getBoundingClientRect","viewBoxAttr","viewBox","getPath","percent","getPathProgress","getPointAtLength","decomposeValue","original","numbers","strings","parseTargets","targets","targetsArray","item","pos","self","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","isFromTo","propArray","flattenKeyframes","keyframes","propertyNames","newKey","getProperties","tweens","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","isPath","setProgressValue","css","manual","setTargetsValue","animatables","animType","createAnimation","lastTween","getAnimations","getInstanceTimings","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","activeInstances","pausedInstances","raf","engine","activeInstancesLength","activeInstance","tick","instanceIndex","cancelAnimationFrame","handleVisibilityChange","hidden","ins","anime","lastTime","childrenLength","resolve","makePromise","instance","promise","Promise","_resolve","finished","toggleInstanceDirection","reversed","adjustTime","resetTime","speed","seekChild","syncInstanceChildren","reversePlayback","i$1","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","toNumbersLength","toNumber","fromNumber","stringsLength","n$1","setCallback","passThrough","countIteration","remaining","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","began","loopBegan","changeBegan","changeCompleted","completed","restart","removeTargetsFromAnimations","removeTargets","childAnimations","stagger","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","maxValue","fromX","fromY","toX","toY","distanceX","distanceY","spacing","timeline","tl","instanceParams","tlIndex","insParams","tlDuration","convertPx","Tile","canvasSize","geo","isMultipleOfEight","num","getCanvas","ctx","drawTextCenter","fontSize","measureText","yOffset","save","fillText","TileBox","txt","tiles","tileGutter","onChange","canvases","fill","tile","tileShape","createShape","rotator","stage","currStage","colours","setText","clearRect","fillStyle","fillRect","ThreeMath","WIDTH","HEIGHT","getElementById","app","Engine","setCamera","PERSPECTIVE_CAMERA","letters","changed","backgroundColor","boxes","onRender","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","deps"],"mappings":"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AAO,CAAC,MAAxB;IACH,MAAM,CAAC,OAAP,GAAiB,SAAA;aAAG,CAAC,cAAA,CAAA,CAAA,GAAmB,YAApB,CAAA,GAAoC;IAAvC;IACjB,MAAA,GAAS,OAAO,CAAC;IACjB,cAAA,GAAiB,SAAA;AACf,UAAA;MAAA,EAAA,GAAK,MAAA,CAAA;aACL,EAAG,CAAA,CAAA,CAAH,GAAQ,GAAR,GAAc,EAAG,CAAA,CAAA;IAFF;IAGjB,cAAA,GAAiB,cAAA,CAAA;IACjB,MAAA,GAAS,OAAO,CAAC,MAAR,CAAA,CAAA,GAAmB;IAC5B,YAAA,GAAe,cAAA,GAAiB,OAR7B;GAAA,MASA,IAAG,IAAI,CAAC,GAAR;IACH,MAAM,CAAC,OAAP,GAAiB,SAAA;aAAG,IAAI,CAAC,GAAL,CAAA,CAAA,GAAa;IAAhB;IACjB,QAAA,GAAW,IAAI,CAAC,GAAL,CAAA,EAFR;GAAA,MAAA;IAIH,MAAM,CAAC,OAAP,GAAiB,SAAA;aAAO,IAAA,IAAA,CAAA,CAAM,CAAC,OAAP,CAAA,CAAJ,GAAuB;IAA1B;IACjB,QAAA,GAAe,IAAA,IAAA,CAAA,CAAM,CAAC,OAAP,CAAA,EALZ;;AAXL;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"script.d573be0b.js","sourceRoot":"../src","sourcesContent":["if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","module.exports =\n  global.performance &&\n  global.performance.now ? function now() {\n    return performance.now()\n  } : Date.now || function now() {\n    return +new Date\n  }\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","if performance? and performance.now\n  module.exports = -> performance.now()\nelse if process? and process.hrtime\n  module.exports = -> (getNanoSeconds() - nodeLoadTime) / 1e6\n  hrtime = process.hrtime\n  getNanoSeconds = ->\n    hr = hrtime()\n    hr[0] * 1e9 + hr[1]\n  moduleLoadTime = getNanoSeconds()\n  upTime = process.uptime() * 1e9\n  nodeLoadTime = moduleLoadTime - upTime\nelse if Date.now\n  module.exports = -> Date.now() - loadTime\n  loadTime = Date.now()\nelse\n  module.exports = -> new Date().getTime() - loadTime\n  loadTime = new Date().getTime()\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","var inherits = require('inherits')\nvar EventEmitter = require('events').EventEmitter\nvar now = require('right-now')\nvar raf = require('raf')\n\nmodule.exports = Engine\nfunction Engine(fn) {\n    if (!(this instanceof Engine)) \n        return new Engine(fn)\n    this.running = false\n    this.last = now()\n    this._frame = 0\n    this._tick = this.tick.bind(this)\n\n    if (fn)\n        this.on('tick', fn)\n}\n\ninherits(Engine, EventEmitter)\n\nEngine.prototype.start = function() {\n    if (this.running) \n        return\n    this.running = true\n    this.last = now()\n    this._frame = raf(this._tick)\n    return this\n}\n\nEngine.prototype.stop = function() {\n    this.running = false\n    if (this._frame !== 0)\n        raf.cancel(this._frame)\n    this._frame = 0\n    return this\n}\n\nEngine.prototype.tick = function() {\n    this._frame = raf(this._tick)\n    var time = now()\n    var dt = time - this.last\n    this.emit('tick', dt)\n    this.last = time\n}","// Polyfills\n\nif ( Number.EPSILON === undefined ) {\n\n\tNumber.EPSILON = Math.pow( 2, - 52 );\n\n}\n\nif ( Number.isInteger === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n\tNumber.isInteger = function ( value ) {\n\n\t\treturn typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\n\n\t};\n\n}\n\n//\n\nif ( Math.sign === undefined ) {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n\tMath.sign = function ( x ) {\n\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\n\t};\n\n}\n\nif ( 'name' in Function.prototype === false ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n\tObject.defineProperty( Function.prototype, 'name', {\n\n\t\tget: function () {\n\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\n\n\t\t}\n\n\t} );\n\n}\n\nif ( Object.assign === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n\tObject.assign = function ( target ) {\n\n\t\tif ( target === undefined || target === null ) {\n\n\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\n\n\t\t}\n\n\t\tvar output = Object( target );\n\n\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\n\n\t\t\tvar source = arguments[ index ];\n\n\t\t\tif ( source !== undefined && source !== null ) {\n\n\t\t\t\tfor ( var nextKey in source ) {\n\n\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\n\n\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn output;\n\n\t};\n\n}\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = listenerArray.slice( 0 );\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nvar REVISION = '108';\nvar MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nvar TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nvar CullFaceNone = 0;\nvar CullFaceBack = 1;\nvar CullFaceFront = 2;\nvar CullFaceFrontBack = 3;\nvar FrontFaceDirectionCW = 0;\nvar FrontFaceDirectionCCW = 1;\nvar BasicShadowMap = 0;\nvar PCFShadowMap = 1;\nvar PCFSoftShadowMap = 2;\nvar VSMShadowMap = 3;\nvar FrontSide = 0;\nvar BackSide = 1;\nvar DoubleSide = 2;\nvar FlatShading = 1;\nvar SmoothShading = 2;\nvar NoColors = 0;\nvar FaceColors = 1;\nvar VertexColors = 2;\nvar NoBlending = 0;\nvar NormalBlending = 1;\nvar AdditiveBlending = 2;\nvar SubtractiveBlending = 3;\nvar MultiplyBlending = 4;\nvar CustomBlending = 5;\nvar AddEquation = 100;\nvar SubtractEquation = 101;\nvar ReverseSubtractEquation = 102;\nvar MinEquation = 103;\nvar MaxEquation = 104;\nvar ZeroFactor = 200;\nvar OneFactor = 201;\nvar SrcColorFactor = 202;\nvar OneMinusSrcColorFactor = 203;\nvar SrcAlphaFactor = 204;\nvar OneMinusSrcAlphaFactor = 205;\nvar DstAlphaFactor = 206;\nvar OneMinusDstAlphaFactor = 207;\nvar DstColorFactor = 208;\nvar OneMinusDstColorFactor = 209;\nvar SrcAlphaSaturateFactor = 210;\nvar NeverDepth = 0;\nvar AlwaysDepth = 1;\nvar LessDepth = 2;\nvar LessEqualDepth = 3;\nvar EqualDepth = 4;\nvar GreaterEqualDepth = 5;\nvar GreaterDepth = 6;\nvar NotEqualDepth = 7;\nvar MultiplyOperation = 0;\nvar MixOperation = 1;\nvar AddOperation = 2;\nvar NoToneMapping = 0;\nvar LinearToneMapping = 1;\nvar ReinhardToneMapping = 2;\nvar Uncharted2ToneMapping = 3;\nvar CineonToneMapping = 4;\nvar ACESFilmicToneMapping = 5;\n\nvar UVMapping = 300;\nvar CubeReflectionMapping = 301;\nvar CubeRefractionMapping = 302;\nvar EquirectangularReflectionMapping = 303;\nvar EquirectangularRefractionMapping = 304;\nvar SphericalReflectionMapping = 305;\nvar CubeUVReflectionMapping = 306;\nvar CubeUVRefractionMapping = 307;\nvar RepeatWrapping = 1000;\nvar ClampToEdgeWrapping = 1001;\nvar MirroredRepeatWrapping = 1002;\nvar NearestFilter = 1003;\nvar NearestMipmapNearestFilter = 1004;\nvar NearestMipMapNearestFilter = 1004;\nvar NearestMipmapLinearFilter = 1005;\nvar NearestMipMapLinearFilter = 1005;\nvar LinearFilter = 1006;\nvar LinearMipmapNearestFilter = 1007;\nvar LinearMipMapNearestFilter = 1007;\nvar LinearMipmapLinearFilter = 1008;\nvar LinearMipMapLinearFilter = 1008;\nvar UnsignedByteType = 1009;\nvar ByteType = 1010;\nvar ShortType = 1011;\nvar UnsignedShortType = 1012;\nvar IntType = 1013;\nvar UnsignedIntType = 1014;\nvar FloatType = 1015;\nvar HalfFloatType = 1016;\nvar UnsignedShort4444Type = 1017;\nvar UnsignedShort5551Type = 1018;\nvar UnsignedShort565Type = 1019;\nvar UnsignedInt248Type = 1020;\nvar AlphaFormat = 1021;\nvar RGBFormat = 1022;\nvar RGBAFormat = 1023;\nvar LuminanceFormat = 1024;\nvar LuminanceAlphaFormat = 1025;\nvar RGBEFormat = RGBAFormat;\nvar DepthFormat = 1026;\nvar DepthStencilFormat = 1027;\nvar RedFormat = 1028;\nvar RGB_S3TC_DXT1_Format = 33776;\nvar RGBA_S3TC_DXT1_Format = 33777;\nvar RGBA_S3TC_DXT3_Format = 33778;\nvar RGBA_S3TC_DXT5_Format = 33779;\nvar RGB_PVRTC_4BPPV1_Format = 35840;\nvar RGB_PVRTC_2BPPV1_Format = 35841;\nvar RGBA_PVRTC_4BPPV1_Format = 35842;\nvar RGBA_PVRTC_2BPPV1_Format = 35843;\nvar RGB_ETC1_Format = 36196;\nvar RGBA_ASTC_4x4_Format = 37808;\nvar RGBA_ASTC_5x4_Format = 37809;\nvar RGBA_ASTC_5x5_Format = 37810;\nvar RGBA_ASTC_6x5_Format = 37811;\nvar RGBA_ASTC_6x6_Format = 37812;\nvar RGBA_ASTC_8x5_Format = 37813;\nvar RGBA_ASTC_8x6_Format = 37814;\nvar RGBA_ASTC_8x8_Format = 37815;\nvar RGBA_ASTC_10x5_Format = 37816;\nvar RGBA_ASTC_10x6_Format = 37817;\nvar RGBA_ASTC_10x8_Format = 37818;\nvar RGBA_ASTC_10x10_Format = 37819;\nvar RGBA_ASTC_12x10_Format = 37820;\nvar RGBA_ASTC_12x12_Format = 37821;\nvar LoopOnce = 2200;\nvar LoopRepeat = 2201;\nvar LoopPingPong = 2202;\nvar InterpolateDiscrete = 2300;\nvar InterpolateLinear = 2301;\nvar InterpolateSmooth = 2302;\nvar ZeroCurvatureEnding = 2400;\nvar ZeroSlopeEnding = 2401;\nvar WrapAroundEnding = 2402;\nvar TrianglesDrawMode = 0;\nvar TriangleStripDrawMode = 1;\nvar TriangleFanDrawMode = 2;\nvar LinearEncoding = 3000;\nvar sRGBEncoding = 3001;\nvar GammaEncoding = 3007;\nvar RGBEEncoding = 3002;\nvar LogLuvEncoding = 3003;\nvar RGBM7Encoding = 3004;\nvar RGBM16Encoding = 3005;\nvar RGBDEncoding = 3006;\nvar BasicDepthPacking = 3200;\nvar RGBADepthPacking = 3201;\nvar TangentSpaceNormalMap = 0;\nvar ObjectSpaceNormalMap = 1;\n\nvar ZeroStencilOp = 0;\nvar KeepStencilOp = 7680;\nvar ReplaceStencilOp = 7681;\nvar IncrementStencilOp = 7682;\nvar DecrementStencilOp = 7683;\nvar IncrementWrapStencilOp = 34055;\nvar DecrementWrapStencilOp = 34056;\nvar InvertStencilOp = 5386;\n\nvar NeverStencilFunc = 512;\nvar LessStencilFunc = 513;\nvar EqualStencilFunc = 514;\nvar LessEqualStencilFunc = 515;\nvar GreaterStencilFunc = 516;\nvar NotEqualStencilFunc = 517;\nvar GreaterEqualStencilFunc = 518;\nvar AlwaysStencilFunc = 519;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _lut = [];\n\nfor ( var i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nvar _Math = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tvar d0 = Math.random() * 0xffffffff | 0;\n\t\tvar d1 = Math.random() * 0xffffffff | 0;\n\t\tvar d2 = Math.random() * 0xffffffff | 0;\n\t\tvar d3 = Math.random() * 0xffffffff | 0;\n\t\tvar uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\treturn uuid.toUpperCase();\n\n\t},\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * _Math.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * _Math.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tcross: function ( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tvar angle = Math.atan2( this.y, this.x );\n\n\t\tif ( angle < 0 ) angle += 2 * Math.PI;\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tvar x = this.x - center.x;\n\t\tvar y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tisQuaternion: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function ( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar EPS = 0.000001;\n\n\t\tvar r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < EPS ) {\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t},\n\n\tangleTo: function ( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( _Math.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t},\n\n\trotateTowards: function ( q, step ) {\n\n\t\tvar angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tvar t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tvar s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _vector = new Vector3();\nvar _quaternion = new Quaternion();\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\n\n\t},\n\n\tapplyAxisAngle: function ( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t},\n\n\tunproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( vector ) {\n\n\t\tvar scalar = vector.dot( this ) / vector.lengthSq();\n\n\t\treturn this.copy( vector ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function ( planeNormal ) {\n\n\t\t_vector.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector );\n\n\t},\n\n\treflect: function ( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t},\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t},\n\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\n\n\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t},\n\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nvar _vector$1 = new Vector3();\n\nfunction Matrix3() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0,\n\t\t0, 1, 0,\n\t\t0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n\tisMatrix3: true,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix4: function ( m ) {\n\n\t\tvar me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t_vector$1.x = attribute.getX( i );\n\t\t\t_vector$1.y = attribute.getY( i );\n\t\t\t_vector$1.z = attribute.getZ( i );\n\n\t\t\t_vector$1.applyMatrix3( this );\n\n\t\t\tattribute.setXYZ( i, _vector$1.x, _vector$1.y, _vector$1.z );\n\n\t\t}\n\n\t\treturn attribute;\n\n\t},\n\n\tmultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\n\n\t\tif ( matrix && matrix.isMatrix4 ) {\n\n\t\t\tconsole.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\n\n\t\t}\n\n\t\tvar me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar tmp, m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tvar m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tvar c = Math.cos( rotation );\n\t\tvar s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t},\n\n\tscale: function ( sx, sy ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t},\n\n\trotate: function ( theta ) {\n\n\t\tvar c = Math.cos( theta );\n\t\tvar s = Math.sin( theta );\n\n\t\tvar te = this.elements;\n\n\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( tx, ty ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar _canvas;\n\nvar ImageUtils = {\n\n\tgetDataURL: function ( image ) {\n\n\t\tvar canvas;\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t} else if ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tvar context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipmapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : RGBAFormat;\n\tthis.type = type !== undefined ? type : UnsignedByteType;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tvar output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tvar image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = _Math.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tvar url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( var i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\turl.push( ImageUtils.getDataURL( image[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = ImageUtils.getDataURL( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n} );\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x, y, z, w ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\tthis.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.defineProperties( Vector4.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.z = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.w = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tisVector4: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\tvar yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tthis.texture = new Texture( undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture.image = {};\n\tthis.texture.image.width = width;\n\tthis.texture.image.height = height;\n\n\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nWebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: WebGLRenderTarget,\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * @author Matt DesLauriers / @mattdesl\n */\n\nfunction WebGLMultisampleRenderTarget( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.samples = 4;\n\n}\n\nWebGLMultisampleRenderTarget.prototype = Object.assign( Object.create( WebGLRenderTarget.prototype ), {\n\n\tconstructor: WebGLMultisampleRenderTarget,\n\n\tisWebGLMultisampleRenderTarget: true,\n\n\tcopy: function ( source ) {\n\n\t\tWebGLRenderTarget.prototype.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nvar _v1 = new Vector3();\nvar _m1 = new Matrix4();\nvar _zero = new Vector3( 0, 0, 0 );\nvar _one = new Vector3( 1, 1, 1 );\nvar _x = new Vector3();\nvar _y = new Vector3();\nvar _z = new Vector3();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function ( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tvar scaleX = 1 / _v1.setFromMatrixColumn( m, 0 ).length();\n\t\tvar scaleY = 1 / _v1.setFromMatrixColumn( m, 1 ).length();\n\t\tvar scaleZ = 1 / _v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function ( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t},\n\n\tlookAt: function ( eye, target, up ) {\n\n\t\tvar te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t_v1.x = attribute.getX( i );\n\t\t\t_v1.y = attribute.getY( i );\n\t\t\t_v1.z = attribute.getZ( i );\n\n\t\t\t_v1.applyMatrix4( this );\n\n\t\t\tattribute.setXYZ( i, _v1.x, _v1.y, _v1.z );\n\n\t\t}\n\n\t\treturn attribute;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( x, y, z ) {\n\n\t\tvar te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar sx = _v1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tvar sy = _v1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tvar sz = _v1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tvar det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1.copy( this );\n\n\t\tvar invSX = 1 / sx;\n\t\tvar invSY = 1 / sy;\n\t\tvar invSZ = 1 / sz;\n\n\t\t_m1.elements[ 0 ] *= invSX;\n\t\t_m1.elements[ 1 ] *= invSX;\n\t\t_m1.elements[ 2 ] *= invSX;\n\n\t\t_m1.elements[ 4 ] *= invSY;\n\t\t_m1.elements[ 5 ] *= invSY;\n\t\t_m1.elements[ 6 ] *= invSY;\n\n\t\t_m1.elements[ 8 ] *= invSZ;\n\t\t_m1.elements[ 9 ] *= invSZ;\n\t\t_m1.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nvar _matrix = new Matrix4();\nvar _quaternion$1 = new Quaternion();\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = _Math.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function ( q, order, update ) {\n\n\t\t_matrix.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix, order, update );\n\n\t},\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function ( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$1.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$1, newOrder );\n\n\t},\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n\tthis.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n\tset: function ( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t},\n\n\tenable: function ( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t},\n\n\tenableAll: function () {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t},\n\n\ttoggle: function ( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t},\n\n\tdisable: function ( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t},\n\n\tdisableAll: function () {\n\n\t\tthis.mask = 0;\n\n\t},\n\n\ttest: function ( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n} );\n\nvar _object3DId = 0;\n\nvar _v1$1 = new Vector3();\nvar _q1 = new Quaternion();\nvar _m1$1 = new Matrix4();\nvar _target = new Vector3();\n\nvar _position = new Vector3();\nvar _scale = new Vector3();\nvar _quaternion$2 = new Quaternion();\n\nvar _xAxis = new Vector3( 1, 0, 0 );\nvar _yAxis = new Vector3( 0, 1, 0 );\nvar _zAxis = new Vector3( 0, 0, 1 );\n\nvar _addedEvent = { type: 'added' };\nvar _removedEvent = { type: 'removed' };\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tvar position = new Vector3();\n\tvar rotation = new Euler();\n\tvar quaternion = new Quaternion();\n\tvar scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation._onChange( onRotationChange );\n\tquaternion._onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Object3D,\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateOnWorldAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t},\n\n\ttranslateOnAxis: function ( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$1.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t},\n\n\ttranslateX: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t},\n\n\ttranslateY: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t},\n\n\ttranslateZ: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t},\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.getInverse( this.matrixWorld ) );\n\n\t},\n\n\tlookAt: function ( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tvar parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.inverse() );\n\n\t\t}\n\n\t},\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tattach: function ( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.getInverse( this.matrixWorld );\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix( _m1$1 );\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\t\t\tvar object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tthis.matrixWorld.decompose( _position, target, _scale );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldScale: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion$2, target );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t},\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tvar children = this.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tvar output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tvar object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isMesh && this.drawMode !== TrianglesDrawMode ) object.drawMode = this.drawMode;\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tvar parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tvar shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tvar shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tvar uuids = [];\n\n\t\t\t\tfor ( var i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tvar geometries = extractFromCache( meta.geometries );\n\t\t\tvar materials = extractFromCache( meta.materials );\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\t\t\tvar shapes = extractFromCache( meta.shapes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tvar child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Scene() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Scene';\n\n\tthis.background = null;\n\tthis.fog = null;\n\tthis.overrideMaterial = null;\n\n\tthis.autoUpdate = true; // checked by the renderer\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Scene,\n\n\tisScene: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nvar _points = [\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3()\n];\nvar _vector$2 = new Vector3();\n\n// triangle centered vertices\n\nvar _v0 = new Vector3();\nvar _v1$2 = new Vector3();\nvar _v2 = new Vector3();\n\n// triangle edge vectors\n\nvar _f0 = new Vector3();\nvar _f1 = new Vector3();\nvar _f2 = new Vector3();\n\nvar _center = new Vector3();\nvar _extents = new Vector3();\nvar _triangleNormal = new Vector3();\nvar _testAxis = new Vector3();\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\nObject.assign( Box3.prototype, {\n\n\tisBox3: true,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromArray: function ( array ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tvar x = array[ i ];\n\t\t\tvar y = array[ i + 1 ];\n\t\t\tvar z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromBufferAttribute: function ( attribute ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tvar x = attribute.getX( i );\n\t\t\tvar y = attribute.getY( i );\n\t\t\tvar z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function ( center, size ) {\n\n\t\tvar halfSize = _vector$2.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\texpandByObject: function ( object ) {\n\n\t\tvar i, l;\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\tfor ( i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\t_vector$2.copy( vertices[ i ] );\n\t\t\t\t\t_vector$2.applyMatrix4( object.matrixWorld );\n\n\t\t\t\t\tthis.expandByPoint( _vector$2 );\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar attribute = geometry.attributes.position;\n\n\t\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\t\tfor ( i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\t_vector$2.fromBufferAttribute( attribute, i ).applyMatrix4( object.matrixWorld );\n\n\t\t\t\t\t\tthis.expandByPoint( _vector$2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar children = object.children;\n\n\t\tfor ( i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$2 );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$2.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tvar min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t},\n\n\tintersectsTriangle: function ( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0.subVectors( triangle.a, _center );\n\t\t_v1$2.subVectors( triangle.b, _center );\n\t\t_v2.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$2, _v0 );\n\t\t_f1.subVectors( _v2, _v1$2 );\n\t\t_f2.subVectors( _v0, _v2 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tvar axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0, _v1$2, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0, _v1$2, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0, _v1$2, _v2, _extents );\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\tvar clampedPoint = _vector$2.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t},\n\n\tgetBoundingSphere: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t}\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$2 ).length() * 0.5;\n\n\t\treturn target;\n\n\t},\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tvar i, j;\n\n\tfor ( i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tvar r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tvar p0 = v0.dot( _testAxis );\n\t\tvar p1 = v1.dot( _testAxis );\n\t\tvar p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nvar _box = new Box3();\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points, optionalCenter ) {\n\n\t\tvar center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tvar maxRadiusSq = 0;\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\treturn ( this.radius <= 0 );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t},\n\n\tgetBoundingBox: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n} );\n\nvar _vector$3 = new Vector3();\nvar _segCenter = new Vector3();\nvar _segDir = new Vector3();\nvar _diff = new Vector3();\n\nvar _edge1 = new Vector3();\nvar _edge2 = new Vector3();\nvar _normal = new Vector3();\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3();\n\n}\n\nObject.assign( Ray.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\tlookAt: function ( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\trecast: function ( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tclosestPointToPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tvar directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t},\n\n\tdistanceSqToPoint: function ( point ) {\n\n\t\tvar directionDistance = _vector$3.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$3.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$3.distanceToSquared( point );\n\n\t},\n\n\tdistanceSqToSegment: function ( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tvar a01 = - this.direction.dot( _segDir );\n\t\tvar b0 = _diff.dot( this.direction );\n\t\tvar b1 = - _diff.dot( _segDir );\n\t\tvar c = _diff.lengthSq();\n\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\tvar s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t},\n\n\tintersectSphere: function ( sphere, target ) {\n\n\t\t_vector$3.subVectors( sphere.center, this.origin );\n\t\tvar tca = _vector$3.dot( this.direction );\n\t\tvar d2 = _vector$3.dot( _vector$3 ) - tca * tca;\n\t\tvar radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tvar thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tvar t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tvar t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t},\n\n\tintersectPlane: function ( plane, target ) {\n\n\t\tvar t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tintersectBox: function ( box, target ) {\n\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tvar invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tvar origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn this.intersectBox( box, _vector$3 ) !== null;\n\n\t},\n\n\tintersectTriangle: function ( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tvar DdN = this.direction.dot( _normal );\n\t\tvar sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tvar DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tvar QdN = - sign * _diff.dot( _normal );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t},\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _v0$1 = new Vector3();\nvar _v1$3 = new Vector3();\nvar _v2$1 = new Vector3();\nvar _v3 = new Vector3();\n\nvar _vab = new Vector3();\nvar _vac = new Vector3();\nvar _vbc = new Vector3();\nvar _vap = new Vector3();\nvar _vbp = new Vector3();\nvar _vcp = new Vector3();\n\nfunction Triangle( a, b, c ) {\n\n\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n}\n\nObject.assign( Triangle, {\n\n\tgetNormal: function ( a, b, c, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tvar targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t},\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tgetBarycoord: function ( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$1.subVectors( point, a );\n\n\t\tvar dot00 = _v0$1.dot( _v0$1 );\n\t\tvar dot01 = _v0$1.dot( _v1$3 );\n\t\tvar dot02 = _v0$1.dot( _v2$1 );\n\t\tvar dot11 = _v1$3.dot( _v1$3 );\n\t\tvar dot12 = _v1$3.dot( _v2$1 );\n\n\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tvar invDenom = 1 / denom;\n\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t},\n\n\tcontainsPoint: function ( point, a, b, c ) {\n\n\t\tTriangle.getBarycoord( point, a, b, c, _v3 );\n\n\t\treturn ( _v3.x >= 0 ) && ( _v3.y >= 0 ) && ( ( _v3.x + _v3.y ) <= 1 );\n\n\t},\n\n\tgetUV: function ( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3.x );\n\t\ttarget.addScaledVector( uv2, _v3.y );\n\t\ttarget.addScaledVector( uv3, _v3.z );\n\n\t\treturn target;\n\n\t},\n\n\tisFrontFacing: function ( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tset: function ( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t},\n\n\tgetArea: function () {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t},\n\n\tgetMidpoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t},\n\n\tgetNormal: function ( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t},\n\n\tgetPlane: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t},\n\n\tgetBarycoord: function ( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t},\n\n\tgetUV: function ( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t},\n\n\tisFrontFacing: function ( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t},\n\n\tclosestPointToPoint: function ( p, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tvar a = this.a, b = this.b, c = this.c;\n\t\tvar v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tvar d1 = _vab.dot( _vap );\n\t\tvar d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tvar d3 = _vab.dot( _vbp );\n\t\tvar d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tvar vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tvar d5 = _vab.dot( _vcp );\n\t\tvar d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tvar vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tvar va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tvar denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t},\n\n\tequals: function ( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nvar _hslA = { h: 0, s: 0, l: 0 };\nvar _hslB = { h: 0, s: 0, l: 0 };\n\nfunction Color( r, g, b ) {\n\n\tif ( g === undefined && b === undefined ) {\n\n\t\t// r is THREE.Color, hex or string\n\t\treturn this.set( r );\n\n\t}\n\n\treturn this.setRGB( r, g, b );\n\n}\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nObject.assign( Color.prototype, {\n\n\tisColor: true,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function ( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = _Math.euclideanModulo( h, 1 );\n\t\ts = _Math.clamp( s, 0, 1 );\n\t\tl = _Math.clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tvar q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetStyle: function ( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tvar color;\n\t\t\tvar name = m[ 1 ];\n\t\t\tvar components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tvar hex = m[ 1 ];\n\t\t\tvar size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\t// color keywords\n\t\t\tvar hex = _colorKeywords[ style ];\n\n\t\t\tif ( hex !== undefined ) {\n\n\t\t\t\t// red\n\t\t\t\tthis.setHex( hex );\n\n\t\t\t} else {\n\n\t\t\t\t// unknown color\n\t\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function ( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function ( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopySRGBToLinear: function ( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToSRGB: function ( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t},\n\n\tconvertSRGBToLinear: function () {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToSRGB: function () {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tvar max = Math.max( r, g, b );\n\t\tvar min = Math.min( r, g, b );\n\n\t\tvar hue, saturation;\n\t\tvar lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tvar delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function ( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpHSL: function ( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tvar h = _Math.lerp( _hslA.h, _hslB.h, alpha );\n\t\tvar s = _Math.lerp( _hslA.s, _hslB.s, alpha );\n\t\tvar l = _Math.lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn this.getHex();\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Face3( a, b, c, normal, color, materialIndex ) {\n\n\tthis.a = a;\n\tthis.b = b;\n\tthis.c = c;\n\n\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\tthis.color = ( color && color.isColor ) ? color : new Color();\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n}\n\nObject.assign( Face3.prototype, {\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\tthis.lights = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexTangents = false;\n\tthis.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.stencilFunc = AlwaysStencilFunc;\n\tthis.stencilRef = 0;\n\tthis.stencilMask = 0xff;\n\tthis.stencilFail = KeepStencilOp;\n\tthis.stencilZFail = KeepStencilOp;\n\tthis.stencilZPass = KeepStencilOp;\n\tthis.stencilWrite = false;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.toneMapped = true;\n\n\tthis.userData = {};\n\n\tthis.needsUpdate = true;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function () {},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( var key in values ) {\n\n\t\t\tvar newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\t\t\tdata.refractionRatio = this.refractionRatio;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\t\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilMask = this.stencilMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\t\tthis.lights = source.lights;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWrite = source.stencilWrite;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilMask = source.stencilMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tthis.clipShadows = source.clipShadows;\n\t\tthis.clipIntersection = source.clipIntersection;\n\n\t\tvar srcPlanes = source.clippingPlanes,\n\t\t\tdstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tvar n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( var i = 0; i !== n; ++ i )\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tonUploadCallback: function () {},\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.itemSize : 0;\n\t\tthis.array = array;\n\n\t\treturn this;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tvar color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectGeometry() {\n\n\tthis.vertices = [];\n\tthis.normals = [];\n\tthis.colors = [];\n\tthis.uvs = [];\n\tthis.uvs2 = [];\n\n\tthis.groups = [];\n\n\tthis.morphTargets = {};\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\t// this.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n\tcomputeGroups: function ( geometry ) {\n\n\t\tvar group;\n\t\tvar groups = [];\n\t\tvar materialIndex = undefined;\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tvar faces = geometry.faces;\n\t\tvar vertices = geometry.vertices;\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tvar morphTargets = geometry.morphTargets;\n\t\tvar morphTargetsLength = morphTargets.length;\n\n\t\tvar morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = {\n\t\t\t\t\tname: morphTargets[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tvar morphNormals = geometry.morphNormals;\n\t\tvar morphNormalsLength = morphNormals.length;\n\n\t\tvar morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = {\n\t\t\t\t\tname: morphNormals[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tvar skinIndices = geometry.skinIndices;\n\t\tvar skinWeights = geometry.skinWeights;\n\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\n\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tvar max = array[ 0 ];\n\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nvar _m1$2 = new Matrix4();\nvar _obj = new Object3D();\nvar _offset = new Vector3();\nvar _box$1 = new Box3();\nvar _boxMorphTargets = new Box3();\nvar _vector$4 = new Vector3();\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: _bufferGeometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n\tthis.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: BufferGeometry,\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t},\n\n\taddAttribute: function ( name, attribute ) {\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\treturn this.addAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tremoveAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tmatrix.applyToBufferAttribute( position );\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tvar normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormalMatrix.applyToBufferAttribute( normal );\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tvar tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\t// Tangent is vec4, but the '.w' component is a sign value (+1/-1).\n\t\t\tnormalMatrix.applyToBufferAttribute( tangent );\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$2.makeRotationX( angle );\n\n\t\tthis.applyMatrix( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$2.makeRotationY( angle );\n\n\t\tthis.applyMatrix( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$2.makeRotationZ( angle );\n\n\t\tthis.applyMatrix( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$2.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$2.makeScale( x, y, z );\n\n\t\tthis.applyMatrix( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix( _obj.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tvar positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tvar colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.addAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.addAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tvar lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.addAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tvar position = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.addAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tvar direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tvar attribute;\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.addAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.addAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.addAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.addAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.addAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( var name in geometry.morphTargets ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ i ];\n\n\t\t\t\tvar attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\n\t\t\t\tattribute.name = morphTarget.name;\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget.data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tvar skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tvar skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\t\tvar morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$1.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.min );\n\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.max );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\t\tvar morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t_box$1.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$1.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tvar maxRadiusSq = 0;\n\n\t\t\tfor ( var i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$4.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\n\t\t\t\t\tfor ( var j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$4.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tvar index = this.index;\n\t\tvar attributes = this.attributes;\n\n\t\tif ( attributes.position ) {\n\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( attributes.normal === undefined ) {\n\n\t\t\t\tthis.addAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tvar array = attributes.normal.array;\n\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\t\tarray[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar normals = attributes.normal.array;\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tvA = indices[ i + 0 ] * 3;\n\t\t\t\t\tvB = indices[ i + 1 ] * 3;\n\t\t\t\t\tvC = indices[ i + 2 ] * 3;\n\n\t\t\t\t\tpA.fromArray( positions, vA );\n\t\t\t\t\tpB.fromArray( positions, vB );\n\t\t\t\t\tpC.fromArray( positions, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ vA ] += cb.x;\n\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vB ] += cb.x;\n\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vC ] += cb.x;\n\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\n\t\t\t\t\tpA.fromArray( positions, i );\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ i ] = cb.x;\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tattributes.normal.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tvar attribute1 = attributes[ key ];\n\t\t\tvar attributeArray1 = attribute1.array;\n\n\t\t\tvar attribute2 = geometry.attributes[ key ];\n\t\t\tvar attributeArray2 = attribute2.array;\n\n\t\t\tvar attributeOffset = attribute2.itemSize * offset;\n\t\t\tvar length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( var i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tvar normals = this.attributes.normal;\n\n\t\tfor ( var i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$4.x = normals.getX( i );\n\t\t\t_vector$4.y = normals.getY( i );\n\t\t\t_vector$4.z = normals.getZ( i );\n\n\t\t\t_vector$4.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$4.x, _vector$4.y, _vector$4.z );\n\n\t\t}\n\n\t},\n\n\ttoNonIndexed: function () {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tvar array = attribute.array;\n\t\t\tvar itemSize = attribute.itemSize;\n\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tvar index = 0, index2 = 0;\n\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar geometry2 = new BufferGeometry();\n\n\t\tvar indices = this.index.array;\n\t\tvar attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( var name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\n\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.addAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = this.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar morphArray = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( var i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tvar attribute = morphAttribute[ i ];\n\n\t\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\t// groups\n\n\t\tvar groups = this.groups;\n\n\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tvar index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\n\t\t\tvar attributeData = attribute.toJSON();\n\n\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\tdata.data.attributes[ key ] = attributeData;\n\n\t\t}\n\n\t\tvar morphAttributes = {};\n\t\tvar hasMorphAttributes = false;\n\n\t\tfor ( var key in this.morphAttributes ) {\n\n\t\t\tvar attributeArray = this.morphAttributes[ key ];\n\n\t\t\tvar array = [];\n\n\t\t\tfor ( var i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tvar attribute = attributeArray[ i ];\n\n\t\t\t\tvar attributeData = attribute.toJSON();\n\n\t\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\t\tarray.push( attributeData );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) data.data.morphAttributes = morphAttributes;\n\n\t\tvar groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tvar boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar name, i, l;\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tvar index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone() );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tvar attributes = source.attributes;\n\n\t\tfor ( name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\t\t\tthis.addAttribute( name, attribute.clone() );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = source.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone() );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// groups\n\n\t\tvar groups = source.groups;\n\n\t\tfor ( i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nvar _inverseMatrix = new Matrix4();\nvar _ray = new Ray();\nvar _sphere = new Sphere();\n\nvar _vA = new Vector3();\nvar _vB = new Vector3();\nvar _vC = new Vector3();\n\nvar _tempA = new Vector3();\nvar _tempB = new Vector3();\nvar _tempC = new Vector3();\n\nvar _morphA = new Vector3();\nvar _morphB = new Vector3();\nvar _morphC = new Vector3();\n\nvar _uvA = new Vector2();\nvar _uvB = new Vector2();\nvar _uvC = new Vector2();\n\nvar _intersectionPoint = new Vector3();\nvar _intersectionPointWorld = new Vector3();\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial( { color: Math.random() * 0xffffff } );\n\n\tthis.drawMode = TrianglesDrawMode;\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tsetDrawMode: function ( value ) {\n\n\t\tthis.drawMode = value;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.drawMode = source.drawMode;\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar geometry = this.geometry;\n\t\tvar material = this.material;\n\t\tvar matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.getInverse( matrixWorld );\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tvar intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar a, b, c;\n\t\t\tvar index = geometry.index;\n\t\t\tvar position = geometry.attributes.position;\n\t\t\tvar morphPosition = geometry.morphAttributes.position;\n\t\t\tvar uv = geometry.attributes.uv;\n\t\t\tvar uv2 = geometry.attributes.uv2;\n\t\t\tvar groups = geometry.groups;\n\t\t\tvar drawRange = geometry.drawRange;\n\t\t\tvar i, j, il, jl;\n\t\t\tvar group, groupMaterial;\n\t\t\tvar start, end;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\ta = index.getX( i );\n\t\t\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\ta = j;\n\t\t\t\t\t\t\tb = j + 1;\n\t\t\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\tend = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\ta = i;\n\t\t\t\t\t\tb = i + 1;\n\t\t\t\t\t\tc = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar fvA, fvB, fvC;\n\t\t\tvar isMultiMaterial = Array.isArray( material );\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar faces = geometry.faces;\n\t\t\tvar uvs;\n\n\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\tvar face = faces[ f ];\n\t\t\t\tvar faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\tif ( faceMaterial === undefined ) continue;\n\n\t\t\t\tfvA = vertices[ face.a ];\n\t\t\t\tfvB = vertices[ face.b ];\n\t\t\t\tfvC = vertices[ face.c ];\n\n\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, _ray, fvA, fvB, fvC, _intersectionPoint );\n\n\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\tvar uvs_f = uvs[ f ];\n\t\t\t\t\t\t_uvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t_uvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t_uvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, fvA, fvB, fvC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tintersection.face = face;\n\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tvar intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tvar distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, uv, uv2, a, b, c ) {\n\n\t_vA.fromBufferAttribute( position, a );\n\t_vB.fromBufferAttribute( position, b );\n\t_vC.fromBufferAttribute( position, c );\n\n\tvar morphInfluences = object.morphTargetInfluences;\n\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( var i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tvar influence = morphInfluences[ i ];\n\t\t\tvar morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t}\n\n\t\t_vA.add( _morphA );\n\t\t_vB.add( _morphB );\n\t\t_vC.add( _morphC );\n\n\t}\n\n\tvar intersection = checkIntersection( object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv, a );\n\t\t\t_uvB.fromBufferAttribute( uv, b );\n\t\t\t_uvC.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv2, a );\n\t\t\t_uvB.fromBufferAttribute( uv2, b );\n\t\t\t_uvC.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tvar face = new Face3( a, b, c );\n\t\tTriangle.getNormal( _vA, _vB, _vC, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\n\nvar _geometryId = 0; // Geometry uses even numbers as Id\nvar _m1$3 = new Matrix4();\nvar _obj$1 = new Object3D();\nvar _offset$1 = new Vector3();\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: _geometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Geometry,\n\n\tisGeometry: true,\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$3.makeRotationX( angle );\n\n\t\tthis.applyMatrix( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$3.makeRotationY( angle );\n\n\t\tthis.applyMatrix( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$3.makeRotationZ( angle );\n\n\t\tthis.applyMatrix( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$3.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$3.makeScale( x, y, z );\n\n\t\tthis.applyMatrix( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj$1.lookAt( vector );\n\n\t\t_obj$1.updateMatrix();\n\n\t\tthis.applyMatrix( _obj$1.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tvar scope = this;\n\n\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\n\t\tvar attributes = geometry.attributes;\n\n\t\tvar positions = attributes.position.array;\n\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\n\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n\t\tif ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n\t\tfor ( var i = 0; i < positions.length; i += 3 ) {\n\n\t\t\tscope.vertices.push( new Vector3().fromArray( positions, i ) );\n\n\t\t\tif ( colors !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color().fromArray( colors, i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tvar vertexColors = ( colors === undefined ) ? [] : [\n\t\t\t\tscope.colors[ a ].clone(),\n\t\t\t\tscope.colors[ b ].clone(),\n\t\t\t\tscope.colors[ c ].clone() ];\n\n\t\t\tvar vertexNormals = ( normals === undefined ) ? [] : [\n\t\t\t\tnew Vector3().fromArray( normals, a * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, b * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, c * 3 )\n\t\t\t];\n\n\t\t\tvar face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uvs !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( uvs2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs2, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tvar start = group.start;\n\t\t\t\tvar count = group.count;\n\n\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0; i < positions.length / 3; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset$1 ).negate();\n\n\t\tthis.translate( _offset$1.x, _offset$1.y, _offset$1.z );\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tvar center = this.boundingSphere.center;\n\t\tvar radius = this.boundingSphere.radius;\n\n\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tvar matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tvar face = this.faces[ f ];\n\n\t\t\tvar vA = this.vertices[ face.a ];\n\t\t\tvar vB = this.vertices[ face.b ];\n\t\t\tvar vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\n\n\t\tvar v, vl, f, fl, face, vertices;\n\n\t\tvertices = new Array( this.vertices.length );\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvA = this.vertices[ face.a ];\n\t\t\t\tvB = this.vertices[ face.b ];\n\t\t\t\tvC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tvar f, fl, face;\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\tvar i, il, f, fl, face;\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tvar tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tfaceNormal = new Vector3();\n\t\t\t\t\tvertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar normalMatrix,\n\t\t\tvertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = vertices2[ i ];\n\n\t\t\tvar vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( var i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tfaceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( var i = 0, il = geometry.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs2 = geometry.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) this.faceVertexUvs[ i ] = [];\n\n\t\t\tfor ( var j = 0, jl = faceVertexUvs2.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs2 = faceVertexUvs2[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( var k = 0, kl = uvs2.length; k < kl; k ++ ) {\n\n\t\t\t\t\tuvsCopy.push( uvs2[ k ].clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( mesh.matrixAutoUpdate ) mesh.updateMatrix();\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tvar unique = [], changes = [];\n\n\t\tvar v, key;\n\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\tvar precision = Math.pow( 10, precisionPoints );\n\t\tvar i, il, face;\n\t\tvar indices, j, jl;\n\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tv = this.vertices[ i ];\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tvar faceIndicesToRemove = [];\n\n\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tface = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tindices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tvar idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tvar diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tvar faces = this.faces;\n\t\tvar length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\n\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tvar newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n\t\t}\n\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tvar vertices = [];\n\n\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tvar faces = [];\n\t\tvar normals = [];\n\t\tvar normalsHash = {};\n\t\tvar colors = [];\n\t\tvar colorsHash = {};\n\t\tvar uvs = [];\n\t\tvar uvsHash = {};\n\n\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\n\t\t\tvar hasMaterial = true;\n\t\t\tvar hasFaceUv = false; // deprecated\n\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tvar hasFaceNormal = face.normal.length() > 0;\n\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tvar faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tvar hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar i, il, j, jl, k, kl;\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tvar vertices = source.vertices;\n\n\t\tfor ( i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tvar colors = source.colors;\n\n\t\tfor ( i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tvar faces = source.faces;\n\n\t\tfor ( i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tvar uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphTargets = source.morphTargets;\n\n\t\tfor ( i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tvar morphNormals = source.morphNormals;\n\n\t\tfor ( i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tvar morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tvar destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tvar skinWeights = source.skinWeights;\n\n\t\tfor ( i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tvar skinIndices = source.skinIndices;\n\n\t\tfor ( i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tvar lineDistances = source.lineDistances;\n\n\t\tfor ( i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// BoxGeometry\n\nfunction BoxGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'BoxGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\tthis.mergeVertices();\n\n}\n\nBoxGeometry.prototype = Object.create( Geometry.prototype );\nBoxGeometry.prototype.constructor = BoxGeometry;\n\n// BoxBufferGeometry\n\nfunction BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'BoxBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tvar scope = this;\n\n\twidth = width || 1;\n\theight = height || 1;\n\tdepth = depth || 1;\n\n\t// segments\n\n\twidthSegments = Math.floor( widthSegments ) || 1;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\tdepthSegments = Math.floor( depthSegments ) || 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar numberOfVertices = 0;\n\tvar groupStart = 0;\n\n\t// build each side of the box geometry\n\n\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\tvar segmentWidth = width / gridX;\n\t\tvar segmentHeight = height / gridY;\n\n\t\tvar widthHalf = width / 2;\n\t\tvar heightHalf = height / 2;\n\t\tvar depthHalf = depth / 2;\n\n\t\tvar gridX1 = gridX + 1;\n\t\tvar gridY1 = gridY + 1;\n\n\t\tvar vertexCounter = 0;\n\t\tvar groupCount = 0;\n\n\t\tvar ix, iy;\n\n\t\tvar vector = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tvar y = iy * segmentHeight - heightHalf;\n\n\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tvar x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = 0;\n\t\t\t\tvector[ v ] = 0;\n\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// uvs\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t// counters\n\n\t\t\t\tvertexCounter += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\t// 1. you need three indices to draw a single face\n\t\t// 2. a single segment consists of two faces\n\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tvar a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\tvar b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\tvar c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tvar d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// increase counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t\t// update total number of vertices\n\n\t\tnumberOfVertices += vertexCounter;\n\n\t}\n\n}\n\nBoxBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nBoxBufferGeometry.prototype.constructor = BoxBufferGeometry;\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tvar dst = {};\n\n\tfor ( var u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( var p in src[ u ] ) {\n\n\t\t\tvar property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tvar merged = {};\n\n\tfor ( var u = 0; u < uniforms.length; u ++ ) {\n\n\t\tvar tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( var p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nvar UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = default_vertex;\n\tthis.fragmentShader = default_fragment;\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\tthis.uniformsNeedUpdate = false;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\tthis.defines = Object.assign( {}, source.defines );\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = source.extensions;\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tvar data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.uniforms = {};\n\n\tfor ( var name in this.uniforms ) {\n\n\t\tvar uniform = this.uniforms[ name ];\n\t\tvar value = uniform.value;\n\n\t\tif ( value && value.isTexture ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t};\n\n\t\t} else if ( value && value.isColor ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'c',\n\t\t\t\tvalue: value.getHex()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\tvalue: value\n\t\t\t};\n\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t}\n\n\t}\n\n\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\tvar extensions = {};\n\n\tfor ( var key in this.extensions ) {\n\n\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t}\n\n\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\treturn data;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\n\tthis.projectionMatrix = new Matrix4();\n\tthis.projectionMatrixInverse = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tvar vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = _Math.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tvar vExtentSlope = Math.tan( _Math.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn _Math.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   var w = 1920;\n\t *   var h = 1080;\n\t *   var fullWidth = w * 3;\n\t *   var fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar near = this.near,\n\t\t\ttop = near * Math.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom,\n\t\t\theight = 2 * top,\n\t\t\twidth = this.aspect * height,\n\t\t\tleft = - 0.5 * width,\n\t\t\tview = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tvar skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar fov = 90, aspect = 1;\n\nfunction CubeCamera( near, far, cubeResolution, options ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'CubeCamera';\n\n\tvar cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPX.up.set( 0, - 1, 0 );\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tvar cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNX.up.set( 0, - 1, 0 );\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tvar cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tvar cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNY.up.set( 0, 0, - 1 );\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\tthis.add( cameraNY );\n\n\tvar cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPZ.up.set( 0, - 1, 0 );\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tvar cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNZ.up.set( 0, - 1, 0 );\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\tthis.add( cameraNZ );\n\n\toptions = options || { format: RGBFormat, magFilter: LinearFilter, minFilter: LinearFilter };\n\n\tthis.renderTarget = new WebGLRenderTargetCube( cubeResolution, cubeResolution, options );\n\tthis.renderTarget.texture.name = \"CubeCamera\";\n\n\tthis.update = function ( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar renderTarget = this.renderTarget;\n\t\tvar generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n\tthis.clear = function ( renderer, color, depth, stencil ) {\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar renderTarget = this.renderTarget;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( renderTarget, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\n/**\n * @author alteredq / http://alteredqualia.com\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n}\n\nWebGLRenderTargetCube.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;\n\nWebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;\n\nWebGLRenderTargetCube.prototype.fromEquirectangularTexture = function ( renderer, texture ) {\n\n\tthis.texture.type = texture.type;\n\tthis.texture.format = texture.format;\n\tthis.texture.encoding = texture.encoding;\n\n\tvar scene = new Scene();\n\n\tvar shader = {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: [\n\n\t\t\t\"varying vec3 vWorldDirection;\",\n\n\t\t\t\"vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\",\n\n\t\t\t\"\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\",\n\n\t\t\t\"}\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvWorldDirection = transformDirection( position, modelMatrix );\",\n\n\t\t\t\"\t#include <begin_vertex>\",\n\t\t\t\"\t#include <project_vertex>\",\n\n\t\t\t\"}\"\n\n\t\t].join( '\\n' ),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform sampler2D tEquirect;\",\n\n\t\t\t\"varying vec3 vWorldDirection;\",\n\n\t\t\t\"#define RECIPROCAL_PI 0.31830988618\",\n\t\t\t\"#define RECIPROCAL_PI2 0.15915494\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvec3 direction = normalize( vWorldDirection );\",\n\n\t\t\t\"\tvec2 sampleUV;\",\n\n\t\t\t\"\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\",\n\n\t\t\t\"\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\",\n\n\t\t\t\"\tgl_FragColor = texture2D( tEquirect, sampleUV );\",\n\n\t\t\t\"}\"\n\n\t\t].join( '\\n' ),\n\t};\n\n\tvar material = new ShaderMaterial( {\n\n\t\ttype: 'CubemapFromEquirect',\n\n\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\tvertexShader: shader.vertexShader,\n\t\tfragmentShader: shader.fragmentShader,\n\t\tside: BackSide,\n\t\tblending: NoBlending\n\n\t} );\n\n\tmaterial.uniforms.tEquirect.value = texture;\n\n\tvar mesh = new Mesh( new BoxBufferGeometry( 5, 5, 5 ), material );\n\n\tscene.add( mesh );\n\n\tvar camera = new CubeCamera( 1, 10, 1 );\n\n\tcamera.renderTarget = this;\n\tcamera.renderTarget.texture.name = 'CubeCameraTexture';\n\n\tcamera.update( renderer, scene );\n\n\tmesh.geometry.dispose();\n\tmesh.material.dispose();\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data, width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\n/**\n * @author bhouston / http://clara.io\n */\n\nvar _vector1 = new Vector3();\nvar _vector2 = new Vector3();\nvar _normalMatrix = new Matrix3();\n\nfunction Plane( normal, constant ) {\n\n\t// normal is assumed to be normalized\n\n\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n}\n\nObject.assign( Plane.prototype, {\n\n\tisPlane: true,\n\n\tset: function ( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponents: function ( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCoplanarPoints: function ( a, b, c ) {\n\n\t\tvar normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t},\n\n\tdistanceToSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t},\n\n\tprojectPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t},\n\n\tintersectLine: function ( line, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tvar direction = line.delta( _vector1 );\n\n\t\tvar denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t},\n\n\tintersectsLine: function ( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tvar startSign = this.distanceToPoint( line.start );\n\t\tvar endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t},\n\n\tcoplanarPoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t},\n\n\tapplyMatrix4: function ( matrix, optionalNormalMatrix ) {\n\n\t\tvar normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tvar referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\n\nvar _sphere$1 = new Sphere();\nvar _vector$5 = new Vector3();\n\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\n\n\tthis.planes = [\n\n\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t];\n\n}\n\nObject.assign( Frustum.prototype, {\n\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tvar planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( frustum ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix: function ( m ) {\n\n\t\tvar planes = this.planes;\n\t\tvar me = m.elements;\n\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\tintersectsObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t},\n\n\tintersectsSprite: function ( sprite ) {\n\n\t\t_sphere$1.center.set( 0, 0, 0 );\n\t\t_sphere$1.radius = 0.7071067811865476;\n\t\t_sphere$1.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar planes = this.planes;\n\t\tvar center = sphere.center;\n\t\tvar negRadius = - sphere.radius;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$5.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$5.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$5.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$5 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n} );\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha  = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = normalMatrix * objectNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = normalMatrix * objectTangent;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lights_pars_begin = \"uniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t  vec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = saturate( clearcoat );\\tmaterial.clearcoatRoughness = clamp( clearcoatRoughness, 0.04, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\tgl_Position.z *= gl_Position.w;\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#ifdef USE_MAP\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\";\n\nvar map_particle_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform mat3 uvTransform;\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\t#ifdef USE_TANGENT\\n\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, normalScale, normalMap );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec2 normalScale, in sampler2D normalMap ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy *= normalScale;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvec3 NfromST = cross( S, T );\\n\\t\\t\\tif( dot( NfromST, N ) > 0.0 ) {\\n\\t\\t\\t\\tS *= -1.0;\\n\\t\\t\\t\\tT *= -1.0;\\n\\t\\t\\t}\\n\\t\\t#else\\n\\t\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\t#ifdef USE_TANGENT\\n\\t\\tmat3 vTBN = mat3( tangent, bitangent, clearcoatNormal );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = clearcoatNormalScale * mapN.xy;\\n\\t\\tclearcoatNormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatNormalScale, clearcoatNormalMap );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_normalmap_pars_fragment = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 encodeHalfRGBA ( vec2 v ) {\\n\\tvec4 encoded = vec4( 0.0 );\\n\\tconst vec2 offset = vec2( 1.0 / 255.0, 0.0 );\\n\\tencoded.xy = vec2( v.x, fract( v.x * 255.0 ) );\\n\\tencoded.xy = encoded.xy - ( encoded.yy * offset );\\n\\tencoded.zw = vec2( v.y, fract( v.y * 255.0 ) );\\n\\tencoded.zw = encoded.zw - ( encoded.ww * offset );\\n\\treturn encoded;\\n}\\nvec2 decodeHalfRGBA( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn decodeHalfRGBA( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n\\t#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n}\";\n\nvar uv_pars_fragment = \"#ifdef USE_UV\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\tvarying vec2 vUv;\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\nvoid main() {\\n\\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSPARENCY\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSPARENCY\\n\\tuniform float transparency;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSPARENCY\\n\\t\\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_normalmap_pars_fragment: clearcoat_normalmap_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nvar UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nvar ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 0.5 },\n\t\t\t\tmetalness: { value: 0.5 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: {\n\t\t\ttCube: { value: null },\n\t\t\ttFlip: { value: - 1 },\n\t\t\topacity: { value: 1.0 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\ttransparency: { value: 0 },\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tsheen: { value: new Color( 0x000000 ) },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAnimation() {\n\n\tvar context = null;\n\tvar isAnimating = false;\n\tvar animationLoop = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tif ( isAnimating === false ) return;\n\n\t\tanimationLoop( time, frame );\n\n\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAttributes( gl ) {\n\n\tvar buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar usage = attribute.dynamic ? 35048 : 35044;\n\n\t\tvar buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tvar type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\ttype = 5123;\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( attribute.dynamic === false ) {\n\n\t\t\tgl.bufferData( bufferType, array, 35044 );\n\n\t\t} else if ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else if ( updateRange.count === 0 ) {\n\n\t\t\tconsole.error( 'THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.' );\n\n\t\t} else {\n\n\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PlaneGeometry\n\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PlaneGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\tthis.mergeVertices();\n\n}\n\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\nPlaneGeometry.prototype.constructor = PlaneGeometry;\n\n// PlaneBufferGeometry\n\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PlaneBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\twidth = width || 1;\n\theight = height || 1;\n\n\tvar width_half = width / 2;\n\tvar height_half = height / 2;\n\n\tvar gridX = Math.floor( widthSegments ) || 1;\n\tvar gridY = Math.floor( heightSegments ) || 1;\n\n\tvar gridX1 = gridX + 1;\n\tvar gridY1 = gridY + 1;\n\n\tvar segment_width = width / gridX;\n\tvar segment_height = height / gridY;\n\n\tvar ix, iy;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\tvar y = iy * segment_height - height_half;\n\n\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\tvar x = ix * segment_width - width_half;\n\n\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\tuvs.push( ix / gridX );\n\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\tvar a = ix + gridX1 * iy;\n\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBackground( renderer, state, objects, premultipliedAlpha ) {\n\n\tvar clearColor = new Color( 0x000000 );\n\tvar clearAlpha = 0;\n\n\tvar planeMesh;\n\tvar boxMesh;\n\t// Store the current background texture and its `version`\n\t// so we can recompile the material accordingly.\n\tvar currentBackground = null;\n\tvar currentBackgroundVersion = 0;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tvar background = scene.background;\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tvar vr = renderer.vr;\n\t\tvar session = vr.getSession && vr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\t\t\tcurrentBackground = null;\n\t\t\tcurrentBackgroundVersion = 0;\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\t\t\tcurrentBackground = null;\n\t\t\tcurrentBackgroundVersion = 0;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.isWebGLRenderTargetCube ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.removeAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.removeAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.tCube.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tvar texture = background.isWebGLRenderTargetCube ? background.texture : background;\n\t\t\tboxMesh.material.uniforms.tCube.value = texture;\n\t\t\tboxMesh.material.uniforms.tFlip.value = ( background.isWebGLRenderTargetCube ) ? 1 : - 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t     currentBackgroundVersion !== texture.version ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = texture.version;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.removeAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\t   currentBackgroundVersion !== background.version ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension, methodName;\n\n\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, geometry.maxInstancedCount );\n\n\t\tinfo.update( count, mode, geometry.maxInstancedCount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tvar maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\tvar isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext;\n\n\tvar precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tvar maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tvar logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tvar maxTextures = gl.getParameter( 34930 );\n\tvar maxVertexTextures = gl.getParameter( 35660 );\n\tvar maxTextureSize = gl.getParameter( 3379 );\n\tvar maxCubemapSize = gl.getParameter( 34076 );\n\n\tvar maxAttributes = gl.getParameter( 34921 );\n\tvar maxVertexUniforms = gl.getParameter( 36347 );\n\tvar maxVaryings = gl.getParameter( 36348 );\n\tvar maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tvar vertexTextures = maxVertexTextures > 0;\n\tvar floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\n\tvar floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tvar maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\n/**\n * @author tschw\n */\n\nfunction WebGLClipping() {\n\n\tvar scope = this,\n\n\t\tglobalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false,\n\n\t\tplane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tvar enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4,\n\n\t\t\t\tdstArray = cache.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\n\n\t\t\tfor ( var i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tcache.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tvar nPlanes = planes !== null ? planes.length : 0,\n\t\t\tdstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tvar flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLExtensions( gl ) {\n\n\tvar extensions = {};\n\n\treturn {\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ];\n\n\t\t\t}\n\n\t\t\tvar extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLGeometries( gl, attributes, info ) {\n\n\tvar geometries = new WeakMap();\n\tvar wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tvar geometry = event.target;\n\t\tvar buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( var name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries.delete( geometry );\n\n\t\tvar attribute = wireframeAttributes.get( buffergeometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( buffergeometry );\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tvar buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry ) return buffergeometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries.set( geometry, buffergeometry );\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tvar index = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tfor ( var name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( var name in morphAttributes ) {\n\n\t\t\tvar array = morphAttributes[ name ];\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tvar indices = [];\n\n\t\tvar geometryIndex = geometry.index;\n\t\tvar geometryPosition = geometry.attributes.position;\n\t\tvar version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tvar array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tvar a = array[ i + 0 ];\n\t\t\t\tvar b = array[ i + 1 ];\n\t\t\t\tvar c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tvar a = i + 0;\n\t\t\t\tvar b = i + 1;\n\t\t\t\tvar c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\tattributes.update( attribute, 34963 );\n\n\t\t//\n\n\t\tvar previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tvar currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tvar geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tvar type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension, methodName;\n\n\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, geometry.maxInstancedCount );\n\n\t\tinfo.update( count, mode, geometry.maxInstancedCount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLInfo( gl ) {\n\n\tvar memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tvar render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\tinstanceCount = instanceCount || 1;\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 5:\n\t\t\tcase 6:\n\t\t\t\trender.triangles += instanceCount * ( count - 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tvar influencesList = {};\n\tvar morphInfluences = new Float32Array( 8 );\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tvar objectInfluences = object.morphTargetInfluences;\n\n\t\tvar length = objectInfluences.length;\n\n\t\tvar influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\tvar morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tvar morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\t// Remove current morphAttributes\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence[ 1 ] !== 0 ) {\n\n\t\t\t\tif ( morphTargets ) geometry.removeAttribute( 'morphTarget' + i );\n\t\t\t\tif ( morphNormals ) geometry.removeAttribute( 'morphNormal' + i );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\t// Add morphAttributes\n\n\t\tfor ( var i = 0; i < 8; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence ) {\n\n\t\t\t\tvar index = influence[ 0 ];\n\t\t\t\tvar value = influence[ 1 ];\n\n\t\t\t\tif ( value ) {\n\n\t\t\t\t\tif ( morphTargets ) geometry.addAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\t\t\t\t\tif ( morphNormals ) geometry.addAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t}\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLObjects( geometries, info ) {\n\n\tvar updateList = {};\n\n\tfunction update( object ) {\n\n\t\tvar frame = info.render.frame;\n\n\t\tvar geometry = object.geometry;\n\t\tvar buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateList[ buffergeometry.id ] !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateList[ buffergeometry.id ] = frame;\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateList = {};\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\tformat = format !== undefined ? format : RGBFormat;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\n/**\n * @author Takahiro https://github.com/takahirox\n */\n\nfunction DataTexture2DArray( data, width, height, depth ) {\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data, width: width, height: height, depth: depth };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n}\n\nDataTexture2DArray.prototype = Object.create( Texture.prototype );\nDataTexture2DArray.prototype.constructor = DataTexture2DArray;\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\n/**\n * @author Artur Trzesiok\n */\n\nfunction DataTexture3D( data, width, height, depth ) {\n\n\t// We're going to add .setXXX() methods for setting properties later.\n\t// Users can still set in DataTexture3D directly.\n\t//\n\t//\tvar texture = new THREE.DataTexture3D( data, width, height, depth );\n\t// \ttexture.anisotropy = 16;\n\t//\n\t// See #14839\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data, width: width, height: height, depth: depth };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n}\n\nDataTexture3D.prototype = Object.create( Texture.prototype );\nDataTexture3D.prototype.constructor = DataTexture3D;\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * @author tschw\n * @author Mugen87 / https://github.com/Mugen87\n * @author mrdoob / http://mrdoob.com/\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nvar emptyTexture = new Texture();\nvar emptyTexture2dArray = new DataTexture2DArray();\nvar emptyTexture3d = new DataTexture3D();\nvar emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nvar arrayCacheF32 = [];\nvar arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nvar mat4array = new Float32Array( 16 );\nvar mat3array = new Float32Array( 9 );\nvar mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tvar firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tvar n = nBlocks * blockSize,\n\t\tr = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( var i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( var i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tvar r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i )\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValueV1i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\nfunction setValueV2i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x8b5e: case 0x8d66: return setValueT1; // SAMPLER_2D, SAMPLER_EXTERNAL_OES\n\t\tcase 0x8b5f: return setValueT3D1; // SAMPLER_3D\n\t\tcase 0x8b60: return setValueT6; // SAMPLER_CUBE\n\t\tcase 0x8DC1: return setValueT2DArray1; // SAMPLER_2D_ARRAY\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t}\n\n}\n\n// Array of scalars\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x8b5e: return setValueT1Array; // SAMPLER_2D\n\t\tcase 0x8b60: return setValueT6Array; // SAMPLER_CUBE\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tvar cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tvar seq = this.seq;\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tvar path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tvar match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex,\n\n\t\t\tid = match[ 1 ],\n\t\t\tidIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tvar map = container.map, next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tvar n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( var i = 0; i < n; ++ i ) {\n\n\t\tvar info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tvar u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tvar v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tvar r = [];\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShader( gl, type, string ) {\n\n\tvar shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tvar lines = string.split( '\\n' );\n\n\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported encoding: ' + encoding );\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tvar status = gl.getShaderParameter( shader, 35713 );\n\tvar log = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && log === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\tvar source = gl.getShaderSource( shader );\n\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tvar toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase Uncharted2ToneMapping:\n\t\t\ttoneMappingName = 'Uncharted2';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported toneMapping: ' + toneMapping );\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( extensions, parameters, rendererExtensions ) {\n\n\textensions = extensions || {};\n\n\tvar chunks = [\n\t\t( extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( extensions.fragDepth || parameters.logarithmicDepthBuffer ) && rendererExtensions.get( 'EXT_frag_depth' ) ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( extensions.drawBuffers ) && rendererExtensions.get( 'WEBGL_draw_buffers' ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( extensions.shaderTextureLOD || parameters.envMap ) && rendererExtensions.get( 'EXT_shader_texture_lod' ) ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tvar chunks = [];\n\n\tfor ( var name in defines ) {\n\n\t\tvar value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tvar attributes = {};\n\n\tvar n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( var i = 0; i < n; i ++ ) {\n\n\t\tvar info = gl.getActiveAttrib( program, i );\n\t\tvar name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\nfunction parseIncludes( string ) {\n\n\tvar pattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\n\tfunction replace( match, include ) {\n\n\t\tvar replace = ShaderChunk[ include ];\n\n\t\tif ( replace === undefined ) {\n\n\t\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t\t}\n\n\t\treturn parseIncludes( replace );\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction unrollLoops( string ) {\n\n\tvar pattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\n\tfunction replace( match, start, end, snippet ) {\n\n\t\tvar unroll = '';\n\n\t\tfor ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\t\tunroll += snippet\n\t\t\t\t.replace( /\\[ i \\]/g, '[ ' + i + ' ]' )\n\t\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t\t}\n\n\t\treturn unroll;\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction WebGLProgram( renderer, extensions, code, material, shader, parameters, capabilities ) {\n\n\tvar gl = renderer.getContext();\n\n\tvar defines = material.defines;\n\n\tvar vertexShader = shader.vertexShader;\n\tvar fragmentShader = shader.fragmentShader;\n\n\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t\tcase EquirectangularReflectionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n\t\t\t\tbreak;\n\n\t\t\tcase SphericalReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\t// console.log( 'building new program ' );\n\n\t//\n\n\tvar customExtensions = capabilities.isWebGL2 ? '' : generateExtensions( material.extensions, parameters, extensions );\n\n\tvar customDefines = generateDefines( defines );\n\n\t//\n\n\tvar program = gl.createProgram();\n\n\tvar prefixVertex, prefixFragment;\n\n\tif ( material.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t( parameters.precision === 'highp' ) ? '#define HIGH_PRECISION' : '',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && ( capabilities.isWebGL2 || extensions.get( 'EXT_frag_depth' ) ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t( parameters.precision === 'highp' ) ? '#define HIGH_PRECISION' : '',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && ( capabilities.isWebGL2 || extensions.get( 'EXT_frag_depth' ) ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( material.extensions ? material.extensions.shaderTextureLOD : false ) || parameters.envMap ) && ( capabilities.isWebGL2 || extensions.get( 'EXT_shader_texture_lod' ) ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\t( parameters.outputEncoding || parameters.mapEncoding || parameters.matcapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding ) ?\n\t\t\t\tShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcapEncoding ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.outputEncoding ? getTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ) : '',\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + material.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = parseIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = parseIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( capabilities.isWebGL2 && ! material.isRawShaderMaterial ) {\n\n\t\tvar isGLSL3ShaderMaterial = false;\n\n\t\tvar versionRegex = /^\\s*#version\\s+300\\s+es\\s*\\n/;\n\n\t\tif ( material.isShaderMaterial &&\n\t\t\tvertexShader.match( versionRegex ) !== null &&\n\t\t\tfragmentShader.match( versionRegex ) !== null ) {\n\n\t\t\tisGLSL3ShaderMaterial = true;\n\n\t\t\tvertexShader = vertexShader.replace( versionRegex, '' );\n\t\t\tfragmentShader = fragmentShader.replace( versionRegex, '' );\n\n\t\t}\n\n\t\t// GLSL 3.0 conversion\n\t\tprefixVertex = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define varying in',\n\t\t\tisGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\tisGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tvar vertexGlsl = prefixVertex + vertexShader;\n\tvar fragmentGlsl = prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tvar glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tvar glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( material.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, material.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tvar programLog = gl.getProgramInfoLog( program ).trim();\n\t\tvar vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tvar runnable = true;\n\t\tvar haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tvar vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tvar fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\t\t\t\tmaterial: material,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// clean up\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tvar cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tvar cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = shader.name;\n\tthis.id = programIdCount ++;\n\tthis.code = code;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLPrograms( renderer, extensions, capabilities ) {\n\n\tvar programs = [];\n\n\tvar shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'phong',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tvar parameterNames = [\n\t\t\"precision\", \"supportsVertexTextures\", \"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\",\n\t\t\"lightMap\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"tangentSpaceNormalMap\", \"clearcoatNormalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"vertexTangents\", \"fog\", \"useFog\", \"fogExp2\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\",\n\t\t\"sheen\"\n\t];\n\n\n\tfunction allocateBones( object ) {\n\n\t\tvar skeleton = object.skeleton;\n\t\tvar bones = skeleton.bones;\n\n\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tvar nVertexUniforms = capabilities.maxVertexUniforms;\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tvar maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map, gammaOverrideLinear ) {\n\n\t\tvar encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\t// add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\n\t\tif ( encoding === LinearEncoding && gammaOverrideLinear ) {\n\n\t\t\tencoding = GammaEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tthis.getParameters = function ( material, lights, shadows, fog, nClipPlanes, nClipIntersection, object ) {\n\n\t\tvar shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tvar maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\n\t\tvar precision = capabilities.precision;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar parameters = {\n\n\t\t\tshaderID: shaderID,\n\n\t\t\tprecision: precision,\n\t\t\tsupportsVertexTextures: capabilities.vertexTextures,\n\t\t\toutputEncoding: getTextureEncodingFromMap( ( ! currentRenderTarget ) ? null : currentRenderTarget.texture, renderer.gammaOutput ),\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map, renderer.gammaInput ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap, renderer.gammaInput ),\n\t\t\tenvMap: !! material.envMap,\n\t\t\tenvMapMode: material.envMap && material.envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( material.envMap, renderer.gammaInput ),\n\t\t\tenvMapCubeUV: ( !! material.envMap ) && ( ( material.envMap.mapping === CubeUVReflectionMapping ) || ( material.envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap, renderer.gammaInput ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: !! material.sheen,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: capabilities.floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: nClipPlanes,\n\t\t\tnumClipIntersection: nClipIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false\n\n\t\t};\n\n\t\treturn parameters;\n\n\t};\n\n\tthis.getProgramCode = function ( material, parameters ) {\n\n\t\tvar array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( material.fragmentShader );\n\t\t\tarray.push( material.vertexShader );\n\n\t\t}\n\n\t\tif ( material.defines !== undefined ) {\n\n\t\t\tfor ( var name in material.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( material.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t}\n\n\t\tarray.push( material.onBeforeCompile.toString() );\n\n\t\tarray.push( renderer.gammaOutput );\n\n\t\tarray.push( renderer.gammaFactor );\n\n\t\treturn array.join();\n\n\t};\n\n\tthis.acquireProgram = function ( material, shader, parameters, code ) {\n\n\t\tvar program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tvar programInfo = programs[ p ];\n\n\t\t\tif ( programInfo.code === code ) {\n\n\t\t\t\tprogram = programInfo;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, extensions, code, material, shader, parameters, capabilities );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t};\n\n\tthis.releaseProgram = function ( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tvar i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t};\n\n\t// Exposed for resource monitoring & error feedback via renderer.info:\n\tthis.programs = programs;\n\n}\n\n/**\n * @author fordacious / fordacious.github.io\n */\n\nfunction WebGLProperties() {\n\n\tvar properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tvar map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tvar renderItems = [];\n\tvar renderItemsIndex = 0;\n\n\tvar opaque = [];\n\tvar transparent = [];\n\n\tvar defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: material.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = material.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort() {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( reversePainterSortStable );\n\n\t}\n\n\treturn {\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tvar lists = new WeakMap();\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\tlists.delete( scene );\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar cameras = lists.get( scene );\n\t\tvar list;\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists.set( scene, new WeakMap() );\n\t\t\tlists.get( scene ).set( camera, list );\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tlist = cameras.get( camera );\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tcameras.set( camera, list );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction UniformsCache() {\n\n\tvar lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tvar uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nvar nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights() {\n\n\tvar cache = new UniformsCache();\n\n\tvar state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1,\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\tpoint: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: [],\n\n\t\tnumDirectionalShadows: - 1,\n\t\tnumPointShadows: - 1,\n\t\tnumSpotShadows: - 1\n\n\t};\n\n\tfor ( var i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tvar vector3 = new Vector3();\n\tvar matrix4 = new Matrix4();\n\tvar matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tvar r = 0, g = 0, b = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tvar directionalLength = 0;\n\t\tvar pointLength = 0;\n\t\tvar spotLength = 0;\n\t\tvar rectAreaLength = 0;\n\t\tvar hemiLength = 0;\n\n\t\tvar numDirectionalShadows = 0;\n\t\tvar numPointShadows = 0;\n\t\tvar numSpotShadows = 0;\n\n\t\tvar viewMatrix = camera.matrixWorldInverse;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\tfor ( var i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\n\t\t\tvar color = light.color;\n\t\t\tvar intensity = light.intensity;\n\t\t\tvar distance = light.distance;\n\n\t\t\tvar shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( var j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tuniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tuniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tvar hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLRenderState() {\n\n\tvar lights = new WebGLLights();\n\n\tvar lightsArray = [];\n\tvar shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( camera ) {\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t}\n\n\tvar state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates() {\n\n\tvar renderStates = new WeakMap();\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\trenderStates.delete( scene );\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState();\n\t\t\trenderStates.set( scene, new WeakMap() );\n\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tif ( renderStates.get( scene ).has( camera ) === false ) {\n\n\t\t\t\trenderState = new WebGLRenderState();\n\t\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene ).get( camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n  float mean = 0.0;\\n  float squared_mean = 0.0;\\n  \\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n    #ifdef HORIZONAL_PASS\\n      vec2 distribution = decodeHalfRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n      mean += distribution.x;\\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n    #else\\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\\n      mean += depth;\\n      squared_mean += depth * depth;\\n    #endif\\n  }\\n  mean = mean * HALF_SAMPLE_RATE;\\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\\n  float std_dev = pow( squared_mean - mean * mean, 0.5 );\\n  gl_FragColor = encodeHalfRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tvar _frustum = new Frustum(),\n\n\t\t_shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_MorphingFlag = 1,\n\t\t_SkinningFlag = 2,\n\n\t\t_NumberOfMaterialVariants = ( _MorphingFlag | _SkinningFlag ) + 1,\n\n\t\t_depthMaterials = new Array( _NumberOfMaterialVariants ),\n\t\t_distanceMaterials = new Array( _NumberOfMaterialVariants ),\n\n\t\t_materialCache = {};\n\n\tvar shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tvar shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\n\t\t},\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tvar shadowMaterialHorizonal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizonal.defines.HORIZONAL_PASS = 1;\n\n\tvar fullScreenTri = new BufferGeometry();\n\tfullScreenTri.addAttribute(\n\t\t\"position\",\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tvar fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\t// init\n\n\tfor ( var i = 0; i !== _NumberOfMaterialVariants; ++ i ) {\n\n\t\tvar useMorphing = ( i & _MorphingFlag ) !== 0;\n\t\tvar useSkinning = ( i & _SkinningFlag ) !== 0;\n\n\t\tvar depthMaterial = new MeshDepthMaterial( {\n\n\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_depthMaterials[ i ] = depthMaterial;\n\n\t\tvar distanceMaterial = new MeshDistanceMaterial( {\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_distanceMaterials[ i ] = distanceMaterial;\n\n\t}\n\n\tvar scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tvar currentRenderTarget = _renderer.getRenderTarget();\n\t\tvar activeCubeFace = _renderer.getActiveCubeFace();\n\t\tvar activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tvar _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\t\t\tvar shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tvar shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > maxTextureSize || _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has shadow exceeding max texture size, reducing' );\n\n\t\t\t\tif ( _shadowMapSize.x > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tvar pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tvar pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tvar viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( var vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tvar viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, camera, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tvar geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizonal pass\n\n\t\tshadowMaterialHorizonal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizonal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizonal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizonal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterial( object, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tvar result = null;\n\n\t\tvar materialVariants = _depthMaterials;\n\t\tvar customMaterial = object.customDepthMaterial;\n\n\t\tif ( light.isPointLight ) {\n\n\t\t\tmaterialVariants = _distanceMaterials;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( ! customMaterial ) {\n\n\t\t\tvar useMorphing = false;\n\n\t\t\tif ( material.morphTargets ) {\n\n\t\t\t\tif ( geometry && geometry.isBufferGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t\t} else if ( geometry && geometry.isGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( object.isSkinnedMesh && material.skinning === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t}\n\n\t\t\tvar useSkinning = object.isSkinnedMesh && material.skinning;\n\n\t\t\tvar variantIndex = 0;\n\n\t\t\tif ( useMorphing ) variantIndex |= _MorphingFlag;\n\t\t\tif ( useSkinning ) variantIndex |= _SkinningFlag;\n\n\t\t\tresult = materialVariants[ variantIndex ];\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tvar keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tvar materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tvar cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide != null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide != null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight && result.isMeshDistanceMaterial ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tvar geometry = _objects.update( object );\n\t\t\t\tvar material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tvar group = groups[ k ];\n\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLState( gl, extensions, utils, capabilities ) {\n\n\tfunction ColorBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar color = new Vector4();\n\t\tvar currentColorMask = null;\n\t\tvar currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentDepthMask = null;\n\t\tvar currentDepthFunc = null;\n\t\tvar currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentStencilMask = null;\n\t\tvar currentStencilFunc = null;\n\t\tvar currentStencilRef = null;\n\t\tvar currentStencilFuncMask = null;\n\t\tvar currentStencilFail = null;\n\t\tvar currentStencilZFail = null;\n\t\tvar currentStencilZPass = null;\n\t\tvar currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef \t!== stencilRef \t||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail\t !== stencilFail \t||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tvar colorBuffer = new ColorBuffer();\n\tvar depthBuffer = new DepthBuffer();\n\tvar stencilBuffer = new StencilBuffer();\n\n\tvar maxVertexAttributes = gl.getParameter( 34921 );\n\tvar newAttributes = new Uint8Array( maxVertexAttributes );\n\tvar enabledAttributes = new Uint8Array( maxVertexAttributes );\n\tvar attributeDivisors = new Uint8Array( maxVertexAttributes );\n\n\tvar enabledCapabilities = {};\n\n\tvar compressedTextureFormats = null;\n\n\tvar currentProgram = null;\n\n\tvar currentBlendingEnabled = null;\n\tvar currentBlending = null;\n\tvar currentBlendEquation = null;\n\tvar currentBlendSrc = null;\n\tvar currentBlendDst = null;\n\tvar currentBlendEquationAlpha = null;\n\tvar currentBlendSrcAlpha = null;\n\tvar currentBlendDstAlpha = null;\n\tvar currentPremultipledAlpha = false;\n\n\tvar currentFlipSided = null;\n\tvar currentCullFace = null;\n\n\tvar currentLineWidth = null;\n\n\tvar currentPolygonOffsetFactor = null;\n\tvar currentPolygonOffsetUnits = null;\n\n\tvar maxTextures = gl.getParameter( 35661 );\n\n\tvar lineWidthAvailable = false;\n\tvar version = 0;\n\tvar glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL\\ ES\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tvar currentTextureSlot = null;\n\tvar currentBoundTextures = {};\n\n\tvar currentScissor = new Vector4();\n\tvar currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tvar data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tvar texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tvar emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction initAttributes() {\n\n\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tvar extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tfor ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction getCompressedTextureFormats() {\n\n\t\tif ( compressedTextureFormats === null ) {\n\n\t\t\tcompressedTextureFormats = [];\n\n\t\t\tif ( extensions.get( 'WEBGL_compressed_texture_pvrtc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_s3tc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_etc1' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_astc' ) ) {\n\n\t\t\t\tvar formats = gl.getParameter( 34467 );\n\n\t\t\t\tfor ( var i = 0; i < formats.length; i ++ ) {\n\n\t\t\t\t\tcompressedTextureFormats.push( formats[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn compressedTextureFormats;\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( ! currentBlendingEnabled ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( utils.convert( blendEquation ), utils.convert( blendEquationAlpha ) );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( utils.convert( blendSrc ), utils.convert( blendDst ), utils.convert( blendSrcAlpha ), utils.convert( blendDstAlpha ) );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tvar flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tvar stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] === 1 ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tenabledCapabilities = {};\n\n\t\tcompressedTextureFormats = null;\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlending = null;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tenableAttributeAndDivisor: enableAttributeAndDivisor,\n\t\tdisableUnusedAttributes: disableUnusedAttributes,\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tgetCompressedTextureFormats: getCompressedTextureFormats,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tvar _videoTextures = new WeakMap();\n\tvar _canvas;\n\n\t//\n\n\tvar useOffscreenCanvas = typeof OffscreenCanvas !== 'undefined';\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tvar scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tvar floor = needsPowerOfTwo ? _Math.floorPowerOfTwo : Math.floor;\n\n\t\t\t\tvar width = floor( scale * image.width );\n\t\t\t\tvar height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tvar canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn _Math.isPowerOfTwo( image.width ) && _Math.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( capabilities.isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\t// Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n\t\ttextureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\n\n\t}\n\n\tfunction getInternalFormat( glFormat, glType ) {\n\n\t\tif ( ! capabilities.isWebGL2 ) return glFormat;\n\n\t\tvar internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t} else if ( internalFormat === 34843 || internalFormat === 34837 ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tvar texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tvar renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tvar textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tvar textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= capabilities.maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tvar image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tinitTexture( textureProperties, texture );\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\n\t\t\tvar isCompressed = ( texture && texture.isCompressedTexture );\n\t\t\tvar isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\tvar cubeImage = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, capabilities.maxCubemapSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar image = cubeImage[ 0 ],\n\t\t\t\tsupportsMips = isPowerOfTwo( image ) || capabilities.isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tvar mipmaps;\n\n\t\t\tif ( isCompressed ) {\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\n\t\t\t\t\t\t\tvar mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t} else {\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t}\n\n\t}\n\n\tfunction setTextureCubeDynamic( texture, slot ) {\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, properties.get( texture ).__webglTexture );\n\n\t}\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tvar extension;\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, utils.convert( texture.wrapS ) );\n\t\t\t_gl.texParameteri( textureType, 10243, utils.convert( texture.wrapT ) );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, utils.convert( texture.wrapR ) );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, utils.convert( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, utils.convert( texture.minFilter ) );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\textension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\tif ( texture.type === HalfFloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) return;\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tvar textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\n\t\tvar needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\n\t\tvar image = resizeImage( texture.image, needsPowerOfTwo, false, capabilities.maxTextureSize );\n\n\t\tvar supportsMips = isPowerOfTwo( image ) || capabilities.isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tvar mipmap, mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\tif ( ! capabilities.isWebGL2 ) throw new Error( 'Float Depth Texture only supported in WebGL2.0' );\n\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t} else if ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2.0 requires signed internalformat for glTexImage2D\n\t\t\t\tglInternalFormat = 33189;\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\tif ( texture.format === DepthStencilFormat ) {\n\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( 3553, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 33189, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 33189, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tvar isCube = ( renderTarget && renderTarget.isWebGLRenderTargetCube );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tvar webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfo.memory.textures ++;\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\t\tvar isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || capabilities.isWebGL2;\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\t\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\t\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, renderTarget.texture, supportsMips );\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else {\n\n\t\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 3553, renderTarget.texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553 );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tvar texture = renderTarget.texture;\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || capabilities.isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tvar target = renderTarget.isWebGLRenderTargetCube ? 34067 : 3553;\n\t\t\tvar webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\t_gl.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t_gl.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\tvar width = renderTarget.width;\n\t\t\t\tvar height = renderTarget.height;\n\t\t\t\tvar mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( capabilities.isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( capabilities.maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tvar frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tvar warnedTexture2D = false;\n\tvar warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTargetCube ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\t// currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n\t\t// TODO: unify these code paths\n\t\tif ( ( texture && texture.isCubeTexture ) ||\n\t\t\t( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\n\t\t\t// CompressedTexture can have Array in image :/\n\n\t\t\t// this function alone should take care of cube textures\n\t\t\tsetTextureCube( texture, slot );\n\n\t\t} else {\n\n\t\t\t// assumed: texture property of THREE.WebGLRenderTargetCube\n\t\t\tsetTextureCubeDynamic( texture, slot );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setTextureCubeDynamic = setTextureCubeDynamic;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\n/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tfunction convert( p ) {\n\n\t\tvar extension;\n\n\t\tif ( p === RepeatWrapping ) return 10497;\n\t\tif ( p === ClampToEdgeWrapping ) return 33071;\n\t\tif ( p === MirroredRepeatWrapping ) return 33648;\n\n\t\tif ( p === NearestFilter ) return 9728;\n\t\tif ( p === NearestMipmapNearestFilter ) return 9984;\n\t\tif ( p === NearestMipmapLinearFilter ) return 9986;\n\n\t\tif ( p === LinearFilter ) return 9729;\n\t\tif ( p === LinearMipmapNearestFilter ) return 9985;\n\t\tif ( p === LinearMipmapLinearFilter ) return 9987;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) return extension.HALF_FLOAT_OES;\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\tif ( p === AddEquation ) return 32774;\n\t\tif ( p === SubtractEquation ) return 32778;\n\t\tif ( p === ReverseSubtractEquation ) return 32779;\n\n\t\tif ( p === ZeroFactor ) return 0;\n\t\tif ( p === OneFactor ) return 1;\n\t\tif ( p === SrcColorFactor ) return 768;\n\t\tif ( p === OneMinusSrcColorFactor ) return 769;\n\t\tif ( p === SrcAlphaFactor ) return 770;\n\t\tif ( p === OneMinusSrcAlphaFactor ) return 771;\n\t\tif ( p === DstAlphaFactor ) return 772;\n\t\tif ( p === OneMinusDstAlphaFactor ) return 773;\n\n\t\tif ( p === DstColorFactor ) return 774;\n\t\tif ( p === OneMinusDstColorFactor ) return 775;\n\t\tif ( p === SrcAlphaSaturateFactor ) return 776;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) return extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn p;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === MinEquation || p === MaxEquation ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tif ( p === MinEquation ) return 32775;\n\t\t\t\tif ( p === MaxEquation ) return 32776;\n\n\t\t\t}\n\n\t\t\textension = extensions.get( 'EXT_blend_minmax' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === MinEquation ) return extension.MIN_EXT;\n\t\t\t\tif ( p === MaxEquation ) return extension.MAX_EXT;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) return extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t}\n\n\t\treturn 0;\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group,\n\n\tisGroup: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ArrayCamera( array ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\n/**\n * @author jsantell / https://www.jsantell.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar cameraLPos = new Vector3();\nvar cameraRPos = new Vector3();\n\n/**\n * Assumes 2 cameras that are parallel and share an X-axis, and that\n * the cameras' projection and world matrices have already been set.\n * And that near and far planes are identical for both cameras.\n * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n */\nfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\tvar ipd = cameraLPos.distanceTo( cameraRPos );\n\n\tvar projL = cameraL.projectionMatrix.elements;\n\tvar projR = cameraR.projectionMatrix.elements;\n\n\t// VR systems will have identical far and near planes, and\n\t// most likely identical top and bottom frustum extents.\n\t// Use the left camera for these values.\n\tvar near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\tvar far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\tvar topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\tvar bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\tvar leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\tvar rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\tvar left = near * leftFov;\n\tvar right = near * rightFov;\n\n\t// Calculate the new camera's position offset from the\n\t// left camera. xOffset should be roughly half `ipd`.\n\tvar zOffset = ipd / ( - leftFov + rightFov );\n\tvar xOffset = zOffset * - leftFov;\n\n\t// TODO: Better way to apply this offset?\n\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\tcamera.translateX( xOffset );\n\tcamera.translateZ( zOffset );\n\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t// Find the union of the frustum values of the cameras and scale\n\t// the values so that the near plane's position does not change in world space,\n\t// although must now be relative to the new union camera.\n\tvar near2 = near + zOffset;\n\tvar far2 = far + zOffset;\n\tvar left2 = left - xOffset;\n\tvar right2 = right + ( ipd - xOffset );\n\tvar top2 = topFov * far / far2 * near2;\n\tvar bottom2 = bottomFov * far / far2 * near2;\n\n\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebVRManager( renderer ) {\n\n\tvar renderWidth, renderHeight;\n\tvar scope = this;\n\n\tvar device = null;\n\tvar frameData = null;\n\n\tvar poseTarget = null;\n\n\tvar controllers = [];\n\tvar standingMatrix = new Matrix4();\n\tvar standingMatrixInverse = new Matrix4();\n\n\tvar framebufferScaleFactor = 1.0;\n\n\tvar referenceSpaceType = 'local-floor';\n\n\tif ( typeof window !== 'undefined' && 'VRFrameData' in window ) {\n\n\t\tframeData = new window.VRFrameData();\n\t\twindow.addEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange, false );\n\n\t}\n\n\tvar matrixWorldInverse = new Matrix4();\n\tvar tempQuaternion = new Quaternion();\n\tvar tempPosition = new Vector3();\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.viewport = new Vector4();\n\tcameraL.layers.enable( 1 );\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.viewport = new Vector4();\n\tcameraR.layers.enable( 2 );\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\t//\n\n\tfunction isPresenting() {\n\n\t\treturn device !== null && device.isPresenting === true;\n\n\t}\n\n\tvar currentSize = new Vector2(), currentPixelRatio;\n\n\tfunction onVRDisplayPresentChange() {\n\n\t\tif ( isPresenting() ) {\n\n\t\t\tvar eyeParameters = device.getEyeParameters( 'left' );\n\t\t\trenderWidth = 2 * eyeParameters.renderWidth * framebufferScaleFactor;\n\t\t\trenderHeight = eyeParameters.renderHeight * framebufferScaleFactor;\n\n\t\t\tcurrentPixelRatio = renderer.getPixelRatio();\n\t\t\trenderer.getSize( currentSize );\n\n\t\t\trenderer.setDrawingBufferSize( renderWidth, renderHeight, 1 );\n\n\t\t\tcameraL.viewport.set( 0, 0, renderWidth / 2, renderHeight );\n\t\t\tcameraR.viewport.set( renderWidth / 2, 0, renderWidth / 2, renderHeight );\n\n\t\t\tanimation.start();\n\n\t\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t\t} else {\n\n\t\t\tif ( scope.enabled ) {\n\n\t\t\t\trenderer.setDrawingBufferSize( currentSize.width, currentSize.height, currentPixelRatio );\n\n\t\t\t}\n\n\t\t\tanimation.stop();\n\n\t\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tvar triggers = [];\n\n\tfunction findGamepad( id ) {\n\n\t\tvar gamepads = navigator.getGamepads && navigator.getGamepads();\n\n\t\tfor ( var i = 0, j = 0, l = gamepads.length; i < l; i ++ ) {\n\n\t\t\tvar gamepad = gamepads[ i ];\n\n\t\t\tif ( gamepad && ( gamepad.id === 'Daydream Controller' ||\n\t\t\t\tgamepad.id === 'Gear VR Controller' || gamepad.id === 'Oculus Go Controller' ||\n\t\t\t\tgamepad.id === 'OpenVR Gamepad' || gamepad.id.startsWith( 'Oculus Touch' ) ||\n\t\t\t\tgamepad.id.startsWith( 'HTC Vive Focus' ) ||\n\t\t\t\tgamepad.id.startsWith( 'Spatial Controller' ) ) ) {\n\n\t\t\t\tif ( j === id ) return gamepad;\n\n\t\t\t\tj ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateControllers() {\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar gamepad = findGamepad( i );\n\n\t\t\tif ( gamepad !== undefined && gamepad.pose !== undefined ) {\n\n\t\t\t\tif ( gamepad.pose === null ) return;\n\n\t\t\t\t// Pose\n\n\t\t\t\tvar pose = gamepad.pose;\n\n\t\t\t\tif ( pose.hasPosition === false ) controller.position.set( 0.2, - 0.6, - 0.05 );\n\n\t\t\t\tif ( pose.position !== null ) controller.position.fromArray( pose.position );\n\t\t\t\tif ( pose.orientation !== null ) controller.quaternion.fromArray( pose.orientation );\n\t\t\t\tcontroller.matrix.compose( controller.position, controller.quaternion, controller.scale );\n\t\t\t\tcontroller.matrix.premultiply( standingMatrix );\n\t\t\t\tcontroller.matrix.decompose( controller.position, controller.quaternion, controller.scale );\n\t\t\t\tcontroller.matrixWorldNeedsUpdate = true;\n\t\t\t\tcontroller.visible = true;\n\n\t\t\t\t// Trigger\n\n\t\t\t\tvar buttonId = gamepad.id === 'Daydream Controller' ? 0 : 1;\n\n\t\t\t\tif ( triggers[ i ] === undefined ) triggers[ i ] = false;\n\n\t\t\t\tif ( triggers[ i ] !== gamepad.buttons[ buttonId ].pressed ) {\n\n\t\t\t\t\ttriggers[ i ] = gamepad.buttons[ buttonId ].pressed;\n\n\t\t\t\t\tif ( triggers[ i ] === true ) {\n\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'selectstart' } );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'selectend' } );\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'select' } );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tcontroller.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateViewportFromBounds( viewport, bounds ) {\n\n\t\tif ( bounds !== null && bounds.length === 4 ) {\n\n\t\t\tviewport.set( bounds[ 0 ] * renderWidth, bounds[ 1 ] * renderHeight, bounds[ 2 ] * renderWidth, bounds[ 3 ] * renderHeight );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new Group();\n\t\t\tcontroller.matrixAutoUpdate = false;\n\t\t\tcontroller.visible = false;\n\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\treturn controller;\n\n\t};\n\n\tthis.getDevice = function () {\n\n\t\treturn device;\n\n\t};\n\n\tthis.setDevice = function ( value ) {\n\n\t\tif ( value !== undefined ) device = value;\n\n\t\tanimation.setContext( value );\n\n\t};\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t};\n\n\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\treferenceSpaceType = value;\n\n\t};\n\n\tthis.setPoseTarget = function ( object ) {\n\n\t\tif ( object !== undefined ) poseTarget = object;\n\n\t};\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tvar userHeight = referenceSpaceType === 'local-floor' ? 1.6 : 0;\n\n\t\tif ( isPresenting() === false ) {\n\n\t\t\tcamera.position.set( 0, userHeight, 0 );\n\t\t\tcamera.rotation.set( 0, 0, 0 );\n\n\t\t\treturn camera;\n\n\t\t}\n\n\t\tdevice.depthNear = camera.near;\n\t\tdevice.depthFar = camera.far;\n\n\t\tdevice.getFrameData( frameData );\n\n\t\t//\n\n\t\tif ( referenceSpaceType === 'local-floor' ) {\n\n\t\t\tvar stageParameters = device.stageParameters;\n\n\t\t\tif ( stageParameters ) {\n\n\t\t\t\tstandingMatrix.fromArray( stageParameters.sittingToStandingTransform );\n\n\t\t\t} else {\n\n\t\t\t\tstandingMatrix.makeTranslation( 0, userHeight, 0 );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar pose = frameData.pose;\n\t\tvar poseObject = poseTarget !== null ? poseTarget : camera;\n\n\t\t// We want to manipulate poseObject by its position and quaternion components since users may rely on them.\n\t\tposeObject.matrix.copy( standingMatrix );\n\t\tposeObject.matrix.decompose( poseObject.position, poseObject.quaternion, poseObject.scale );\n\n\t\tif ( pose.orientation !== null ) {\n\n\t\t\ttempQuaternion.fromArray( pose.orientation );\n\t\t\tposeObject.quaternion.multiply( tempQuaternion );\n\n\t\t}\n\n\t\tif ( pose.position !== null ) {\n\n\t\t\ttempQuaternion.setFromRotationMatrix( standingMatrix );\n\t\t\ttempPosition.fromArray( pose.position );\n\t\t\ttempPosition.applyQuaternion( tempQuaternion );\n\t\t\tposeObject.position.add( tempPosition );\n\n\t\t}\n\n\t\tposeObject.updateMatrixWorld();\n\n\t\t//\n\n\t\tcameraL.near = camera.near;\n\t\tcameraR.near = camera.near;\n\n\t\tcameraL.far = camera.far;\n\t\tcameraR.far = camera.far;\n\n\t\tcameraL.matrixWorldInverse.fromArray( frameData.leftViewMatrix );\n\t\tcameraR.matrixWorldInverse.fromArray( frameData.rightViewMatrix );\n\n\t\t// TODO (mrdoob) Double check this code\n\n\t\tstandingMatrixInverse.getInverse( standingMatrix );\n\n\t\tif ( referenceSpaceType === 'local-floor' ) {\n\n\t\t\tcameraL.matrixWorldInverse.multiply( standingMatrixInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( standingMatrixInverse );\n\n\t\t}\n\n\t\tvar parent = poseObject.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tmatrixWorldInverse.getInverse( parent.matrixWorld );\n\n\t\t\tcameraL.matrixWorldInverse.multiply( matrixWorldInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( matrixWorldInverse );\n\n\t\t}\n\n\t\t// envMap and Mirror needs camera.matrixWorld\n\n\t\tcameraL.matrixWorld.getInverse( cameraL.matrixWorldInverse );\n\t\tcameraR.matrixWorld.getInverse( cameraR.matrixWorldInverse );\n\n\t\tcameraL.projectionMatrix.fromArray( frameData.leftProjectionMatrix );\n\t\tcameraR.projectionMatrix.fromArray( frameData.rightProjectionMatrix );\n\n\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t//\n\n\t\tvar layers = device.getLayers();\n\n\t\tif ( layers.length ) {\n\n\t\t\tvar layer = layers[ 0 ];\n\n\t\t\tupdateViewportFromBounds( cameraL.viewport, layer.leftBounds );\n\t\t\tupdateViewportFromBounds( cameraR.viewport, layer.rightBounds );\n\n\t\t}\n\n\t\tupdateControllers();\n\n\t\treturn cameraVR;\n\n\t};\n\n\tthis.getStandingMatrix = function () {\n\n\t\treturn standingMatrix;\n\n\t};\n\n\tthis.isPresenting = isPresenting;\n\n\t// Animation Loop\n\n\tvar animation = new WebGLAnimation();\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tanimation.setAnimationLoop( callback );\n\n\t\tif ( isPresenting() ) animation.start();\n\n\t};\n\n\tthis.submitFrame = function () {\n\n\t\tif ( isPresenting() ) device.submitFrame();\n\n\t};\n\n\tthis.dispose = function () {\n\n\t\tif ( typeof window !== 'undefined' ) {\n\n\t\t\twindow.removeEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange );\n\n\t\t}\n\n\t};\n\n\t// DEPRECATED\n\n\tthis.setFrameOfReferenceType = function () {\n\n\t\tconsole.warn( 'THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.' );\n\n\t};\n\n}\n\nObject.assign( WebVRManager.prototype, EventDispatcher.prototype );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebXRManager( renderer, gl ) {\n\n\tvar scope = this;\n\n\tvar session = null;\n\n\tvar referenceSpace = null;\n\tvar referenceSpaceType = 'local-floor';\n\n\tvar pose = null;\n\n\tvar controllers = [];\n\tvar inputSources = [];\n\n\tfunction isPresenting() {\n\n\t\treturn session !== null && referenceSpace !== null;\n\n\t}\n\n\t//\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.layers.enable( 1 );\n\tcameraL.viewport = new Vector4();\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.layers.enable( 2 );\n\tcameraR.viewport = new Vector4();\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new Group();\n\t\t\tcontroller.matrixAutoUpdate = false;\n\t\t\tcontroller.visible = false;\n\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\treturn controller;\n\n\t};\n\n\t//\n\n\tfunction onSessionEvent( event ) {\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tif ( inputSources[ i ] === event.inputSource ) {\n\n\t\t\t\tcontrollers[ i ].dispatchEvent( { type: event.type } );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction onSessionEnd() {\n\n\t\trenderer.setFramebuffer( null );\n\t\trenderer.setRenderTarget( renderer.getRenderTarget() ); // Hack #15830\n\t\tanimation.stop();\n\n\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t}\n\n\tfunction onRequestReferenceSpace( value ) {\n\n\t\treferenceSpace = value;\n\n\t\tanimation.setContext( session );\n\t\tanimation.start();\n\n\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t}\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t};\n\n\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\treferenceSpaceType = value;\n\n\t};\n\n\tthis.getSession = function () {\n\n\t\treturn session;\n\n\t};\n\n\tthis.setSession = function ( value ) {\n\n\t\tsession = value;\n\n\t\tif ( session !== null ) {\n\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\n\t\t\tsession.updateRenderState( { baseLayer: new XRWebGLLayer( session, gl ) } );\n\n\t\t\tsession.requestReferenceSpace( referenceSpaceType ).then( onRequestReferenceSpace );\n\n\t\t\t//\n\n\t\t\tinputSources = session.inputSources;\n\n\t\t\tsession.addEventListener( 'inputsourceschange', function () {\n\n\t\t\t\tinputSources = session.inputSources;\n\t\t\t\tconsole.log( inputSources );\n\n\t\t\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\t\tvar controller = controllers[ i ];\n\t\t\t\t\tcontroller.userData.inputSource = inputSources[ i ];\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t};\n\n\tfunction updateCamera( camera, parent ) {\n\n\t\tif ( parent === null ) {\n\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t} else {\n\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t}\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t}\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tif ( isPresenting() ) {\n\n\t\t\tvar parent = camera.parent;\n\t\t\tvar cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( var i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\t// update camera and its children\n\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\t\tvar children = camera.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\treturn cameraVR;\n\n\t\t}\n\n\t\treturn camera;\n\n\t};\n\n\tthis.isPresenting = isPresenting;\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\tif ( pose !== null ) {\n\n\t\t\tvar views = pose.views;\n\t\t\tvar baseLayer = session.renderState.baseLayer;\n\n\t\t\trenderer.setFramebuffer( baseLayer.framebuffer );\n\n\t\t\tfor ( var i = 0; i < views.length; i ++ ) {\n\n\t\t\t\tvar view = views[ i ];\n\t\t\t\tvar viewport = baseLayer.getViewport( view );\n\t\t\t\tvar viewMatrix = view.transform.inverse.matrix;\n\n\t\t\t\tvar camera = cameraVR.cameras[ i ];\n\t\t\t\tcamera.matrix.fromArray( viewMatrix ).getInverse( camera.matrix );\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar inputSource = inputSources[ i ];\n\n\t\t\tif ( inputSource ) {\n\n\t\t\t\tvar inputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\tcontroller.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\tcontroller.matrix.decompose( controller.position, controller.rotation, controller.scale );\n\t\t\t\t\tcontroller.visible = true;\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tcontroller.visible = false;\n\n\t\t}\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\n\t};\n\n\tthis.dispose = function () {};\n\n\t// DEPRECATED\n\n\tthis.getStandingMatrix = function () {\n\n\t\tconsole.warn( 'THREE.WebXRManager: getStandingMatrix() is no longer needed.' );\n\t\treturn new Matrix4();\n\n\t};\n\n\tthis.getDevice = function () {\n\n\t\tconsole.warn( 'THREE.WebXRManager: getDevice() has been deprecated.' );\n\n\t};\n\n\tthis.setDevice = function () {\n\n\t\tconsole.warn( 'THREE.WebXRManager: setDevice() has been deprecated.' );\n\n\t};\n\n\tthis.setFrameOfReferenceType = function () {\n\n\t\tconsole.warn( 'THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.' );\n\n\t};\n\n\tthis.submitFrame = function () {};\n\n}\n\nObject.assign( WebXRManager.prototype, EventDispatcher.prototype );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\n\nfunction WebGLRenderer( parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tvar currentRenderList = null;\n\tvar currentRenderState = null;\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.gammaInput = false;\n\tthis.gammaOutput = false;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = LinearToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\tthis.toneMappingWhitePoint = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tvar _this = this,\n\n\t\t_isContextLost = false,\n\n\t\t// internal state cache\n\n\t\t_framebuffer = null,\n\n\t\t_currentActiveCubeFace = 0,\n\t\t_currentActiveMipmapLevel = 0,\n\t\t_currentRenderTarget = null,\n\t\t_currentFramebuffer = null,\n\t\t_currentMaterialId = - 1,\n\n\t\t// geometry and program caching\n\n\t\t_currentGeometryProgram = {\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false\n\t\t},\n\n\t\t_currentCamera = null,\n\t\t_currentArrayCamera = null,\n\n\t\t_currentViewport = new Vector4(),\n\t\t_currentScissor = new Vector4(),\n\t\t_currentScissorTest = null,\n\n\t\t//\n\n\t\t_width = _canvas.width,\n\t\t_height = _canvas.height,\n\n\t\t_pixelRatio = 1,\n\n\t\t_viewport = new Vector4( 0, 0, _width, _height ),\n\t\t_scissor = new Vector4( 0, 0, _width, _height ),\n\t\t_scissorTest = false,\n\n\t\t// frustum\n\n\t\t_frustum = new Frustum(),\n\n\t\t// clipping\n\n\t\t_clipping = new WebGLClipping(),\n\t\t_clippingEnabled = false,\n\t\t_localClippingEnabled = false,\n\n\t\t// camera matrices cache\n\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_vector3 = new Vector3();\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tvar _gl;\n\n\ttry {\n\n\t\tvar contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat,\n\t\t\txrCompatible: true\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\t_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tvar extensions, capabilities, state, info;\n\tvar properties, textures, attributes, geometries, objects;\n\tvar programCache, renderLists, renderStates;\n\n\tvar background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tvar utils;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tif ( ! capabilities.isWebGL2 ) {\n\n\t\t\textensions.get( 'WEBGL_depth_texture' );\n\t\t\textensions.get( 'OES_texture_float' );\n\t\t\textensions.get( 'OES_texture_half_float' );\n\t\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\t\textensions.get( 'OES_standard_derivatives' );\n\t\t\textensions.get( 'OES_element_index_uint' );\n\t\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t}\n\n\t\textensions.get( 'OES_texture_float_linear' );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, utils, capabilities );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tattributes = new WebGLAttributes( _gl );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info );\n\t\tobjects = new WebGLObjects( geometries, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tprogramCache = new WebGLPrograms( _this, extensions, capabilities );\n\t\trenderLists = new WebGLRenderLists();\n\t\trenderStates = new WebGLRenderStates();\n\n\t\tbackground = new WebGLBackground( _this, state, objects, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// vr\n\n\tvar vr = ( typeof navigator !== 'undefined' && 'xr' in navigator && 'supportsSession' in navigator.xr ) ? new WebXRManager( _this, _gl ) : new WebVRManager( _this );\n\n\tthis.vr = vr;\n\n\t// shadow map\n\n\tvar shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( vr.isPresenting() ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\n\n\t\t\ttarget = new Vector4();\n\n\t\t}\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tvar bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tobjects.dispose();\n\n\t\tvr.dispose();\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tvar material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tvar programInfo = properties.get( material ).program;\n\n\t\tmaterial.program = undefined;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tstate.initAttributes();\n\n\t\tvar buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, fog, geometry, material, object, group ) {\n\n\t\tvar frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\tvar program = setProgram( camera, fog, material, object );\n\n\t\tvar updateBuffers = false;\n\n\t\tif ( _currentGeometryProgram.geometry !== geometry.id ||\n\t\t\t_currentGeometryProgram.program !== program.id ||\n\t\t\t_currentGeometryProgram.wireframe !== ( material.wireframe === true ) ) {\n\n\t\t\t_currentGeometryProgram.geometry = geometry.id;\n\t\t\t_currentGeometryProgram.program = program.id;\n\t\t\t_currentGeometryProgram.wireframe = material.wireframe === true;\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\t//\n\n\t\tvar index = geometry.index;\n\t\tvar position = geometry.attributes.position;\n\t\tvar rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tvar attribute;\n\t\tvar renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t_gl.bindBuffer( 34963, attribute.buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar dataCount = Infinity;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdataCount = index.count;\n\n\t\t} else if ( position !== undefined ) {\n\n\t\t\tdataCount = position.count;\n\n\t\t}\n\n\t\tvar rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tvar rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tvar groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tvar groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tvar drawStart = Math.max( rangeStart, groupStart );\n\t\tvar drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( object.drawMode ) {\n\n\t\t\t\t\tcase TrianglesDrawMode:\n\t\t\t\t\t\trenderer.setMode( 4 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleStripDrawMode:\n\t\t\t\t\t\trenderer.setMode( 5 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleFanDrawMode:\n\t\t\t\t\t\trenderer.setMode( 6 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tvar lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry ) {\n\n\t\t\tif ( geometry.maxInstancedCount > 0 ) {\n\n\t\t\t\trenderer.renderInstances( geometry, drawStart, drawCount );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\tfunction setupVertexAttributes( material, program, geometry ) {\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry && ! capabilities.isWebGL2 ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.initAttributes();\n\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( var name in programAttributes ) {\n\n\t\t\tvar programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tvar normalized = geometryAttribute.normalized;\n\t\t\t\t\tvar size = geometryAttribute.itemSize;\n\n\t\t\t\t\tvar attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\t\t\t\t\tvar bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tvar data = geometryAttribute.data;\n\t\t\t\t\t\tvar stride = data.stride;\n\t\t\t\t\t\tvar offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t}\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.material ) {\n\n\t\t\t\tif ( Array.isArray( object.material ) ) {\n\n\t\t\t\t\tfor ( var i = 0; i < object.material.length; i ++ ) {\n\n\t\t\t\t\t\tinitMaterial( object.material[ i ], scene.fog, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinitMaterial( object.material, scene.fog, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( vr.isPresenting() ) return;\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\tvr.setAnimationLoop( callback );\n\n\t\tanimation.start();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tvar renderTarget, forceClear;\n\n\t\tif ( arguments[ 2 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\n\t\t\trenderTarget = arguments[ 2 ];\n\n\t\t}\n\n\t\tif ( arguments[ 3 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\n\t\t\tforceClear = arguments[ 3 ];\n\n\t\t}\n\n\t\tif ( ! ( camera && camera.isCamera ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost ) return;\n\n\t\t// reset caching for this frame\n\n\t\t_currentGeometryProgram.geometry = null;\n\t\t_currentGeometryProgram.program = null;\n\t\t_currentGeometryProgram.wireframe = false;\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tcamera = vr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort();\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled ) _clipping.beginShadows();\n\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tif ( _clippingEnabled ) _clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset ) this.info.reset();\n\n\t\tif ( renderTarget !== undefined ) {\n\n\t\t\tthis.setRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tvar opaqueObjects = currentRenderList.opaque;\n\t\tvar transparentObjects = currentRenderList.transparent;\n\n\t\tif ( scene.overrideMaterial ) {\n\n\t\t\tvar overrideMaterial = scene.overrideMaterial;\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera, overrideMaterial );\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera, overrideMaterial );\n\n\t\t} else {\n\n\t\t\t// opaque pass (front-to-back order)\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera );\n\n\t\t\t// transparent pass (back-to-front order)\n\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera );\n\n\t\t}\n\n\t\t//\n\n\t\tscene.onAfterRender( _this, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tvr.submitFrame();\n\n\t\t}\n\n\t\t// _gl.finish();\n\n\t\tcurrentRenderList = null;\n\t\tcurrentRenderState = null;\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\tobject.skeleton.update();\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tvar group = groups[ i ];\n\t\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera, overrideMaterial ) {\n\n\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tvar renderItem = renderList[ i ];\n\n\t\t\tvar object = renderItem.object;\n\t\t\tvar geometry = renderItem.geometry;\n\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n\t\t\tvar group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tvar cameras = camera.cameras;\n\n\t\t\t\tfor ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\tcurrentRenderState.setupLights( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tvar program = setProgram( camera, scene.fog, material, object );\n\n\t\t\t_currentGeometryProgram.geometry = null;\n\t\t\t_currentGeometryProgram.program = null;\n\t\t\t_currentGeometryProgram.wireframe = false;\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene.fog, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t}\n\n\tfunction initMaterial( material, fog, object ) {\n\n\t\tvar materialProperties = properties.get( material );\n\n\t\tvar lights = currentRenderState.state.lights;\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tvar lightsStateVersion = lights.state.version;\n\n\t\tvar parameters = programCache.getParameters(\n\t\t\tmaterial, lights.state, shadowsArray, fog, _clipping.numPlanes, _clipping.numIntersection, object );\n\n\t\tvar code = programCache.getProgramCode( material, parameters );\n\n\t\tvar program = materialProperties.program;\n\t\tvar programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.code !== code ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( materialProperties.lightsStateVersion !== lightsStateVersion ) {\n\n\t\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\t\tprogramChange = false;\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tif ( parameters.shaderID ) {\n\n\t\t\t\tvar shader = ShaderLib[ parameters.shaderID ];\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\t\tfragmentShader: shader.fragmentShader\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: material.uniforms,\n\t\t\t\t\tvertexShader: material.vertexShader,\n\t\t\t\t\tfragmentShader: material.fragmentShader\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tmaterial.onBeforeCompile( materialProperties.shader, _this );\n\n\t\t\t// Computing code again as onBeforeCompile may have changed the shaders\n\t\t\tcode = programCache.getProgramCode( material, parameters );\n\n\t\t\tprogram = programCache.acquireProgram( material, materialProperties.shader, parameters, code );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterial.program = program;\n\n\t\t}\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tmaterial.numSupportedMorphTargets = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.morphNormals ) {\n\n\t\t\tmaterial.numSupportedMorphNormals = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = _clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.fog = fog;\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( material.lights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tvar progUniforms = materialProperties.program.getUniforms(),\n\t\t\tuniformsList =\n\t\t\t\tWebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, fog, material, object ) {\n\n\t\ttextures.resetTextureUnits();\n\n\t\tvar materialProperties = properties.get( material );\n\t\tvar lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled ) {\n\n\t\t\tif ( _localClippingEnabled || camera !== _currentCamera ) {\n\n\t\t\t\tvar useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\t_clipping.setState(\n\t\t\t\t\tmaterial.clippingPlanes, material.clipIntersection, material.clipShadows,\n\t\t\t\t\tcamera, materialProperties, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate === false ) {\n\n\t\t\tif ( materialProperties.program === undefined ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.lights && materialProperties.lightsStateVersion !== lights.state.version ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== _clipping.numIntersection ) ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate ) {\n\n\t\t\tinitMaterial( material, fog, object );\n\t\t\tmaterial.needsUpdate = false;\n\n\t\t}\n\n\t\tvar refreshProgram = false;\n\t\tvar refreshMaterial = false;\n\t\tvar refreshLights = false;\n\n\t\tvar program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tvar uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// not sure why, but otherwise weird things happen\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tvar skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tvar bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tvar size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = _Math.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tvar boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tvar boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\t\t\t\t\t\tboneTexture.needsUpdate = true;\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\n\n\t\t\tif ( material.lights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshToonMaterial ) {\n\n\t\t\t\t\trefreshUniformsToon( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsPhong( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\t\trefreshUniformsPhysical( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsStandard( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\trefreshUniformsMatcap( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDepth( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDistance( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsNormal( m_uniforms, material );\n\n\t\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\n\t\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\t\trefreshUniformsDash( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\t\trefreshUniformsPoints( m_uniforms, material );\n\n\t\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\t\trefreshUniformsSprites( m_uniforms, material );\n\n\t\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\t\tm_uniforms.color.value.copy( material.color );\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\n\t\t\t}\n\n\t\t\t// RectAreaLight Texture\n\t\t\t// TODO (mrdoob): Find a nicer implementation\n\n\t\t\tif ( m_uniforms.ltc_1 !== undefined ) m_uniforms.ltc_1.value = UniformsLib.LTC_1;\n\t\t\tif ( m_uniforms.ltc_2 !== undefined ) m_uniforms.ltc_2.value = UniformsLib.LTC_2;\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// Uniforms (refresh uniforms objects)\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\tuniforms.envMap.value = material.envMap;\n\n\t\t\t// don't flip CubeTexture envMaps, flip everything else:\n\t\t\t//  WebGLRenderTargetCube will be flipped for backwards compatibility\n\t\t\t//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n\t\t\t// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n\t\t\tuniforms.flipEnvMap.value = material.envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tuniforms.maxMipLevel.value = properties.get( material.envMap ).__maxMipLevel;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. normal map\n\t\t// 4. bump map\n\t\t// 5. alpha map\n\t\t// 6. emissive map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * _pixelRatio;\n\t\tuniforms.scale.value = _height * 0.5;\n\n\t\tuniforms.map.value = material.map;\n\n\t\tif ( material.map !== null ) {\n\n\t\t\tif ( material.map.matrixAutoUpdate === true ) {\n\n\t\t\t\tmaterial.map.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( material.map.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\t\tuniforms.map.value = material.map;\n\n\t\tif ( material.map !== null ) {\n\n\t\t\tif ( material.map.matrixAutoUpdate === true ) {\n\n\t\t\t\tmaterial.map.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( material.map.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsFog( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\trefreshUniformsPhong( uniforms, material );\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\n\n\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tuniforms.transparency.value = material.transparency;\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\t//\n\tthis.setFramebuffer = function ( value ) {\n\n\t\tif ( _framebuffer !== value ) _gl.bindFramebuffer( 36160, value );\n\n\t\t_framebuffer = value;\n\n\t};\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace, activeMipmapLevel ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tvar framebuffer = _framebuffer;\n\t\tvar isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tvar __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace || 0 ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + ( activeCubeFace || 0 ), textureProperties.__webglTexture, activeMipmapLevel || 0 );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLRenderTargetCube && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tvar restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tvar texture = renderTarget.texture;\n\t\t\t\tvar textureFormat = texture.format;\n\t\t\t\tvar textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level ) {\n\n\t\tvar width = texture.image.width;\n\t\tvar height = texture.image.height;\n\t\tvar glFormat = utils.convert( texture.format );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level || 0, glFormat, position.x, position.y, width, height, 0 );\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level ) {\n\n\t\tvar width = srcTexture.image.width;\n\t\tvar height = srcTexture.image.height;\n\t\tvar glFormat = utils.convert( dstTexture.format );\n\t\tvar glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t}\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction FogExp2( color, density ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n}\n\nObject.assign( FogExp2.prototype, {\n\n\tisFogExp2: true,\n\n\tclone: function () {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t},\n\n\ttoJSON: function ( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Fog( color, near, far ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\n\tthis.near = ( near !== undefined ) ? near : 1;\n\tthis.far = ( far !== undefined ) ? far : 1000;\n\n}\n\nObject.assign( Fog.prototype, {\n\n\tisFog: true,\n\n\tclone: function () {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t},\n\n\ttoJSON: function ( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBuffer( array, stride ) {\n\n\tthis.array = array;\n\tthis.stride = stride;\n\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n\tisInterleavedBuffer: true,\n\n\tonUploadCallback: function () {},\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.stride : 0;\n\t\tthis.array = array;\n\n\t\treturn this;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( var i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'SpriteMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\tthis.map = null;\n\n\tthis.rotation = 0;\n\n\tthis.sizeAttenuation = true;\n\n\tthis.lights = false;\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.map = source.map;\n\n\tthis.rotation = source.rotation;\n\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\treturn this;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar _geometry;\n\nvar _intersectPoint = new Vector3();\nvar _worldScale = new Vector3();\nvar _mvPosition = new Vector3();\n\nvar _alignedPosition = new Vector2();\nvar _rotatedPosition = new Vector2();\nvar _viewWorldMatrix = new Matrix4();\n\nvar _vA$1 = new Vector3();\nvar _vB$1 = new Vector3();\nvar _vC$1 = new Vector3();\n\nvar _uvA$1 = new Vector2();\nvar _uvB$1 = new Vector2();\nvar _uvC$1 = new Vector2();\n\nfunction Sprite( material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Sprite';\n\n\tif ( _geometry === undefined ) {\n\n\t\t_geometry = new BufferGeometry();\n\n\t\tvar float32Array = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t] );\n\n\t\tvar interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t_geometry.addAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t_geometry.addAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t}\n\n\tthis.geometry = _geometry;\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\tthis.center = new Vector2( 0.5, 0.5 );\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Sprite,\n\n\tisSprite: true,\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tvar rotation = this.material.rotation;\n\t\tvar sin, cos;\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tvar center = this.center;\n\n\t\ttransformVertex( _vA$1.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB$1.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC$1.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA$1.set( 0, 0 );\n\t\t_uvB$1.set( 1, 0 );\n\t\t_uvC$1.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tvar intersect = raycaster.ray.intersectTriangle( _vA$1, _vB$1, _vC$1, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB$1.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB$1.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA$1, _vC$1, _vB$1, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.material ).copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\treturn this;\n\n\t}\n\n\n} );\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _v1$4 = new Vector3();\nvar _v2$2 = new Vector3();\n\nfunction LOD() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'LOD';\n\n\tObject.defineProperties( this, {\n\t\tlevels: {\n\t\t\tenumerable: true,\n\t\t\tvalue: []\n\t\t}\n\t} );\n\n\tthis.autoUpdate = true;\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LOD,\n\n\tisLOD: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source, false );\n\n\t\tvar levels = source.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\taddLevel: function ( object, distance ) {\n\n\t\tif ( distance === undefined ) distance = 0;\n\n\t\tdistance = Math.abs( distance );\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectForDistance: function ( distance ) {\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn levels[ i - 1 ].object;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\t_v1$4.setFromMatrixPosition( this.matrixWorld );\n\n\t\tvar distance = raycaster.ray.origin.distanceTo( _v1$4 );\n\n\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t},\n\n\tupdate: function ( camera ) {\n\n\t\tvar levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = _v1$4.distanceTo( _v2$2 );\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.levels = [];\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction SkinnedMesh( geometry, material ) {\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\tconsole.error( 'THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t}\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'SkinnedMesh';\n\n\tthis.bindMode = 'attached';\n\tthis.bindMatrix = new Matrix4();\n\tthis.bindMatrixInverse = new Matrix4();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: SkinnedMesh,\n\n\tisSkinnedMesh: true,\n\n\tbind: function ( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\n\n\t},\n\n\tpose: function () {\n\n\t\tthis.skeleton.pose();\n\n\t},\n\n\tnormalizeSkinWeights: function () {\n\n\t\tvar vector = new Vector4();\n\n\t\tvar skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( var i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tvar scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */\n\nvar _offsetMatrix = new Matrix4();\nvar _identityMatrix = new Matrix4();\n\nfunction Skeleton( bones, boneInverses ) {\n\n\t// copy the bone array\n\n\tbones = bones || [];\n\n\tthis.bones = bones.slice( 0 );\n\tthis.boneMatrices = new Float32Array( this.bones.length * 16 );\n\n\t// use the supplied bone inverses or calculate the inverses\n\n\tif ( boneInverses === undefined ) {\n\n\t\tthis.calculateInverses();\n\n\t} else {\n\n\t\tif ( this.bones.length === boneInverses.length ) {\n\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\n\n\t\t\tthis.boneInverses = [];\n\n\t\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n\tcalculateInverses: function () {\n\n\t\tthis.boneInverses = [];\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.getInverse( this.bones[ i ].matrixWorld );\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t},\n\n\tpose: function () {\n\n\t\tvar bone, i, il;\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdate: function () {\n\n\t\tvar bones = this.bones;\n\t\tvar boneInverses = this.boneInverses;\n\t\tvar boneMatrices = this.boneMatrices;\n\t\tvar boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tvar matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== undefined ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t},\n\n\tgetBoneByName: function ( name ) {\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction Bone() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Bone,\n\n\tisBone: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _start = new Vector3();\nvar _end = new Vector3();\nvar _inverseMatrix$1 = new Matrix4();\nvar _ray$1 = new Ray();\nvar _sphere$2 = new Sphere();\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\tcomputeLineDistances: function () {\n\n\t\tvar geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\tvar lineDistances = [ 0 ];\n\n\t\t\t\tfor ( var i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += _start.distanceTo( _end );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\tlineDistances[ 0 ] = 0;\n\n\t\t\tfor ( var i = 1, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar precision = raycaster.linePrecision;\n\n\t\tvar geometry = this.geometry;\n\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere );\n\t\t_sphere$2.applyMatrix4( matrixWorld );\n\t\t_sphere$2.radius += precision;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$2 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.getInverse( matrixWorld );\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tvar localPrecision = precision / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tvar localPrecisionSq = localPrecision * localPrecision;\n\n\t\tvar vStart = new Vector3();\n\t\tvar vEnd = new Vector3();\n\t\tvar interSegment = new Vector3();\n\t\tvar interRay = new Vector3();\n\t\tvar step = ( this && this.isLineSegments ) ? 2 : 1;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar index = geometry.index;\n\t\t\tvar attributes = geometry.attributes;\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\tvar a = indices[ i ];\n\t\t\t\t\tvar b = indices[ i + 1 ];\n\n\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\n\t\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\n\t\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar nbVertices = vertices.length;\n\n\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _start$1 = new Vector3();\nvar _end$1 = new Vector3();\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true,\n\n\tcomputeLineDistances: function () {\n\n\t\tvar geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\tvar lineDistances = [];\n\n\t\t\t\tfor ( var i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\tfor ( var i = 0, l = vertices.length; i < l; i += 2 ) {\n\n\t\t\t\t_start$1.copy( vertices[ i ] );\n\t\t\t\t_end$1.copy( vertices[ i + 1 ] );\n\n\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mgreter / http://github.com/mgreter\n */\n\nfunction LineLoop( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineLoop,\n\n\tisLineLoop: true,\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.morphTargets = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar _inverseMatrix$2 = new Matrix4();\nvar _ray$2 = new Ray();\nvar _sphere$3 = new Sphere();\nvar _position$1 = new Vector3();\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial( { color: Math.random() * 0xffffff } );\n\n\tthis.updateMorphTargets();\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar geometry = this.geometry;\n\t\tvar matrixWorld = this.matrixWorld;\n\t\tvar threshold = raycaster.params.Points.threshold;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\t\t_sphere$3.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.getInverse( matrixWorld );\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tvar localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar index = geometry.index;\n\t\t\tvar attributes = geometry.attributes;\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar a = indices[ i ];\n\n\t\t\t\t\t_position$1.fromArray( positions, a * 3 );\n\n\t\t\t\t\ttestPoint( _position$1, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\n\n\t\t\t\t\t_position$1.fromArray( positions, i * 3 );\n\n\t\t\t\t\ttestPoint( _position$1, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar vertices = geometry.vertices;\n\n\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\ttestPoint( vertices[ i ], i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tvar rayPointDistanceSq = _ray$2.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tvar intersectPoint = new Vector3();\n\n\t\t_ray$2.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.format = format !== undefined ? format : RGBFormat;\n\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\tthis.generateMipmaps = false;\n\n}\n\nVideoTexture.prototype = Object.assign( Object.create( Texture.prototype ), {\n\n\tconstructor: VideoTexture,\n\n\tisVideoTexture: true,\n\n\tupdate: function () {\n\n\t\tvar video = this.image;\n\n\t\tif ( video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\t// no flipping for cube textures\n\t// (also flipping doesn't work for compressed textures )\n\n\tthis.flipY = false;\n\n\t// can't generate mipmaps for compressed textures\n\t// mips must be embedded in DDS files\n\n\tthis.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\nCanvasTexture.prototype.isCanvasTexture = true;\n\n/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\tformat = format !== undefined ? format : DepthFormat;\n\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t}\n\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.flipY = false;\n\tthis.generateMipmaps\t= false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WireframeGeometry( geometry ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'WireframeGeometry';\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar i, j, l, o, ol;\n\tvar edge = [ 0, 0 ], edges = {}, e, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\tvar vertex;\n\n\t// different logic for Geometry and BufferGeometry\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\t// create a data structure that contains all edges without duplicates\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices\n\n\t\tfor ( key in edges ) {\n\n\t\t\te = edges[ key ];\n\n\t\t\tvertex = geometry.vertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = geometry.vertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t} else if ( geometry && geometry.isBufferGeometry ) {\n\n\t\tvar position, indices, groups;\n\t\tvar group, start, count;\n\t\tvar index1, index2;\n\n\t\tvertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\t\t\tindices = geometry.index;\n\t\t\tgroups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tgroup = groups[ o ];\n\n\t\t\t\tstart = group.start;\n\t\t\t\tcount = group.count;\n\n\t\t\t\tfor ( i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tedge1 = indices.getX( i + j );\n\t\t\t\t\t\tedge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( key in edges ) {\n\n\t\t\t\te = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\n\t\t\tfor ( i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tindex1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tindex2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nWireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\nWireframeGeometry.prototype.constructor = WireframeGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n */\n\n// ParametricGeometry\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ParametricGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n\tthis.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\n// ParametricBufferGeometry\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ParametricBufferGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\tvar EPS = 0.00001;\n\n\tvar normal = new Vector3();\n\n\tvar p0 = new Vector3(), p1 = new Vector3();\n\tvar pu = new Vector3(), pv = new Vector3();\n\n\tvar i, j;\n\n\tif ( func.length < 3 ) {\n\n\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t}\n\n\t// generate vertices, normals and uvs\n\n\tvar sliceCount = slices + 1;\n\n\tfor ( i = 0; i <= stacks; i ++ ) {\n\n\t\tvar v = i / stacks;\n\n\t\tfor ( j = 0; j <= slices; j ++ ) {\n\n\t\t\tvar u = j / slices;\n\n\t\t\t// vertex\n\n\t\t\tfunc( u, v, p0 );\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t// normal\n\n\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, v );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( j = 0; j < slices; j ++ ) {\n\n\t\t\tvar a = i * sliceCount + j;\n\t\t\tvar b = i * sliceCount + j + 1;\n\t\t\tvar c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\tvar d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t// faces one and two\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PolyhedronGeometry\n\nfunction PolyhedronGeometry( vertices, indices, radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PolyhedronGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nPolyhedronGeometry.prototype = Object.create( Geometry.prototype );\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n// PolyhedronBufferGeometry\n\nfunction PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PolyhedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tradius = radius || 1;\n\tdetail = detail || 0;\n\n\t// default buffer data\n\n\tvar vertexBuffer = [];\n\tvar uvBuffer = [];\n\n\t// the subdivision creates the vertex buffer data\n\n\tsubdivide( detail );\n\n\t// all vertices should lie on a conceptual sphere with a given radius\n\n\tapplyRadius( radius );\n\n\t// finally, create the uv data\n\n\tgenerateUVs();\n\n\t// build non-indexed geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\tif ( detail === 0 ) {\n\n\t\tthis.computeVertexNormals(); // flat normals\n\n\t} else {\n\n\t\tthis.normalizeNormals(); // smooth normals\n\n\t}\n\n\t// helper functions\n\n\tfunction subdivide( detail ) {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t// get the vertices of the face\n\n\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t// perform subdivision\n\n\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t}\n\n\t}\n\n\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\tvar cols = Math.pow( 2, detail );\n\n\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\tvar v = [];\n\n\t\tvar i, j;\n\n\t\t// construct all of the vertices for this subdivision\n\n\t\tfor ( i = 0; i <= cols; i ++ ) {\n\n\t\t\tv[ i ] = [];\n\n\t\t\tvar aj = a.clone().lerp( c, i / cols );\n\t\t\tvar bj = b.clone().lerp( c, i / cols );\n\n\t\t\tvar rows = cols - i;\n\n\t\t\tfor ( j = 0; j <= rows; j ++ ) {\n\n\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// construct all of the faces\n\n\t\tfor ( i = 0; i < cols; i ++ ) {\n\n\t\t\tfor ( j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\tvar k = Math.floor( j / 2 );\n\n\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction applyRadius( radius ) {\n\n\t\tvar vertex = new Vector3();\n\n\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tvar vertex = new Vector3();\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvar u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\tvar v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t}\n\n\t\tcorrectUVs();\n\n\t\tcorrectSeam();\n\n\t}\n\n\tfunction correctSeam() {\n\n\t\t// handle case when face straddles the seam, see #3269\n\n\t\tfor ( var i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t// uv data of a single face\n\n\t\t\tvar x0 = uvBuffer[ i + 0 ];\n\t\t\tvar x1 = uvBuffer[ i + 2 ];\n\t\t\tvar x2 = uvBuffer[ i + 4 ];\n\n\t\t\tvar max = Math.max( x0, x1, x2 );\n\t\t\tvar min = Math.min( x0, x1, x2 );\n\n\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction pushVertex( vertex ) {\n\n\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t}\n\n\tfunction getVertexByIndex( index, vertex ) {\n\n\t\tvar stride = index * 3;\n\n\t\tvertex.x = vertices[ stride + 0 ];\n\t\tvertex.y = vertices[ stride + 1 ];\n\t\tvertex.z = vertices[ stride + 2 ];\n\n\t}\n\n\tfunction correctUVs() {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\tvar centroid = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tfor ( var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\tvar azi = azimuth( centroid );\n\n\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t}\n\n\t}\n\n\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t}\n\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t}\n\n\t}\n\n\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\tfunction azimuth( vector ) {\n\n\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t}\n\n\n\t// Angle above the XZ plane.\n\n\tfunction inclination( vector ) {\n\n\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t}\n\n}\n\nPolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TetrahedronGeometry\n\nfunction TetrahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TetrahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nTetrahedronGeometry.prototype = Object.create( Geometry.prototype );\nTetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n// TetrahedronBufferGeometry\n\nfunction TetrahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t];\n\n\tvar indices = [\n\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'TetrahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nTetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nTetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// OctahedronGeometry\n\nfunction OctahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'OctahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nOctahedronGeometry.prototype = Object.create( Geometry.prototype );\nOctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n// OctahedronBufferGeometry\n\nfunction OctahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t];\n\n\tvar indices = [\n\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t1, 3, 4,\t1, 4, 2\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'OctahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nOctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nOctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// IcosahedronGeometry\n\nfunction IcosahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'IcosahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nIcosahedronGeometry.prototype = Object.create( Geometry.prototype );\nIcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n// IcosahedronBufferGeometry\n\nfunction IcosahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\tvar vertices = [\n\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t 0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t t, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t];\n\n\tvar indices = [\n\t\t 0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t 1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t 3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t 4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'IcosahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nIcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nIcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n/**\n * @author Abe Pazos / https://hamoid.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// DodecahedronGeometry\n\nfunction DodecahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'DodecahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nDodecahedronGeometry.prototype = Object.create( Geometry.prototype );\nDodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n// DodecahedronBufferGeometry\n\nfunction DodecahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\tvar r = 1 / t;\n\n\tvar vertices = [\n\n\t\t// (±1, ±1, ±1)\n\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t// (0, ±1/φ, ±φ)\n\t\t 0, - r, - t, 0, - r, t,\n\t\t 0, r, - t, 0, r, t,\n\n\t\t// (±1/φ, ±φ, 0)\n\t\t- r, - t, 0, - r, t, 0,\n\t\t r, - t, 0, r, t, 0,\n\n\t\t// (±φ, 0, ±1/φ)\n\t\t- t, 0, - r, t, 0, - r,\n\t\t- t, 0, r, t, 0, r\n\t];\n\n\tvar indices = [\n\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'DodecahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nDodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nDodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n * @author Mugen87 / https://github.com/Mugen87\n *\n */\n\n// TubeGeometry\n\nfunction TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TubeGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n\tvar bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = bufferGeometry.tangents;\n\tthis.normals = bufferGeometry.normals;\n\tthis.binormals = bufferGeometry.binormals;\n\n\t// create geometry\n\n\tthis.fromBufferGeometry( bufferGeometry );\n\tthis.mergeVertices();\n\n}\n\nTubeGeometry.prototype = Object.create( Geometry.prototype );\nTubeGeometry.prototype.constructor = TubeGeometry;\n\n// TubeBufferGeometry\n\nfunction TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TubeBufferGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\ttubularSegments = tubularSegments || 64;\n\tradius = radius || 1;\n\tradialSegments = radialSegments || 8;\n\tclosed = closed || false;\n\n\tvar frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = frames.tangents;\n\tthis.normals = frames.normals;\n\tthis.binormals = frames.binormals;\n\n\t// helper variables\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\tvar uv = new Vector2();\n\tvar P = new Vector3();\n\n\tvar i, j;\n\n\t// buffer\n\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\tvar indices = [];\n\n\t// create buffer data\n\n\tgenerateBufferData();\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// functions\n\n\tfunction generateBufferData() {\n\n\t\tfor ( i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\tgenerateSegment( i );\n\n\t\t}\n\n\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t// at the regular position on the given path\n\t\t//\n\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t// uvs are generated in a separate function.\n\t\t// this makes it easy compute correct values for closed geometries\n\n\t\tgenerateUVs();\n\n\t\t// finally create faces\n\n\t\tgenerateIndices();\n\n\t}\n\n\tfunction generateSegment( i ) {\n\n\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t// retrieve corresponding normal and binormal\n\n\t\tvar N = frames.normals[ i ];\n\t\tvar B = frames.binormals[ i ];\n\n\t\t// generate normals and vertices for the current segment\n\n\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\tvar sin = Math.sin( v );\n\t\t\tvar cos = - Math.cos( v );\n\n\t\t\t// normal\n\n\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\tnormal.normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\tfunction generateIndices() {\n\n\t\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nTubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\nTubeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tdata.path = this.parameters.path.toJSON();\n\n\treturn data;\n\n};\n\n/**\n * @author oosmoxiecode\n * @author Mugen87 / https://github.com/Mugen87\n *\n * based on http://www.blackpawn.com/texts/pqtorus/\n */\n\n// TorusKnotGeometry\n\nfunction TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusKnotGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n\tthis.mergeVertices();\n\n}\n\nTorusKnotGeometry.prototype = Object.create( Geometry.prototype );\nTorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n// TorusKnotBufferGeometry\n\nfunction TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusKnotBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\ttubularSegments = Math.floor( tubularSegments ) || 64;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\tp = p || 2;\n\tq = q || 3;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, j;\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar P1 = new Vector3();\n\tvar P2 = new Vector3();\n\n\tvar B = new Vector3();\n\tvar T = new Vector3();\n\tvar N = new Vector3();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\tvar u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t// calculate orthonormal basis\n\n\t\tT.subVectors( P2, P1 );\n\t\tN.addVectors( P2, P1 );\n\t\tB.crossVectors( T, N );\n\t\tN.crossVectors( B, T );\n\n\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\tB.normalize();\n\t\tN.normalize();\n\n\t\tfor ( j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\t\t\tvar cx = - tube * Math.cos( v );\n\t\t\tvar cy = tube * Math.sin( v );\n\n\t\t\t// now calculate the final vertex position.\n\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// this function calculates the current position on the torus curve\n\n\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\tvar cu = Math.cos( u );\n\t\tvar su = Math.sin( u );\n\t\tvar quOverP = q / p * u;\n\t\tvar cs = Math.cos( quOverP );\n\n\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t}\n\n}\n\nTorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TorusGeometry\n\nfunction TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n\tthis.mergeVertices();\n\n}\n\nTorusGeometry.prototype = Object.create( Geometry.prototype );\nTorusGeometry.prototype.constructor = TorusGeometry;\n\n// TorusBufferGeometry\n\nfunction TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\ttubularSegments = Math.floor( tubularSegments ) || 6;\n\tarc = arc || Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar center = new Vector3();\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tvar u = i / tubularSegments * arc;\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\tvar b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\tvar c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\tvar d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nTorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * Port from https://github.com/mapbox/earcut (v2.1.5)\n */\n\nvar Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tvar hasHoles = holeIndices && holeIndices.length,\n\t\t\touterLen = hasHoles ? holeIndices[ 0 ] * dim : data.length,\n\t\t\touterNode = linkedList( data, 0, outerLen, dim, true ),\n\t\t\ttriangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tvar minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( var i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tvar i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tvar p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tvar stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( ear, triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tvar p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tvar minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tvar minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tvar p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tvar p = start;\n\tdo {\n\n\t\tvar a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn p;\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tvar a = start;\n\tdo {\n\n\t\tvar b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tvar c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tvar queue = [],\n\t\ti, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tvar b = splitPolygon( outerNode, hole );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tvar p = outerNode,\n\t\thx = hole.x,\n\t\thy = hole.y,\n\t\tqx = - Infinity,\n\t\tm;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tvar x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m.prev; // hole touches outer segment; pick lower endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tvar stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y,\n\t\ttanMin = Infinity,\n\t\ttan;\n\n\tp = m.next;\n\n\twhile ( p !== stop ) {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( ( tan < tanMin || ( tan === tanMin && p.x > m.x ) ) && locallyInside( p, hole ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t}\n\n\treturn m;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tvar p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tvar i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tvar p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t   ( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t   ( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) &&\n\t\t   locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b );\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tif ( ( equals( p1, p2 ) && equals( q1, q2 ) ) ||\n\t\t( equals( p1, q2 ) && equals( p2, q1 ) ) ) return true;\n\treturn area( p1, q1, p2 ) > 0 !== area( p1, q1, q2 ) > 0 &&\n\t\t   area( p2, q2, p1 ) > 0 !== area( p2, q2, q1 ) > 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tvar p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tvar p = a,\n\t\tinside = false,\n\t\tpx = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tvar a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tvar p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tvar sum = 0;\n\tfor ( var i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nvar ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tvar n = contour.length;\n\t\tvar a = 0.0;\n\n\t\tfor ( var p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t},\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tvar vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tvar holeIndices = []; // array of hole indices\n\t\tvar faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tvar holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( var i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tvar triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( var i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n};\n\nfunction removeDupEndPts( points ) {\n\n\tvar l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( var i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\n// ExtrudeGeometry\n\nfunction ExtrudeGeometry( shapes, options ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ExtrudeGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n\tthis.mergeVertices();\n\n}\n\nExtrudeGeometry.prototype = Object.create( Geometry.prototype );\nExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\nExtrudeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n// ExtrudeBufferGeometry\n\nfunction ExtrudeBufferGeometry( shapes, options ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ExtrudeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\tvar scope = this;\n\n\tvar verticesArray = [];\n\tvar uvArray = [];\n\n\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\tvar shape = shapes[ i ];\n\t\taddShape( shape );\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\tthis.computeVertexNormals();\n\n\t// functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar placeholder = [];\n\n\t\t// options\n\n\t\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\tvar steps = options.steps !== undefined ? options.steps : 1;\n\t\tvar depth = options.depth !== undefined ? options.depth : 100;\n\n\t\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\tvar bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\tvar extrudePath = options.extrudePath;\n\n\t\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t// deprecated options\n\n\t\tif ( options.amount !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\tdepth = options.amount;\n\n\t\t}\n\n\t\t//\n\n\t\tvar extrudePts, extrudeByPath = false;\n\t\tvar splineTube, binormal, normal, position2;\n\n\t\tif ( extrudePath ) {\n\n\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\textrudeByPath = true;\n\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t// SETUP TNB variables\n\n\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\tbinormal = new Vector3();\n\t\t\tnormal = new Vector3();\n\t\t\tposition2 = new Vector3();\n\n\t\t}\n\n\t\t// Safeguards if bevels are not enabled\n\n\t\tif ( ! bevelEnabled ) {\n\n\t\t\tbevelSegments = 0;\n\t\t\tbevelThickness = 0;\n\t\t\tbevelSize = 0;\n\t\t\tbevelOffset = 0;\n\n\t\t}\n\n\t\t// Variables initialization\n\n\t\tvar ahole, h, hl; // looping of holes\n\n\t\tvar shapePoints = shape.extractPoints( curveSegments );\n\n\t\tvar vertices = shapePoints.shape;\n\t\tvar holes = shapePoints.holes;\n\n\t\tvar reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\tif ( reverse ) {\n\n\t\t\tvertices = vertices.reverse();\n\n\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t/* Vertices */\n\n\t\tvar contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\tvertices = vertices.concat( ahole );\n\n\t\t}\n\n\n\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t}\n\n\t\tvar b, bs, t, z,\n\t\t\tvert, vlen = vertices.length,\n\t\t\tface, flen = faces.length;\n\n\n\t\t// Find directions for point movement\n\n\n\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t//\n\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\tvar v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\tvar v_prev_x = inPt.x - inPrev.x,\n\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\tvar v_next_x = inNext.x - inPt.x,\n\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\tvar v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t// check for collinear edges\n\t\t\tvar collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t// not collinear\n\n\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\tvar v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\tvar v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\tvar ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\tvar ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\tvar ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\tvar ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\tvar sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t//  but prevent crazy spikes\n\t\t\t\tvar v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\tvar direction_eq = false; // assumes: opposite\n\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t}\n\n\n\t\tvar contourMovements = [];\n\n\t\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\tif ( j === il ) j = 0;\n\t\t\tif ( k === il ) k = 0;\n\n\t\t\t//  (j)---(i)---(k)\n\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t}\n\n\t\tvar holesMovements = [],\n\t\t\toneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\toneHoleMovements = [];\n\n\t\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t}\n\n\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t}\n\n\n\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\tfor ( b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tbs = bevelSize + bevelOffset;\n\n\t\t// Back facing vertices\n\n\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t} else {\n\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add stepped vertices...\n\t\t// Including front facing vertices\n\n\t\tvar s;\n\n\t\tfor ( s = 1; s <= steps; s ++ ) {\n\n\t\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// Add bevel segments planes\n\n\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t/* Faces */\n\n\t\t// Top and bottom faces\n\n\t\tbuildLidFaces();\n\n\t\t// Sides faces\n\n\t\tbuildSideFaces();\n\n\n\t\t/////  Internal functions\n\n\t\tfunction buildLidFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\n\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\tvar layer = 0; // steps + 1\n\t\t\t\tvar offset = vlen * layer;\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t}\n\n\t\t// Create faces for the z-sides of the shape\n\n\t\tfunction buildSideFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\t\t\tvar layeroffset = 0;\n\t\t\tsidewalls( contour, layeroffset );\n\t\t\tlayeroffset += contour.length;\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t//, true\n\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t}\n\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t}\n\n\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\tvar j, k;\n\t\t\ti = contour.length;\n\n\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\tj = i;\n\t\t\t\tk = i - 1;\n\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\tvar s = 0,\n\t\t\t\t\tsl = steps + bevelSegments * 2;\n\n\t\t\t\tfor ( s = 0; s < sl; s ++ ) {\n\n\t\t\t\t\tvar slen1 = vlen * s;\n\t\t\t\t\tvar slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\tvar a = layeroffset + j + slen1,\n\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction v( x, y, z ) {\n\n\t\t\tplaceholder.push( x );\n\t\t\tplaceholder.push( y );\n\t\t\tplaceholder.push( z );\n\n\t\t}\n\n\n\t\tfunction f3( a, b, c ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\n\t\t}\n\n\t\tfunction f4( a, b, c, d ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( d );\n\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\t\t\taddVertex( d );\n\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t}\n\n\t\tfunction addVertex( index ) {\n\n\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t}\n\n\n\t\tfunction addUV( vector2 ) {\n\n\t\t\tuvArray.push( vector2.x );\n\t\t\tuvArray.push( vector2.y );\n\n\t\t}\n\n\t}\n\n}\n\nExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\nExtrudeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n//\n\nvar WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar a_z = vertices[ indexA * 3 + 2 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar b_z = vertices[ indexB * 3 + 2 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\t\tvar c_z = vertices[ indexC * 3 + 2 ];\n\t\tvar d_x = vertices[ indexD * 3 ];\n\t\tvar d_y = vertices[ indexD * 3 + 1 ];\n\t\tvar d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n};\n\nfunction toJSON( shapes, options, data ) {\n\n\t//\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\t//\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\n// TextGeometry\n\nfunction TextGeometry( text, parameters ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TextGeometry';\n\n\tthis.parameters = {\n\t\ttext: text,\n\t\tparameters: parameters\n\t};\n\n\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n\tthis.mergeVertices();\n\n}\n\nTextGeometry.prototype = Object.create( Geometry.prototype );\nTextGeometry.prototype.constructor = TextGeometry;\n\n// TextBufferGeometry\n\nfunction TextBufferGeometry( text, parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar font = parameters.font;\n\n\tif ( ! ( font && font.isFont ) ) {\n\n\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\treturn new Geometry();\n\n\t}\n\n\tvar shapes = font.generateShapes( text, parameters.size );\n\n\t// translate parameters to ExtrudeGeometry API\n\n\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t// defaults\n\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\tExtrudeBufferGeometry.call( this, shapes, parameters );\n\n\tthis.type = 'TextBufferGeometry';\n\n}\n\nTextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\nTextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// SphereGeometry\n\nfunction SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'SphereGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nSphereGeometry.prototype = Object.create( Geometry.prototype );\nSphereGeometry.prototype.constructor = SphereGeometry;\n\n// SphereBufferGeometry\n\nfunction SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'SphereBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\n\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n\tphiStart = phiStart !== undefined ? phiStart : 0;\n\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n\tvar thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\tvar ix, iy;\n\n\tvar index = 0;\n\tvar grid = [];\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\tvar verticesRow = [];\n\n\t\tvar v = iy / heightSegments;\n\n\t\t// special case for the poles\n\n\t\tvar uOffset = 0;\n\n\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t}\n\n\t\tfor ( ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\tvar u = ix / widthSegments;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormal.copy( vertex ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\tverticesRow.push( index ++ );\n\n\t\t}\n\n\t\tgrid.push( verticesRow );\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\tvar a = grid[ iy ][ ix + 1 ];\n\t\t\tvar b = grid[ iy ][ ix ];\n\t\t\tvar c = grid[ iy + 1 ][ ix ];\n\t\t\tvar d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nSphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nSphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n/**\n * @author Kaleb Murphy\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// RingGeometry\n\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'RingGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nRingGeometry.prototype = Object.create( Geometry.prototype );\nRingGeometry.prototype.constructor = RingGeometry;\n\n// RingBufferGeometry\n\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'RingBufferGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tinnerRadius = innerRadius || 0.5;\n\touterRadius = outerRadius || 1;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// some helper variables\n\n\tvar segment;\n\tvar radius = innerRadius;\n\tvar radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= phiSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\tsegment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// increase the radius for next row of vertices\n\n\t\tradius += radiusStep;\n\n\t}\n\n\t// indices\n\n\tfor ( j = 0; j < phiSegments; j ++ ) {\n\n\t\tvar thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\tfor ( i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\tsegment = i + thetaSegmentLevel;\n\n\t\t\tvar a = segment;\n\t\t\tvar b = segment + thetaSegments + 1;\n\t\t\tvar c = segment + thetaSegments + 2;\n\t\t\tvar d = segment + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// LatheGeometry\n\nfunction LatheGeometry( points, segments, phiStart, phiLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'LatheGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n\tthis.mergeVertices();\n\n}\n\nLatheGeometry.prototype = Object.create( Geometry.prototype );\nLatheGeometry.prototype.constructor = LatheGeometry;\n\n// LatheBufferGeometry\n\nfunction LatheBufferGeometry( points, segments, phiStart, phiLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'LatheBufferGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tsegments = Math.floor( segments ) || 12;\n\tphiStart = phiStart || 0;\n\tphiLength = phiLength || Math.PI * 2;\n\n\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\tphiLength = _Math.clamp( phiLength, 0, Math.PI * 2 );\n\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar base;\n\tvar inverseSegments = 1.0 / segments;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar i, j;\n\n\t// generate vertices and uvs\n\n\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\tvar phi = phiStart + i * inverseSegments * phiLength;\n\n\t\tvar sin = Math.sin( phi );\n\t\tvar cos = Math.cos( phi );\n\n\t\tfor ( j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\tvertex.y = points[ j ].y;\n\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// uv\n\n\t\t\tuv.x = i / segments;\n\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( i = 0; i < segments; i ++ ) {\n\n\t\tfor ( j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\tbase = j + i * points.length;\n\n\t\t\tvar a = base;\n\t\t\tvar b = base + points.length;\n\t\t\tvar c = base + points.length + 1;\n\t\t\tvar d = base + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// generate normals\n\n\tthis.computeVertexNormals();\n\n\t// if the geometry is closed, we need to average the normals along the seam.\n\t// because the corresponding vertices are identical (but still have different UVs).\n\n\tif ( phiLength === Math.PI * 2 ) {\n\n\t\tvar normals = this.attributes.normal.array;\n\t\tvar n1 = new Vector3();\n\t\tvar n2 = new Vector3();\n\t\tvar n = new Vector3();\n\n\t\t// this is the buffer offset for the last line of vertices\n\n\t\tbase = segments * points.length * 3;\n\n\t\tfor ( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t// select the normal of the vertex in the first line\n\n\t\t\tn1.x = normals[ j + 0 ];\n\t\t\tn1.y = normals[ j + 1 ];\n\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t// select the normal of the vertex in the last line\n\n\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t// average normals\n\n\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t// assign the new values to both normals\n\n\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t}\n\n\t}\n\n}\n\nLatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nLatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n/**\n * @author jonobr1 / http://jonobr1.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// ShapeGeometry\n\nfunction ShapeGeometry( shapes, curveSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ShapeGeometry';\n\n\tif ( typeof curveSegments === 'object' ) {\n\n\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n\t\tcurveSegments = curveSegments.curveSegments;\n\n\t}\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n\tthis.mergeVertices();\n\n}\n\nShapeGeometry.prototype = Object.create( Geometry.prototype );\nShapeGeometry.prototype.constructor = ShapeGeometry;\n\nShapeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n// ShapeBufferGeometry\n\nfunction ShapeBufferGeometry( shapes, curveSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ShapeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tcurveSegments = curveSegments || 12;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar groupStart = 0;\n\tvar groupCount = 0;\n\n\t// allow single and array values for \"shapes\" parameter\n\n\tif ( Array.isArray( shapes ) === false ) {\n\n\t\taddShape( shapes );\n\n\t} else {\n\n\t\tfor ( var i = 0; i < shapes.length; i ++ ) {\n\n\t\t\taddShape( shapes[ i ] );\n\n\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\tgroupStart += groupCount;\n\t\t\tgroupCount = 0;\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t// helper functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar i, l, shapeHole;\n\n\t\tvar indexOffset = vertices.length / 3;\n\t\tvar points = shape.extractPoints( curveSegments );\n\n\t\tvar shapeVertices = points.shape;\n\t\tvar shapeHoles = points.holes;\n\n\t\t// check direction of vertices\n\n\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t}\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t// join vertices of inner and outer paths to a single array\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t}\n\n\t\t// vertices, normals, uvs\n\n\t\tfor ( i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\tvar vertex = shapeVertices[ i ];\n\n\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\tnormals.push( 0, 0, 1 );\n\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t}\n\n\t\t// incides\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar a = face[ 0 ] + indexOffset;\n\t\t\tvar b = face[ 1 ] + indexOffset;\n\t\t\tvar c = face[ 2 ] + indexOffset;\n\n\t\t\tindices.push( a, b, c );\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t}\n\n}\n\nShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\nShapeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n//\n\nfunction toJSON$1( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction EdgesGeometry( geometry, thresholdAngle ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'EdgesGeometry';\n\n\tthis.parameters = {\n\t\tthresholdAngle: thresholdAngle\n\t};\n\n\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar thresholdDot = Math.cos( _Math.DEG2RAD * thresholdAngle );\n\tvar edge = [ 0, 0 ], edges = {}, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\n\t// prepare source geometry\n\n\tvar geometry2;\n\n\tif ( geometry.isBufferGeometry ) {\n\n\t\tgeometry2 = new Geometry();\n\t\tgeometry2.fromBufferGeometry( geometry );\n\n\t} else {\n\n\t\tgeometry2 = geometry.clone();\n\n\t}\n\n\tgeometry2.mergeVertices();\n\tgeometry2.computeFaceNormals();\n\n\tvar sourceVertices = geometry2.vertices;\n\tvar faces = geometry2.faces;\n\n\t// now create a data structure where each entry represents an edge with its adjoining faces\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\tedge[ 0 ] = Math.min( edge1, edge2 );\n\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\n\n\t\t\t} else {\n\n\t\t\t\tedges[ key ].face2 = i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// generate vertices\n\n\tfor ( key in edges ) {\n\n\t\tvar e = edges[ key ];\n\n\t\t// an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n\t\tif ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\n\n\t\t\tvar vertex = sourceVertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = sourceVertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nEdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\nEdgesGeometry.prototype.constructor = EdgesGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// CylinderGeometry\n\nfunction CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CylinderGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCylinderGeometry.prototype = Object.create( Geometry.prototype );\nCylinderGeometry.prototype.constructor = CylinderGeometry;\n\n// CylinderBufferGeometry\n\nfunction CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CylinderBufferGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tvar scope = this;\n\n\tradiusTop = radiusTop !== undefined ? radiusTop : 1;\n\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n\theight = height || 1;\n\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\n\topenEnded = openEnded !== undefined ? openEnded : false;\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar index = 0;\n\tvar indexArray = [];\n\tvar halfHeight = height / 2;\n\tvar groupStart = 0;\n\n\t// generate geometry\n\n\tgenerateTorso();\n\n\tif ( openEnded === false ) {\n\n\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction generateTorso() {\n\n\t\tvar x, y;\n\t\tvar normal = new Vector3();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\t// this will be used to calculate the normal\n\t\tvar slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\tvar indexRow = [];\n\n\t\t\tvar v = y / heightSegments;\n\n\t\t\t// calculate the radius of the current row\n\n\t\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tvar u = x / radialSegments;\n\n\t\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\t\tvar sinTheta = Math.sin( theta );\n\t\t\t\tvar cosTheta = Math.cos( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\t// now save vertices of the row in our index array\n\n\t\t\tindexArray.push( indexRow );\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tfor ( y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\tvar a = indexArray[ y ][ x ];\n\t\t\t\tvar b = indexArray[ y + 1 ][ x ];\n\t\t\t\tvar c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\tvar d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// update group counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n\tfunction generateCap( top ) {\n\n\t\tvar x, centerIndexStart, centerIndexEnd;\n\n\t\tvar uv = new Vector2();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\tvar radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\tvar sign = ( top === true ) ? 1 : - 1;\n\n\t\t// save the index of the first center vertex\n\t\tcenterIndexStart = index;\n\n\t\t// first we generate the center vertex data of the cap.\n\t\t// because the geometry needs one set of uvs per face,\n\t\t// we must generate a center vertex per face/segment\n\n\t\tfor ( x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// save the index of the last center vertex\n\n\t\tcenterIndexEnd = index;\n\n\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\tvar u = x / radialSegments;\n\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\tvar cosTheta = Math.cos( theta );\n\t\t\tvar sinTheta = Math.sin( theta );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * sinTheta;\n\t\t\tvertex.y = halfHeight * sign;\n\t\t\tvertex.z = radius * cosTheta;\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tvar c = centerIndexStart + x;\n\t\t\tvar i = centerIndexEnd + x;\n\n\t\t\tif ( top === true ) {\n\n\t\t\t\t// face top\n\n\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t} else {\n\n\t\t\t\t// face bottom\n\n\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t}\n\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n}\n\nCylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\n// ConeGeometry\n\nfunction ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\nConeGeometry.prototype.constructor = ConeGeometry;\n\n// ConeBufferGeometry\n\nfunction ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\nConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n * @author hughes\n */\n\n// CircleGeometry\n\nfunction CircleGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CircleGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCircleGeometry.prototype = Object.create( Geometry.prototype );\nCircleGeometry.prototype.constructor = CircleGeometry;\n\n// CircleBufferGeometry\n\nfunction CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CircleBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, s;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\n\t// center point\n\n\tvertices.push( 0, 0, 0 );\n\tnormals.push( 0, 0, 1 );\n\tuvs.push( 0.5, 0.5 );\n\n\tfor ( s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\tvar segment = thetaStart + s / segments * thetaLength;\n\n\t\t// vertex\n\n\t\tvertex.x = radius * Math.cos( segment );\n\t\tvertex.y = radius * Math.sin( segment );\n\n\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t// normal\n\n\t\tnormals.push( 0, 0, 1 );\n\n\t\t// uvs\n\n\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\tuvs.push( uv.x, uv.y );\n\n\t}\n\n\t// indices\n\n\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\tindices.push( i, i + 1, 0 );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nCircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\n\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\tWireframeGeometry: WireframeGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricBufferGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeBufferGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusBufferGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextBufferGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereBufferGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingBufferGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneBufferGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheBufferGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeBufferGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeBufferGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderBufferGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleBufferGeometry,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxBufferGeometry\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShadowMaterial';\n\n\tthis.color = new Color( 0x000000 );\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nShadowMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction RawShaderMaterial( parameters ) {\n\n\tShaderMaterial.call( this, parameters );\n\n\tthis.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.type = 'MeshStandardMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.roughness = 0.5;\n\tthis.metalness = 0.5;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.roughnessMap = null;\n\n\tthis.metalnessMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.envMapIntensity = 1.0;\n\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.color.copy( source.color );\n\tthis.roughness = source.roughness;\n\tthis.metalness = source.metalness;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.roughnessMap = source.roughnessMap;\n\n\tthis.metalnessMap = source.metalnessMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.envMapIntensity = source.envMapIntensity;\n\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  reflectivity: <float>\n *  clearcoat: <float>\n *  clearcoatRoughness: <float>\n *\n *  sheen: <Color>\n *\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n\tMeshStandardMaterial.call( this );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.type = 'MeshPhysicalMaterial';\n\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\tthis.clearcoat = 0.0;\n\tthis.clearcoatRoughness = 0.0;\n\n\tthis.sheen = null; // null will disable sheen bsdf\n\n\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\tthis.clearcoatNormalMap = null;\n\n\tthis.transparency = 0.0;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n\tMeshStandardMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.reflectivity = source.reflectivity;\n\n\tthis.clearcoat = source.clearcoat;\n\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\n\tif ( source.sheen ) this.sheen = ( this.sheen || new Color() ).copy( source.sheen );\n\telse this.sheen = null;\n\n\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\tthis.transparency = source.transparency;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshPhongMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author takahirox / http://github.com/takahirox\n *\n * parameters = {\n *  gradientMap: new THREE.Texture( <Image> )\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n\tMeshPhongMaterial.call( this );\n\n\tthis.defines = { 'TOON': '' };\n\n\tthis.type = 'MeshToonMaterial';\n\n\tthis.gradientMap = null;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( MeshPhongMaterial.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n\tMeshPhongMaterial.prototype.copy.call( this, source );\n\n\tthis.gradientMap = source.gradientMap;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshNormalMaterial';\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshLambertMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshMatcapMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.type = 'MeshMatcapMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.matcap = null;\n\n\tthis.map = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshMatcapMaterial.prototype = Object.create( Material.prototype );\nMeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\nMeshMatcapMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.color.copy( source.color );\n\n\tthis.matcap = source.matcap;\n\n\tthis.map = source.map;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n\tLineBasicMaterial.call( this );\n\n\tthis.type = 'LineDashedMaterial';\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n\tLineBasicMaterial.prototype.copy.call( this, source );\n\n\tthis.scale = source.scale;\n\tthis.dashSize = source.dashSize;\n\tthis.gapSize = source.gapSize;\n\n\treturn this;\n\n};\n\n\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\n/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nvar AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tvar n = times.length;\n\t\tvar result = new Array( n );\n\t\tfor ( var i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tvar nValues = values.length;\n\t\tvar result = new values.constructor( nValues );\n\n\t\tfor ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tvar srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tvar i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tvar value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tthis.parameterPositions = parameterPositions;\n\tthis._cachedIndex = 0;\n\n\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\tthis.sampleValues = sampleValues;\n\tthis.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n\tevaluate: function ( t ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\ti1 = this._cachedIndex,\n\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tvar right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tvar t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tvar mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t},\n\n\tsettings: null, // optional, subclass-specific settings structure\n\t// Note: The indirection allows central control of many interpolants.\n\n\t// --- Protected interface\n\n\tDefaultSettings_: {},\n\n\tgetSettings_: function () {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t},\n\n\tcopySampleValue_: function ( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Template methods for derived classes:\n\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t},\n\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( Interpolant.prototype, {\n\n\t//( 0, t, t0 ), returns this.resultBuffer\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\n\n\t//( N-1, tN-1, t ), returns this.resultBuffer\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\tthis._weightPrev = - 0;\n\tthis._offsetPrev = - 0;\n\tthis._weightNext = - 0;\n\tthis._offsetNext = - 0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: CubicInterpolant,\n\n\tDefaultSettings_: {\n\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\n\t},\n\n\tintervalChanged_: function ( i1, t0, t1 ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\tiPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t},\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tvar sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tvar s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tvar s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tvar sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n */\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: LinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: DiscreteInterpolant,\n\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n} );\n\n/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\tthis.name = name;\n\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n}\n\n// Static methods\n\nObject.assign( KeyframeTrack, {\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\ttoJSON: function ( track ) {\n\n\t\tvar trackType = track.constructor;\n\n\t\tvar json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== undefined ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tvar interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n} );\n\nObject.assign( KeyframeTrack.prototype, {\n\n\tconstructor: KeyframeTrack,\n\n\tTimeBufferType: Float32Array,\n\n\tValueBufferType: Float32Array,\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: function ( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tsetInterpolation: function ( interpolation ) {\n\n\t\tvar factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tvar message = \"unsupported interpolation for \" +\n\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t},\n\n\tgetInterpolation: function () {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t},\n\n\tgetValueSize: function () {\n\n\t\treturn this.values.length / this.times.length;\n\n\t},\n\n\t// move all keyframes either forwards or backwards in time\n\tshift: function ( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale: function ( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim: function ( startTime, endTime ) {\n\n\t\tvar times = this.times,\n\t\t\tnKeys = times.length,\n\t\t\tfrom = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) to = Math.max( to, 1 ), from = to - 1;\n\n\t\t\tvar stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tvar valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar prevTime = null;\n\n\t\tfor ( var i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tvar currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( var i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tvar value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize: function () {\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\twriteIndex = 1,\n\t\t\tlastIndex = times.length - 1;\n\n\t\tfor ( var i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tvar keep = false;\n\n\t\t\tvar time = times[ i ];\n\t\t\tvar timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tvar offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvar value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tvar readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tvar times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tvar values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tvar TypedKeyframeTrack = this.constructor;\n\t\tvar track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n\tKeyframeTrack.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: BooleanKeyframeTrack,\n\n\tValueTypeName: 'bool',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\tInterpolantFactoryMethodSmooth: undefined\n\n\t// Note: Actually this track could have a optimized / compressed\n\t// representation of a single value and a custom interpolant that\n\t// computes \"firstValue ^ isOdd( index )\".\n\n} );\n\n/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: ColorKeyframeTrack,\n\n\tValueTypeName: 'color'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n\t// Note: Very basic implementation and nothing special yet.\n\t// However, this is the place for color space parameterization.\n\n} );\n\n/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: NumberKeyframeTrack,\n\n\tValueTypeName: 'number'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: QuaternionLinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset = i1 * stride,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tfor ( var end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: QuaternionKeyframeTrack,\n\n\tValueTypeName: 'quaternion',\n\n\t// ValueBufferType is inherited\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n} );\n\n/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: StringKeyframeTrack,\n\n\tValueTypeName: 'string',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\n\tInterpolantFactoryMethodSmooth: undefined\n\n} );\n\n/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: VectorKeyframeTrack,\n\n\tValueTypeName: 'vector'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nfunction AnimationClip( name, duration, tracks ) {\n\n\tthis.name = name;\n\tthis.tracks = tracks;\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\n\n\tthis.uuid = _Math.generateUUID();\n\n\t// this means it should figure out its duration by scanning the tracks\n\tif ( this.duration < 0 ) {\n\n\t\tthis.resetDuration();\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tvar trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tvar times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nObject.assign( AnimationClip, {\n\n\tparse: function ( json ) {\n\n\t\tvar tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( json.name, json.duration, tracks );\n\n\t},\n\n\ttoJSON: function ( clip ) {\n\n\t\tvar tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tvar json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid\n\n\t\t};\n\n\t\tfor ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t},\n\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tvar numMorphTargets = morphTargetSequence.length;\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tvar times = [];\n\t\t\tvar values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tvar order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( name, - 1, tracks );\n\n\t},\n\n\tfindByName: function ( objectOrClipArray, name ) {\n\n\t\tvar clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tvar o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( var i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n\t\tvar animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tvar pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = morphTargets[ i ];\n\t\t\tvar parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tvar name = parts[ 1 ];\n\n\t\t\t\tvar animationMorphTargets = animationToMorphTargets[ name ];\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar clips = [];\n\n\t\tfor ( var name in animationToMorphTargets ) {\n\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t},\n\n\t// parse the animation.hierarchy format\n\tparseAnimation: function ( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tvar times = [];\n\t\t\t\tvar values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tvar tracks = [];\n\n\t\tvar clipName = animation.name || 'default';\n\t\t// automatic length determination in AnimationClip.\n\t\tvar duration = animation.length || - 1;\n\t\tvar fps = animation.fps || 30;\n\n\t\tvar hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( var h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tvar animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tvar morphTargetNames = {};\n\n\t\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( var m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( var morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tvar times = [];\n\t\t\t\t\tvar values = [];\n\n\t\t\t\t\tfor ( var m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tvar animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tvar boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar clip = new AnimationClip( clipName, duration, tracks );\n\n\t\treturn clip;\n\n\t}\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n\tresetDuration: function () {\n\n\t\tvar tracks = this.tracks, duration = 0;\n\n\t\tfor ( var i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tvar track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t},\n\n\ttrim: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\toptimize: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\n\tclone: function () {\n\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new AnimationClip( this.name, this.duration, tracks );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tvar scope = this;\n\n\tvar isLoading = false;\n\tvar itemsLoaded = 0;\n\tvar itemsTotal = 0;\n\tvar urlModifier = undefined;\n\n\t// Refer to #5689 for the reason why we don't set .onStart\n\t// in the constructor\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\t\treturn this;\n\n\t};\n\n}\n\nvar DefaultLoadingManager = new LoadingManager();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Loader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\tthis.crossOrigin = 'anonymous';\n\tthis.path = '';\n\tthis.resourcePath = '';\n\n}\n\nObject.assign( Loader.prototype, {\n\n\tload: function ( /* url, onLoad, onProgress, onError */ ) {},\n\n\tparse: function ( /* data */ ) {},\n\n\tsetCrossOrigin: function ( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t},\n\n\tsetResourcePath: function ( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n} );\n\n//\n\nLoader.Handlers = {\n\n\thandlers: [],\n\n\tadd: function ( regex, loader ) {\n\n\t\tthis.handlers.push( regex, loader );\n\n\t},\n\n\tget: function ( file ) {\n\n\t\tvar handlers = this.handlers;\n\n\t\tfor ( var i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tvar regex = handlers[ i ];\n\t\t\tvar loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar loading = {};\n\nfunction FileLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFileLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FileLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tvar dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tvar dataUriRegexResult = url.match( dataUriRegex );\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tvar mimeType = dataUriRegexResult[ 1 ];\n\t\t\tvar isBase64 = !! dataUriRegexResult[ 2 ];\n\t\t\tvar data = dataUriRegexResult[ 3 ];\n\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tvar response;\n\t\t\t\tvar responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tvar view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tvar parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tvar response = this.response;\n\n\t\t\t\tCache.add( url, response );\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( var header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t},\n\n\tsetResponseType: function ( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t},\n\n\tsetWithCredentials: function ( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t},\n\n\tsetMimeType: function ( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t},\n\n\tsetRequestHeader: function ( value ) {\n\n\t\tthis.requestHeader = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io/\n */\n\nfunction AnimationLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAnimationLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AnimationLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n\t// override in sub classes\n\tthis._parser = null;\n\n}\n\nCompressedTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CompressedTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar images = [];\n\n\t\tvar texture = new CompressedTexture();\n\t\ttexture.image = images;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tvar loaded = 0;\n\n\t\t\tfor ( var i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tvar faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n */\n\nfunction DataTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n\t// override in sub classes\n\tthis._parser = null;\n\n}\n\nDataTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: DataTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar texture = new DataTexture();\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tvar texData = scope._parser( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearMipmapLinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ImageLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nImageLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tvar image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction CubeTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCubeTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CubeTextureLoader,\n\n\tload: function ( urls, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new CubeTexture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tvar loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction TextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: TextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new Texture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tvar isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\n/**************************************************************\n *\tAbstract Curve base class\n **************************************************************/\n\nfunction Curve() {\n\n\tthis.type = 'Curve';\n\n\tthis.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint: function ( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t},\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt: function ( u, optionalTarget ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t},\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get total curve arc length\n\n\tgetLength: function () {\n\n\t\tvar lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t},\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tvar cache = [];\n\t\tvar current, last = this.getPoint( 0 );\n\t\tvar p, sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t},\n\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t},\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping: function ( u, distance ) {\n\n\t\tvar arcLengths = this.getLengths();\n\n\t\tvar i = 0, il = arcLengths.length;\n\n\t\tvar targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tvar low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tvar lengthBefore = arcLengths[ i ];\n\t\tvar lengthAfter = arcLengths[ i + 1 ];\n\n\t\tvar segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tvar segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tvar t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t},\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent: function ( t ) {\n\n\t\tvar delta = 0.0001;\n\t\tvar t1 = t - delta;\n\t\tvar t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tvar pt1 = this.getPoint( t1 );\n\t\tvar pt2 = this.getPoint( t2 );\n\n\t\tvar vec = pt2.clone().sub( pt1 );\n\t\treturn vec.normalize();\n\n\t},\n\n\tgetTangentAt: function ( u ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t );\n\n\t},\n\n\tcomputeFrenetFrames: function ( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tvar normal = new Vector3();\n\n\t\tvar tangents = [];\n\t\tvar normals = [];\n\t\tvar binormals = [];\n\n\t\tvar vec = new Vector3();\n\t\tvar mat = new Matrix4();\n\n\t\tvar i, u, theta;\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\t\tu = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tvar min = Number.MAX_VALUE;\n\t\tvar tx = Math.abs( tangents[ 0 ].x );\n\t\tvar ty = Math.abs( tangents[ 0 ].y );\n\t\tvar tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\ttheta = Math.acos( _Math.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\ttheta = Math.acos( _Math.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'EllipseCurve';\n\n\tthis.aX = aX || 0;\n\tthis.aY = aY || 0;\n\n\tthis.xRadius = xRadius || 1;\n\tthis.yRadius = yRadius || 1;\n\n\tthis.aStartAngle = aStartAngle || 0;\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\n\n\tthis.aClockwise = aClockwise || false;\n\n\tthis.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar twoPi = Math.PI * 2;\n\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\n\tvar samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t// ensures that deltaAngle is 0 .. 2 PI\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\tif ( samePoints ) {\n\n\t\t\tdeltaAngle = 0;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = twoPi;\n\n\t\t}\n\n\t}\n\n\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\tdeltaAngle = - twoPi;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t}\n\n\t}\n\n\tvar angle = this.aStartAngle + t * deltaAngle;\n\tvar x = this.aX + this.xRadius * Math.cos( angle );\n\tvar y = this.aY + this.yRadius * Math.sin( angle );\n\n\tif ( this.aRotation !== 0 ) {\n\n\t\tvar cos = Math.cos( this.aRotation );\n\t\tvar sin = Math.sin( this.aRotation );\n\n\t\tvar tx = x - this.aX;\n\t\tvar ty = y - this.aY;\n\n\t\t// Rotate the point about the center of the ellipse.\n\t\tx = tx * cos - ty * sin + this.aX;\n\t\ty = tx * sin + ty * cos + this.aY;\n\n\t}\n\n\treturn point.set( x, y );\n\n};\n\nEllipseCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.aX = source.aX;\n\tthis.aY = source.aY;\n\n\tthis.xRadius = source.xRadius;\n\tthis.yRadius = source.yRadius;\n\n\tthis.aStartAngle = source.aStartAngle;\n\tthis.aEndAngle = source.aEndAngle;\n\n\tthis.aClockwise = source.aClockwise;\n\n\tthis.aRotation = source.aRotation;\n\n\treturn this;\n\n};\n\n\nEllipseCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.aX = this.aX;\n\tdata.aY = this.aY;\n\n\tdata.xRadius = this.xRadius;\n\tdata.yRadius = this.yRadius;\n\n\tdata.aStartAngle = this.aStartAngle;\n\tdata.aEndAngle = this.aEndAngle;\n\n\tdata.aClockwise = this.aClockwise;\n\n\tdata.aRotation = this.aRotation;\n\n\treturn data;\n\n};\n\nEllipseCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.aX = json.aX;\n\tthis.aY = json.aY;\n\n\tthis.xRadius = json.xRadius;\n\tthis.yRadius = json.yRadius;\n\n\tthis.aStartAngle = json.aStartAngle;\n\tthis.aEndAngle = json.aEndAngle;\n\n\tthis.aClockwise = json.aClockwise;\n\n\tthis.aRotation = json.aRotation;\n\n\treturn this;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\tthis.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tvar c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tvar t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tvar t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nvar tmp = new Vector3();\nvar px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points, closed, curveType, tension ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CatmullRomCurve3';\n\n\tthis.points = points || [];\n\tthis.closed = closed || false;\n\tthis.curveType = curveType || 'centripetal';\n\tthis.tension = tension || 0.5;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar points = this.points;\n\tvar l = points.length;\n\n\tvar p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tif ( this.closed ) {\n\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\tintPoint = l - 2;\n\t\tweight = 1;\n\n\t}\n\n\tvar p0, p1, p2, p3; // 4 points\n\n\tif ( this.closed || intPoint > 0 ) {\n\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate first point\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\tp0 = tmp;\n\n\t}\n\n\tp1 = points[ intPoint % l ];\n\tp2 = points[ ( intPoint + 1 ) % l ];\n\n\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate last point\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\tp3 = tmp;\n\n\t}\n\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t// init Centripetal / Chordal Catmull-Rom\n\t\tvar pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\tvar dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\tvar dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\tvar dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t// safety check for repeated points\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t}\n\n\tpoint.set(\n\t\tpx.calc( weight ),\n\t\tpy.calc( weight ),\n\t\tpz.calc( weight )\n\t);\n\n\treturn point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\tthis.closed = source.closed;\n\tthis.curveType = source.curveType;\n\tthis.tension = source.tension;\n\n\treturn this;\n\n};\n\nCatmullRomCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\tdata.closed = this.closed;\n\tdata.curveType = this.curveType;\n\tdata.tension = this.tension;\n\n\treturn data;\n\n};\n\nCatmullRomCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t}\n\n\tthis.closed = json.closed;\n\tthis.curveType = json.curveType;\n\tthis.tension = json.tension;\n\n\treturn this;\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tvar v0 = ( p2 - p0 ) * 0.5;\n\tvar v1 = ( p3 - p1 ) * 0.5;\n\tvar t2 = t * t;\n\tvar t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tvar k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\tthis.v3 = v3 || new Vector2();\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\tthis.v3 = v3 || new Vector3();\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction LineCurve( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve';\n\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve.prototype.getTangent = function ( /* t */ ) {\n\n\tvar tangent = this.v2.clone().sub( this.v1 );\n\n\treturn tangent.normalize();\n\n};\n\nLineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction LineCurve3( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve3';\n\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction SplineCurve( points /* array of Vector2 */ ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'SplineCurve';\n\n\tthis.points = points || [];\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar points = this.points;\n\tvar p = ( points.length - 1 ) * t;\n\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tvar p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\tvar p1 = points[ intPoint ];\n\tvar p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\tvar p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\tpoint.set(\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t);\n\n\treturn point;\n\n};\n\nSplineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\treturn this;\n\n};\n\nSplineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\treturn data;\n\n};\n\nSplineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t}\n\n\treturn this;\n\n};\n\n\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n\tCurve.call( this );\n\n\tthis.type = 'CurvePath';\n\n\tthis.curves = [];\n\tthis.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n\tconstructor: CurvePath,\n\n\tadd: function ( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t},\n\n\tclosePath: function () {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tvar startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tvar endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t},\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint: function ( t ) {\n\n\t\tvar d = t * this.getLength();\n\t\tvar curveLengths = this.getCurveLengths();\n\t\tvar i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tvar diff = curveLengths[ i ] - d;\n\t\t\t\tvar curve = this.curves[ i ];\n\n\t\t\t\tvar segmentLength = curve.getLength();\n\t\t\t\tvar u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t},\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength: function () {\n\n\t\tvar lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t},\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t},\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths: function () {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tvar lengths = [], sums = 0;\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t},\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 40;\n\n\t\tvar points = [];\n\n\t\tfor ( var i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tgetPoints: function ( divisions ) {\n\n\t\tdivisions = divisions || 12;\n\n\t\tvar points = [], last;\n\n\t\tfor ( var i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tvar curve = curves[ i ];\n\t\t\tvar resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tvar pts = curve.getPoints( resolution );\n\n\t\t\tfor ( var j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tvar point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurve.prototype.copy.call( this, source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Curve.prototype.toJSON.call( this );\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurve.prototype.fromJSON.call( this, json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n **/\n\nfunction Path( points ) {\n\n\tCurvePath.call( this );\n\n\tthis.type = 'Path';\n\n\tthis.currentPoint = new Vector2();\n\n\tif ( points ) {\n\n\t\tthis.setFromPoints( points );\n\n\t}\n\n}\n\nPath.prototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n\tconstructor: Path,\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( var i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t},\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tvar curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tvar curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tvar curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t},\n\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\n\n\t\tvar npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tvar curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t},\n\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t},\n\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t},\n\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t},\n\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tvar firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tvar lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurvePath.prototype.copy.call( this, source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = CurvePath.prototype.toJSON.call( this );\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurvePath.prototype.fromJSON.call( this, json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( Path.prototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tvar holesPts = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Path.prototype.toJSON.call( this );\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tPath.prototype.fromJSON.call( this, json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Light( color, intensity ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Light';\n\n\tthis.color = new Color( color );\n\tthis.intensity = intensity !== undefined ? intensity : 1;\n\n\tthis.receiveShadow = undefined;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Light,\n\n\tisLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n\tLight.call( this, skyColor, intensity );\n\n\tthis.type = 'HemisphereLight';\n\n\tthis.castShadow = undefined;\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: HemisphereLight,\n\n\tisHemisphereLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LightShadow( camera ) {\n\n\tthis.camera = camera;\n\n\tthis.bias = 0;\n\tthis.radius = 1;\n\n\tthis.mapSize = new Vector2( 512, 512 );\n\n\tthis.map = null;\n\tthis.mapPass = null;\n\tthis.matrix = new Matrix4();\n\n\tthis._frustum = new Frustum();\n\tthis._frameExtents = new Vector2( 1, 1 );\n\n\tthis._viewportCount = 1;\n\n\tthis._viewports = [\n\n\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t];\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n\t_projScreenMatrix: new Matrix4(),\n\n\t_lightPositionWorld: new Vector3(),\n\n\t_lookTarget: new Vector3(),\n\n\tgetViewportCount: function () {\n\n\t\treturn this._viewportCount;\n\n\t},\n\n\tgetFrustum: function () {\n\n\t\treturn this._frustum;\n\n\t},\n\n\tupdateMatrices: function ( light ) {\n\n\t\tvar shadowCamera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tprojScreenMatrix = this._projScreenMatrix,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tlightPositionWorld = this._lightPositionWorld;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( lookTarget );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\tprojScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromMatrix( projScreenMatrix );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t},\n\n\tgetViewport: function ( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t},\n\n\tgetFrameExtents: function () {\n\n\t\treturn this._frameExtents;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdateMatrices: function ( light, viewCamera, viewportIndex ) {\n\n\t\tvar camera = this.camera;\n\n\t\tvar fov = _Math.RAD2DEG * 2 * light.angle;\n\t\tvar aspect = this.mapSize.width / this.mapSize.height;\n\t\tvar far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light, viewCamera, viewportIndex );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'SpotLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / Math.PI;\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: SpotLight,\n\n\tisSpotLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction PointLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\tthis._frameExtents = new Vector2( 4, 2 );\n\n\tthis._viewportCount = 6;\n\n\tthis._viewports = [\n\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t// following orientation:\n\t\t//\n\t\t//  xzXZ\n\t\t//   y Y\n\t\t//\n\t\t// X - Positive x direction\n\t\t// x - Negative x direction\n\t\t// Y - Positive y direction\n\t\t// y - Negative y direction\n\t\t// Z - Positive z direction\n\t\t// z - Negative z direction\n\n\t\t// positive X\n\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t// negative X\n\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t// positive Z\n\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t// negative Z\n\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t// positive Y\n\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t// negative Y\n\t\tnew Vector4( 1, 0, 1, 1 )\n\t];\n\n\tthis._cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tthis._cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n}\n\nPointLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: PointLightShadow,\n\n\tisPointLightShadow: true,\n\n\tupdateMatrices: function ( light, viewCamera, viewportIndex ) {\n\n\t\tvar camera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tlightPositionWorld = this._lightPositionWorld,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tprojScreenMatrix = this._projScreenMatrix;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.copy( camera.position );\n\t\tlookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - lightPositionWorld.x, - lightPositionWorld.y, - lightPositionWorld.z );\n\n\t\tprojScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromMatrix( projScreenMatrix );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'PointLight';\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * 4 * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new PointLightShadow();\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: PointLight,\n\n\tisPointLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = ( left !== undefined ) ? left : - 1;\n\tthis.right = ( right !== undefined ) ? right : 1;\n\tthis.top = ( top !== undefined ) ? top : 1;\n\tthis.bottom = ( bottom !== undefined ) ? bottom : - 1;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tvar cx = ( this.right + this.left ) / 2;\n\t\tvar cy = ( this.top + this.bottom ) / 2;\n\n\t\tvar left = cx - dx;\n\t\tvar right = cx + dx;\n\t\tvar top = cy + dy;\n\t\tvar bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar zoomW = this.zoom / ( this.view.width / this.view.fullWidth );\n\t\t\tvar zoomH = this.zoom / ( this.view.height / this.view.fullHeight );\n\t\t\tvar scaleW = ( this.right - this.left ) / this.view.width;\n\t\t\tvar scaleH = ( this.top - this.bottom ) / this.view.height;\n\n\t\t\tleft += scaleW * ( this.view.offsetX / zoomW );\n\t\t\tright = left + scaleW * ( this.view.width / zoomW );\n\t\t\ttop -= scaleH * ( this.view.offsetY / zoomH );\n\t\t\tbottom = top - scaleH * ( this.view.height / zoomH );\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectionalLightShadow() {\n\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: DirectionalLightShadow,\n\n\tisDirectionalLightShadow: true,\n\n\tupdateMatrices: function ( light, viewCamera, viewportIndex ) {\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light, viewCamera, viewportIndex );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DirectionalLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'DirectionalLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tthis.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: DirectionalLight,\n\n\tisDirectionalLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AmbientLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'AmbientLight';\n\n\tthis.castShadow = undefined;\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: AmbientLight,\n\n\tisAmbientLight: true\n\n} );\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'RectAreaLight';\n\n\tthis.width = ( width !== undefined ) ? width : 10;\n\tthis.height = ( height !== undefined ) ? height : 10;\n\n}\n\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: RectAreaLight,\n\n\tisRectAreaLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction MaterialLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n\tthis.textures = {};\n\n}\n\nMaterialLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: MaterialLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tvar material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.vertexColors !== undefined ) material.vertexColors = json.vertexColors;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.morphNormals !== undefined ) material.morphNormals = json.morphNormals;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( var name in json.uniforms ) {\n\n\t\t\t\tvar uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( var key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) {\n\n\t\t\tmaterial.alphaMap = getTexture( json.alphaMap );\n\t\t\tmaterial.transparent = true;\n\n\t\t}\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tvar normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\treturn material;\n\n\t},\n\n\tsetTextures: function ( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nvar LoaderUtils = {\n\n\tdecodeText: function ( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tvar s = '';\n\n\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t},\n\n\textractUrlBase: function ( url ) {\n\n\t\tvar index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.maxInstancedCount = undefined;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.maxInstancedCount = source.maxInstancedCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.maxInstancedCount = this.maxInstancedCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\n\n\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\tmeshPerAttribute = normalized;\n\n\t\tnormalized = false;\n\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t}\n\n\tBufferAttribute.call( this, array, itemSize, normalized );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ()\t{\n\n\t\tvar data = BufferAttribute.prototype.toJSON.call( this );\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferGeometryLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nBufferGeometryLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: BufferGeometryLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tvar index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tvar attributes = json.data.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\t\t\tvar bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\tvar bufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tgeometry.addAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tvar morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( var key in morphAttributes ) {\n\n\t\t\t\tvar attributeArray = morphAttributes[ key ];\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar attribute = attributeArray[ i ];\n\t\t\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\n\t\t\t\t\tvar bufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( var i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tvar center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\nvar TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\t// Workaround for IE11 pre KB2929437. See #11440\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nObjectLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ObjectLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tvar shapes = this.parseShape( json.shapes );\n\t\tvar geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tvar images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tvar textures = this.parseTextures( json.textures, images );\n\t\tvar materials = this.parseMaterials( json.materials, textures );\n\n\t\tvar object = this.parseObject( json.object, geometries, materials );\n\n\t\tif ( json.animations ) {\n\n\t\t\tobject.animations = this.parseAnimations( json.animations );\n\n\t\t}\n\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t},\n\n\tparseShape: function ( json ) {\n\n\t\tvar shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t},\n\n\tparseGeometries: function ( json, shapes ) {\n\n\t\tvar geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar geometry;\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TubeGeometry':\n\t\t\t\t\tcase 'TubeBufferGeometry':\n\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.closed\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tif ( 'THREE' in window && 'LegacyJSONLoader' in THREE ) {\n\n\t\t\t\t\t\t\tvar geometryLoader = new THREE.LegacyJSONLoader();\n\t\t\t\t\t\t\tgeometry = geometryLoader.parse( data, this.resourcePath ).geometry;\n\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type \"Geometry\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t},\n\n\tparseMaterials: function ( json, textures ) {\n\n\t\tvar cache = {}; // MultiMaterial\n\t\tvar materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tvar array = [];\n\n\t\t\t\t\tfor ( var j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tvar material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t},\n\n\tparseAnimations: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar data = json[ i ];\n\n\t\t\tvar clip = AnimationClip.parse( data );\n\n\t\t\tif ( data.uuid !== undefined ) clip.uuid = data.uuid;\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t},\n\n\tparseImages: function ( json, onLoad ) {\n\n\t\tvar scope = this;\n\t\tvar images = {};\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tvar manager = new LoadingManager( onLoad );\n\n\t\t\tvar loader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( var i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tvar image = json[ i ];\n\t\t\t\tvar url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( var j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar currentUrl = url[ j ];\n\n\t\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( currentUrl ) ? currentUrl : scope.resourcePath + currentUrl;\n\n\t\t\t\t\t\timages[ image.uuid ].push( loadImage( path ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.resourcePath + image.url;\n\n\t\t\t\t\timages[ image.uuid ] = loadImage( path );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t},\n\n\tparseTextures: function ( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tvar textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( Array.isArray( images[ data.image ] ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( images[ data.image ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = new Texture( images[ data.image ] );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t},\n\n\tparseObject: function ( data, geometries, materials ) {\n\n\t\tvar object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tvar uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\tvar material = getMaterial( data.material );\n\n\t\t\t\tif ( geometry.bones && geometry.bones.length > 0 ) {\n\n\t\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.drawMode !== undefined ) object.setDrawMode( data.drawMode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tvar children = data.children;\n\n\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tvar levels = data.levels;\n\n\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tvar level = levels[ l ];\n\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n} );\n\nvar TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tSphericalReflectionMapping: SphericalReflectionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nvar TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nvar TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\n/**\n * @author thespite / http://clicktorelease.com/\n */\n\n\nfunction ImageBitmapLoader( manager ) {\n\n\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t}\n\n\tif ( typeof fetch === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t}\n\n\tLoader.call( this, manager );\n\n\tthis.options = undefined;\n\n}\n\nImageBitmapLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageBitmapLoader,\n\n\tsetOptions: function setOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t},\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tfetch( url ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\tif ( scope.options === undefined ) {\n\n\t\t\t\t// Workaround for FireFox. It causes an error if you pass options.\n\t\t\t\treturn createImageBitmap( blob );\n\n\t\t\t} else {\n\n\t\t\t\treturn createImageBitmap( blob, scope.options );\n\n\t\t\t}\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n **/\n\nfunction ShapePath() {\n\n\tthis.type = 'ShapePath';\n\n\tthis.color = new Color();\n\n\tthis.subPaths = [];\n\tthis.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t},\n\n\tsplineThru: function ( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t},\n\n\ttoShapes: function ( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tvar shapes = [];\n\n\t\t\tfor ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tvar tmpPath = inSubpaths[ i ];\n\n\t\t\t\tvar tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tvar polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tvar inside = false;\n\t\t\tfor ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tvar edgeLowPt = inPolygon[ p ];\n\t\t\t\tvar edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tvar edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tvar edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tvar isClockWise = ShapeUtils.isClockWise;\n\n\t\tvar subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tvar solid, tmpPath, tmpShape, shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tvar holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tvar betterShapeHoles = [];\n\t\tvar newShapes = [];\n\t\tvar newShapeHoles = [];\n\t\tvar mainIdx = 0;\n\t\tvar tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( var i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tvar ambiguous = false;\n\t\t\tvar toChange = [];\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tvar sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tvar ho = sho[ hIdx ];\n\t\t\t\t\tvar hole_unassigned = true;\n\n\t\t\t\t\tfor ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar tmpHoles;\n\n\t\tfor ( var i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction Font( data ) {\n\n\tthis.type = 'Font';\n\n\tthis.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n\tisFont: true,\n\n\tgenerateShapes: function ( text, size ) {\n\n\t\tif ( size === undefined ) size = 100;\n\n\t\tvar shapes = [];\n\t\tvar paths = createPaths( text, size, this.data );\n\n\t\tfor ( var p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\nfunction createPaths( text, size, data ) {\n\n\tvar chars = Array.from ? Array.from( text ) : String( text ).split( '' ); // see #13988\n\tvar scale = size / data.resolution;\n\tvar line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tvar paths = [];\n\n\tvar offsetX = 0, offsetY = 0;\n\n\tfor ( var i = 0; i < chars.length; i ++ ) {\n\n\t\tvar char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tvar ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tvar glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tvar path = new ShapePath();\n\n\tvar x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tvar outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( var i = 0, l = outline.length; i < l; ) {\n\n\t\t\tvar action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction FontLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFontLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FontLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tvar font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _context;\n\nvar AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\n/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction AudioLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAudioLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AudioLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\tvar bufferCopy = buffer.slice( 0 );\n\n\t\t\tvar context = AudioContext.getContext();\n\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t} );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nfunction SphericalHarmonics3() {\n\n\tthis.coefficients = [];\n\n\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\tthis.coefficients.push( new Vector3() );\n\n\t}\n\n}\n\nObject.assign( SphericalHarmonics3.prototype, {\n\n\tisSphericalHarmonics3: true,\n\n\tset: function ( coefficients ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tzero: function () {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt: function ( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\tvar coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScale( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScale( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScale( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScale( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScale( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScale( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScale( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScale( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t},\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt: function ( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\tvar coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScale( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\n\t\ttarget.addScale( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScale( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScale( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\n\t\ttarget.addScale( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScale( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\n\t\ttarget.addScale( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScale( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t},\n\n\tadd: function ( sh ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\n\tscale: function ( s ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( sh, alpha ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sh ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcopy: function ( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar coefficients = this.coefficients;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar coefficients = this.coefficients;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n} );\n\nObject.assign( SphericalHarmonics3, {\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tgetBasisAt: function ( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * A LightProbe is a source of indirect-diffuse light\n */\n\nfunction LightProbe( sh, intensity ) {\n\n\tLight.call( this, undefined, intensity );\n\n\tthis.sh = ( sh !== undefined ) ? sh : new SphericalHarmonics3();\n\n}\n\nLightProbe.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: LightProbe,\n\n\tisLightProbe: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.sh.copy( source.sh );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction HemisphereLightProbe( skyColor, groundColor, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tvar color1 = new Color().set( skyColor );\n\tvar color2 = new Color().set( groundColor );\n\n\tvar sky = new Vector3( color1.r, color1.g, color1.b );\n\tvar ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\tvar c0 = Math.sqrt( Math.PI );\n\tvar c1 = c0 * Math.sqrt( 0.75 );\n\n\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n}\n\nHemisphereLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: HemisphereLightProbe,\n\n\tisHemisphereLightProbe: true,\n\n\tcopy: function ( source ) { // modifying colors not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction AmbientLightProbe( color, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tvar color1 = new Color().set( color );\n\n\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n}\n\nAmbientLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: AmbientLightProbe,\n\n\tisAmbientLightProbe: true,\n\n\tcopy: function ( source ) { // modifying color not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\nvar _eyeRight = new Matrix4();\nvar _eyeLeft = new Matrix4();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction StereoCamera() {\n\n\tthis.type = 'StereoCamera';\n\n\tthis.aspect = 1;\n\n\tthis.eyeSep = 0.064;\n\n\tthis.cameraL = new PerspectiveCamera();\n\tthis.cameraL.layers.enable( 1 );\n\tthis.cameraL.matrixAutoUpdate = false;\n\n\tthis.cameraR = new PerspectiveCamera();\n\tthis.cameraR.layers.enable( 2 );\n\tthis.cameraR.matrixAutoUpdate = false;\n\n\tthis._cache = {\n\t\tfocus: null,\n\t\tfov: null,\n\t\taspect: null,\n\t\tnear: null,\n\t\tfar: null,\n\t\tzoom: null,\n\t\teyeSep: null\n\t};\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n\tupdate: function ( camera ) {\n\n\t\tvar cache = this._cache;\n\n\t\tvar needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\tvar projectionMatrix = camera.projectionMatrix.clone();\n\t\t\tvar eyeSepHalf = cache.eyeSep / 2;\n\t\t\tvar eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tvar ymax = ( cache.near * Math.tan( _Math.DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tvar xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Clock( autoStart ) {\n\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\tthis.startTime = 0;\n\tthis.oldTime = 0;\n\tthis.elapsedTime = 0;\n\n\tthis.running = false;\n\n}\n\nObject.assign( Clock.prototype, {\n\n\tstart: function () {\n\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t},\n\n\tgetElapsedTime: function () {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t},\n\n\tgetDelta: function () {\n\n\t\tvar diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tvar newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _position$2 = new Vector3();\nvar _quaternion$3 = new Quaternion();\nvar _scale$1 = new Vector3();\nvar _orientation = new Vector3();\n\nfunction AudioListener() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'AudioListener';\n\n\tthis.context = AudioContext.getContext();\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( this.context.destination );\n\n\tthis.filter = null;\n\n\tthis.timeDelta = 0;\n\n\t// private\n\n\tthis._clock = new Clock();\n\n}\n\nAudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: AudioListener,\n\n\tgetInput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tremoveFilter: function ( ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.filter;\n\n\t},\n\n\tsetFilter: function ( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t},\n\n\tgetMasterVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetMasterVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tvar listener = this.context.listener;\n\t\tvar up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$2, _quaternion$3, _scale$1 );\n\n\t\t_orientation.set( 0, 0, - 1 ).applyQuaternion( _quaternion$3 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tvar endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$2.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$2.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$2.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$2.x, _position$2.y, _position$2.z );\n\t\t\tlistener.setOrientation( _orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction Audio( listener ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Audio';\n\n\tthis.listener = listener;\n\tthis.context = listener.context;\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( listener.getInput() );\n\n\tthis.autoplay = false;\n\n\tthis.buffer = null;\n\tthis.detune = 0;\n\tthis.loop = false;\n\tthis.startTime = 0;\n\tthis.offset = 0;\n\tthis.duration = undefined;\n\tthis.playbackRate = 1;\n\tthis.isPlaying = false;\n\tthis.hasPlaybackControl = true;\n\tthis.sourceType = 'empty';\n\n\tthis.filters = [];\n\n}\n\nAudio.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Audio,\n\n\tgetOutput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tsetNodeSource: function ( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetMediaElementSource: function ( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetBuffer: function ( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t},\n\n\tplay: function () {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar source = this.context.createBufferSource();\n\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tthis.startTime = this.context.currentTime;\n\t\tsource.start( this.startTime, this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t},\n\n\tpause: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\t\t\tthis.offset += ( this.context.currentTime - this.startTime ) * this.playbackRate;\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.offset = 0;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t},\n\n\tconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilters: function () {\n\n\t\treturn this.filters;\n\n\t},\n\n\tsetFilters: function ( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value;\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetDetune: function ( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetDetune: function () {\n\n\t\treturn this.detune;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t},\n\n\tsetFilter: function ( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t},\n\n\tsetPlaybackRate: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetPlaybackRate: function () {\n\n\t\treturn this.playbackRate;\n\n\t},\n\n\tonEnded: function () {\n\n\t\tthis.isPlaying = false;\n\n\t},\n\n\tgetLoop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t},\n\n\tsetLoop: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _position$3 = new Vector3();\nvar _quaternion$4 = new Quaternion();\nvar _scale$2 = new Vector3();\nvar _orientation$1 = new Vector3();\n\nfunction PositionalAudio( listener ) {\n\n\tAudio.call( this, listener );\n\n\tthis.panner = this.context.createPanner();\n\tthis.panner.panningModel = 'HRTF';\n\tthis.panner.connect( this.gain );\n\n}\n\nPositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\n\n\tconstructor: PositionalAudio,\n\n\tgetOutput: function () {\n\n\t\treturn this.panner;\n\n\t},\n\n\tgetRefDistance: function () {\n\n\t\treturn this.panner.refDistance;\n\n\t},\n\n\tsetRefDistance: function ( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetRolloffFactor: function () {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t},\n\n\tsetRolloffFactor: function ( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetDistanceModel: function () {\n\n\t\treturn this.panner.distanceModel;\n\n\t},\n\n\tsetDistanceModel: function ( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxDistance: function () {\n\n\t\treturn this.panner.maxDistance;\n\n\t},\n\n\tsetMaxDistance: function ( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tsetDirectionalCone: function ( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$4, _scale$2 );\n\n\t\t_orientation$1.set( 0, 0, 1 ).applyQuaternion( _quaternion$4 );\n\n\t\tvar panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tvar endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position$3.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position$3.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position$3.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position$3.x, _position$3.y, _position$3.z );\n\t\t\tpanner.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioAnalyser( audio, fftSize ) {\n\n\tthis.analyser = audio.context.createAnalyser();\n\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\taudio.getOutput().connect( this.analyser );\n\n}\n\nObject.assign( AudioAnalyser.prototype, {\n\n\tgetFrequencyData: function () {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t},\n\n\tgetAverageFrequency: function () {\n\n\t\tvar value = 0, data = this.getFrequencyData();\n\n\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n} );\n\n/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n\tthis.binding = binding;\n\tthis.valueSize = valueSize;\n\n\tvar bufferType = Float64Array,\n\t\tmixFunction;\n\n\tswitch ( typeName ) {\n\n\t\tcase 'quaternion':\n\t\t\tmixFunction = this._slerp;\n\t\t\tbreak;\n\n\t\tcase 'string':\n\t\tcase 'bool':\n\t\t\tbufferType = Array;\n\t\t\tmixFunction = this._select;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tmixFunction = this._lerp;\n\n\t}\n\n\tthis.buffer = new bufferType( valueSize * 4 );\n\t// layout: [ incoming | accu0 | accu1 | orig ]\n\t//\n\t// interpolators can use .buffer as their .result\n\t// the data then goes to 'incoming'\n\t//\n\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t// the cumulative result and are compared to detect\n\t// changes\n\t//\n\t// 'orig' stores the original state of the property\n\n\tthis._mixBufferRegion = mixFunction;\n\n\tthis.cumulativeWeight = 0;\n\n\tthis.useCount = 0;\n\tthis.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate: function ( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tcurrentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tvar mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t},\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply: function ( accuIndex ) {\n\n\t\tvar stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tvar originalValueOffset = stride * 3;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tfor ( var i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState: function () {\n\n\t\tvar binding = this.binding;\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * 3;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\tthis.cumulativeWeight = 0;\n\n\t},\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState: function () {\n\n\t\tvar originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t},\n\n\n\t// mix functions\n\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t},\n\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tvar s = 1 - t;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tvar j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\n// Characters [].:/ are reserved for track binding syntax.\nvar _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nvar _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nvar _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nvar _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nvar _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nvar _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nvar _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nvar _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nvar _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nvar _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n\tvar parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis._targetGroup = targetGroup;\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n\tgetValue: function ( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tvar firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t},\n\n\tsetValue: function ( array, offset ) {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t},\n\n\tbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t},\n\n\tunbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n\tthis.path = path;\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\tthis.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n\tComposite: Composite,\n\n\tcreate: function ( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tsanitizeNodeName: function ( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t},\n\n\tparseTrackName: function ( trackName ) {\n\n\t\tvar matches = _trackRe.exec( trackName );\n\n\t\tif ( ! matches ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tvar results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tvar lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tvar objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against a whitelist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t},\n\n\tfindNode: function ( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tvar bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tvar searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tvar childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tvar subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable: function () {},\n\t_setValue_unavailable: function () {},\n\n\tBindingType: {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t},\n\n\tVersioning: {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t},\n\n\tGetterByBindingType: [\n\n\t\tfunction getValue_direct( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t\t},\n\n\t\tfunction getValue_array( buffer, offset ) {\n\n\t\t\tvar source = this.resolvedProperty;\n\n\t\t\tfor ( var i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t\t}\n\n\t\t},\n\n\t\tfunction getValue_arrayElement( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t\t},\n\n\t\tfunction getValue_toArray( buffer, offset ) {\n\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t\t}\n\n\t],\n\n\tSetterByBindingTypeAndVersioning: [\n\n\t\t[\n\t\t\t// Direct\n\n\t\t\tfunction setValue_direct( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// EntireArray\n\n\t\t\tfunction setValue_array( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// ArrayElement\n\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// HasToFromArray\n\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t]\n\n\t],\n\n\tgetValue: function getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t\t// Note: This class uses a State pattern on a per-method basis:\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t\t// prototype version of these methods with one that represents\n\t\t// the bound state. When the property is not found, the methods\n\t\t// become no-ops.\n\n\t},\n\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t},\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind: function () {\n\n\t\tvar targetObject = this.node,\n\t\t\tparsedPath = this.parsedPath,\n\n\t\t\tobjectName = parsedPath.objectName,\n\t\t\tpropertyName = parsedPath.propertyName,\n\t\t\tpropertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tvar objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( var i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tvar nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tvar nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tvar versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tvar bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphAttributes.position.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphAttributes.position[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphTargets ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphTargets[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t},\n\n\tunbind: function () {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( PropertyBinding.prototype, {\n\n\t// initial state of these methods that calls 'bind'\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n *\n * @author tschw\n */\n\nfunction AnimationObjectGroup() {\n\n\tthis.uuid = _Math.generateUUID();\n\n\t// cached objects followed by the active ones\n\tthis._objects = Array.prototype.slice.call( arguments );\n\n\tthis.nCachedObjects_ = 0; // threshold\n\t// note: read by PropertyBinding.Composite\n\n\tvar indices = {};\n\tthis._indicesByUUID = indices; // for bookkeeping\n\n\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t}\n\n\tthis._paths = []; // inside: string\n\tthis._parsedPaths = []; // inside: { we don't care, here }\n\tthis._bindings = []; // inside: Array< PropertyBinding >\n\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\tvar scope = this;\n\n\tthis.stats = {\n\n\t\tobjects: {\n\t\t\tget total() {\n\n\t\t\t\treturn scope._objects.length;\n\n\t\t\t},\n\t\t\tget inUse() {\n\n\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t}\n\t\t},\n\t\tget bindingsPerObject() {\n\n\t\t\treturn scope._bindings.length;\n\n\t\t}\n\n\t};\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n\tisAnimationObjectGroup: true,\n\n\tadd: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length,\n\t\t\tknownObject = undefined;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\tremove: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tvar lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// remove & forget\n\tuncache: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tvar lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_: function ( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ],\n\t\t\tbindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tvar paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( var i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tvar object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t},\n\n\tunsubscribe_: function ( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */\n\nfunction AnimationAction( mixer, clip, localRoot ) {\n\n\tthis._mixer = mixer;\n\tthis._clip = clip;\n\tthis._localRoot = localRoot || null;\n\n\tvar tracks = clip.tracks,\n\t\tnTracks = tracks.length,\n\t\tinterpolants = new Array( nTracks );\n\n\tvar interpolantSettings = {\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\t};\n\n\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\tvar interpolant = tracks[ i ].createInterpolant( null );\n\t\tinterpolants[ i ] = interpolant;\n\t\tinterpolant.settings = interpolantSettings;\n\n\t}\n\n\tthis._interpolantSettings = interpolantSettings;\n\n\tthis._interpolants = interpolants; // bound by the mixer\n\n\t// inside: PropertyMixer (managed by the mixer)\n\tthis._propertyBindings = new Array( nTracks );\n\n\tthis._cacheIndex = null; // for the memory manager\n\tthis._byClipCacheIndex = null; // for the memory manager\n\n\tthis._timeScaleInterpolant = null;\n\tthis._weightInterpolant = null;\n\n\tthis.loop = LoopRepeat;\n\tthis._loopCount = - 1;\n\n\t// global mixer time when the action is to be started\n\t// it's set back to 'null' upon start of the action\n\tthis._startTime = null;\n\n\t// scaled local time of the action\n\t// gets clamped or wrapped to 0..clip.duration according to loop\n\tthis.time = 0;\n\n\tthis.timeScale = 1;\n\tthis._effectiveTimeScale = 1;\n\n\tthis.weight = 1;\n\tthis._effectiveWeight = 1;\n\n\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\tthis.paused = false; // true -> zero effective time scale\n\tthis.enabled = true; // false -> zero effective weight\n\n\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n}\n\nObject.assign( AnimationAction.prototype, {\n\n\t// State & Scheduling\n\n\tplay: function () {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t},\n\n\treset: function () {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t},\n\n\tisRunning: function () {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t},\n\n\t// return true when play has been called\n\tisScheduled: function () {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t},\n\n\tstartAt: function ( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoop: function ( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t},\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight: function ( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t},\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight: function () {\n\n\t\treturn this._effectiveWeight;\n\n\t},\n\n\tfadeIn: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t},\n\n\tfadeOut: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t},\n\n\tcrossFadeFrom: function ( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tvar fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcrossFadeTo: function ( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t},\n\n\tstopFading: function () {\n\n\t\tvar weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale: function ( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale: function () {\n\n\t\treturn this._effectiveTimeScale;\n\n\t},\n\n\tsetDuration: function ( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\tsyncWith: function ( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\thalt: function ( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t},\n\n\twarp: function ( startTimeScale, endTimeScale, duration ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._timeScaleInterpolant,\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t},\n\n\tstopWarping: function () {\n\n\t\tvar timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Object Accessors\n\n\tgetMixer: function () {\n\n\t\treturn this._mixer;\n\n\t},\n\n\tgetClip: function () {\n\n\t\treturn this._clip;\n\n\t},\n\n\tgetRoot: function () {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t},\n\n\t// Interna\n\n\t_update: function ( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tvar timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tvar clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tvar weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tvar interpolants = this._interpolants;\n\t\t\tvar propertyMixers = this._propertyBindings;\n\n\t\t\tfor ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_updateWeight: function ( time ) {\n\n\t\tvar weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tvar interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t},\n\n\t_updateTimeScale: function ( time ) {\n\n\t\tvar timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tvar interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t},\n\n\t_updateTime: function ( deltaTime ) {\n\n\t\tvar time = this.time + deltaTime;\n\t\tvar duration = this._clip.duration;\n\t\tvar loop = this.loop;\n\t\tvar loopCount = this._loopCount;\n\n\t\tvar pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tvar loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tvar pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tvar atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t},\n\n\t_setEndings: function ( atStart, atEnd, pingPong ) {\n\n\t\tvar settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_scheduleFading: function ( duration, weightNow, weightThen ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction AnimationMixer( root ) {\n\n\tthis._root = root;\n\tthis._initMemoryManager();\n\tthis._accuIndex = 0;\n\n\tthis.time = 0;\n\n\tthis.timeScale = 1.0;\n\n}\n\nAnimationMixer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: AnimationMixer,\n\n\t_bindAction: function ( action, prototypeAction ) {\n\n\t\tvar root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tvar track = tracks[ i ],\n\t\t\t\ttrackName = track.name,\n\t\t\t\tbinding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tvar path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t},\n\n\t_activateAction: function ( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tvar rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t},\n\n\t_deactivateAction: function ( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t},\n\n\t// Memory manager\n\n\t_initMemoryManager: function () {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tvar scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction: function ( action ) {\n\n\t\tvar index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t},\n\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n\t\tvar actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tvar knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t},\n\n\t_removeInactiveAction: function ( action ) {\n\n\t\tvar actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tvar clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tvar actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t},\n\n\t_removeInactiveBindingsForAction: function ( action ) {\n\n\t\tvar bindings = action._propertyBindings;\n\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tvar binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_lendAction: function ( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t},\n\n\t_takeBackAction: function ( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t},\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tbindings = this._bindings;\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t},\n\n\t_removeInactiveBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t},\n\n\t_lendBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t},\n\n\t_takeBackBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t},\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant: function () {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++,\n\t\t\tinterpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t},\n\n\t_takeBackControlInterpolant: function ( interpolant ) {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t},\n\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject !== null ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ],\n\t\t\tprototypeAction = null;\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tvar existingAction =\n\t\t\t\t\tactionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tvar newAction = new AnimationAction( this, clipObject, optionalRoot );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t},\n\n\t// get an existing action\n\texistingAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction: function () {\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tthis._nActiveActions = 0;\n\t\tthis._nActiveBindings = 0;\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tactions[ i ].reset();\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].useCount = 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// advance the time and update apply the animation\n\tupdate: function ( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tvar action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tvar bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// return this mixer's root target object\n\tgetRoot: function () {\n\n\t\treturn this._root;\n\n\t},\n\n\t// free all resources specific to a particular clip\n\tuncacheClip: function ( clip ) {\n\n\t\tvar actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tvar actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tvar action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tvar cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t},\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot: function ( root ) {\n\n\t\tvar rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( var clipUuid in actionsByClip ) {\n\n\t\t\tvar actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( var trackName in bindingByName ) {\n\n\t\t\t\tvar binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remove a targeted clip from the cache\n\tuncacheAction: function ( clip, optionalRoot ) {\n\n\t\tvar action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Uniform( value ) {\n\n\tif ( typeof value === 'string' ) {\n\n\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\tvalue = arguments[ 1 ];\n\n\t}\n\n\tthis.value = value;\n\n}\n\nUniform.prototype.clone = function () {\n\n\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n\tInterleavedBuffer.call( this, array, stride );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n\tconstructor: InstancedInterleavedBuffer,\n\n\tisInstancedInterleavedBuffer: true,\n\n\tcopy: function ( source ) {\n\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\tthis.camera = null;\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: {},\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.visible === false ) return;\n\n\tobject.raycast( raycaster, intersects );\n\n\tif ( recursive === true ) {\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tlinePrecision: 1,\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axiz.\n */\n\nfunction Spherical( radius, phi, theta ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0;\n\tthis.phi = ( phi !== undefined ) ? phi : 0; // polar angle\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // azimuthal angle\n\n\treturn this;\n\n}\n\nObject.assign( Spherical.prototype, {\n\n\tset: function ( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t},\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe: function () {\n\n\t\tvar EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( _Math.clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n *\n */\n\nfunction Cylindrical( radius, theta, y ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n\treturn this;\n\n}\n\nObject.assign( Cylindrical.prototype, {\n\n\tset: function ( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nvar _vector$6 = new Vector2();\n\nfunction Box2( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n}\n\nObject.assign( Box2.prototype, {\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function ( center, size ) {\n\n\t\tvar halfSize = _vector$6.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\tvar clampedPoint = _vector$6.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t},\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nvar _startP = new Vector3();\nvar _startEnd = new Vector3();\n\nfunction Line3( start, end ) {\n\n\tthis.start = ( start !== undefined ) ? start : new Vector3();\n\tthis.end = ( end !== undefined ) ? end : new Vector3();\n\n}\n\nObject.assign( Line3.prototype, {\n\n\tset: function ( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t},\n\n\tdelta: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t},\n\n\tdistanceSq: function () {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t},\n\n\tdistance: function () {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tclosestPointToPointParameter: function ( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tvar startEnd2 = _startEnd.dot( _startEnd );\n\t\tvar startEnd_startP = _startEnd.dot( _startP );\n\n\t\tvar t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = _Math.clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t},\n\n\tclosestPointToPoint: function ( point, clampToLine, target ) {\n\n\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ImmediateRenderObject( material ) {\n\n\tObject3D.call( this );\n\n\tthis.material = material;\n\tthis.render = function ( /* renderCallback */ ) {};\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _v1$5 = new Vector3();\nvar _v2$3 = new Vector3();\nvar _normalMatrix$1 = new Matrix3();\nvar _keys = [ 'a', 'b', 'c' ];\n\nfunction VertexNormalsHelper( object, size, hex, linewidth ) {\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xff0000;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\t//\n\n\tvar nNormals = 0;\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tnNormals = objGeometry.faces.length * 3;\n\n\t} else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n\t\tnNormals = objGeometry.attributes.normal.count;\n\n\t}\n\n\t//\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\tgeometry.addAttribute( 'position', positions );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n\t//\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nVertexNormalsHelper.prototype = Object.create( LineSegments.prototype );\nVertexNormalsHelper.prototype.constructor = VertexNormalsHelper;\n\nVertexNormalsHelper.prototype.update = function () {\n\n\tthis.object.updateMatrixWorld( true );\n\n\t_normalMatrix$1.getNormalMatrix( this.object.matrixWorld );\n\n\tvar matrixWorld = this.object.matrixWorld;\n\n\tvar position = this.geometry.attributes.position;\n\n\t//\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tvar vertices = objGeometry.vertices;\n\n\t\tvar faces = objGeometry.faces;\n\n\t\tvar idx = 0;\n\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tvar vertex = vertices[ face[ _keys[ j ] ] ];\n\n\t\t\t\tvar normal = face.vertexNormals[ j ];\n\n\t\t\t\t_v1$5.copy( vertex ).applyMatrix4( matrixWorld );\n\n\t\t\t\t_v2$3.copy( normal ).applyMatrix3( _normalMatrix$1 ).normalize().multiplyScalar( this.size ).add( _v1$5 );\n\n\t\t\t\tposition.setXYZ( idx, _v1$5.x, _v1$5.y, _v1$5.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t\tposition.setXYZ( idx, _v2$3.x, _v2$3.y, _v2$3.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t}\n\n\t\t}\n\n\t} else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n\t\tvar objPos = objGeometry.attributes.position;\n\n\t\tvar objNorm = objGeometry.attributes.normal;\n\n\t\tvar idx = 0;\n\n\t\t// for simplicity, ignore index and drawcalls, and render every normal\n\n\t\tfor ( var j = 0, jl = objPos.count; j < jl; j ++ ) {\n\n\t\t\t_v1$5.set( objPos.getX( j ), objPos.getY( j ), objPos.getZ( j ) ).applyMatrix4( matrixWorld );\n\n\t\t\t_v2$3.set( objNorm.getX( j ), objNorm.getY( j ), objNorm.getZ( j ) );\n\n\t\t\t_v2$3.applyMatrix3( _normalMatrix$1 ).normalize().multiplyScalar( this.size ).add( _v1$5 );\n\n\t\t\tposition.setXYZ( idx, _v1$5.x, _v1$5.y, _v1$5.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t\tposition.setXYZ( idx, _v2$3.x, _v2$3.y, _v2$3.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t}\n\n\t}\n\n\tposition.needsUpdate = true;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _vector$7 = new Vector3();\n\nfunction SpotLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = [\n\t\t0, 0, 0, \t0, 0, 1,\n\t\t0, 0, 0, \t1, 0, 1,\n\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t0, 0, 0, \t0, 1, 1,\n\t\t0, 0, 0, \t0, - 1, 1\n\t];\n\n\tfor ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\tvar p1 = ( i / l ) * Math.PI * 2;\n\t\tvar p2 = ( j / l ) * Math.PI * 2;\n\n\t\tpositions.push(\n\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t);\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.cone = new LineSegments( geometry, material );\n\tthis.add( this.cone );\n\n\tthis.update();\n\n}\n\nSpotLightHelper.prototype = Object.create( Object3D.prototype );\nSpotLightHelper.prototype.constructor = SpotLightHelper;\n\nSpotLightHelper.prototype.dispose = function () {\n\n\tthis.cone.geometry.dispose();\n\tthis.cone.material.dispose();\n\n};\n\nSpotLightHelper.prototype.update = function () {\n\n\tthis.light.updateMatrixWorld();\n\n\tvar coneLength = this.light.distance ? this.light.distance : 1000;\n\tvar coneWidth = coneLength * Math.tan( this.light.angle );\n\n\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t_vector$7.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\tthis.cone.lookAt( _vector$7 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.cone.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.cone.material.color.copy( this.light.color );\n\n\t}\n\n};\n\n/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nvar _vector$8 = new Vector3();\nvar _boneMatrix = new Matrix4();\nvar _matrixWorldInv = new Matrix4();\n\nfunction getBoneList( object ) {\n\n\tvar boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( var i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nfunction SkeletonHelper( object ) {\n\n\tvar bones = getBoneList( object );\n\n\tvar geometry = new BufferGeometry();\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar color1 = new Color( 0, 0, 1 );\n\tvar color2 = new Color( 0, 1, 0 );\n\n\tfor ( var i = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t}\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors, depthTest: false, depthWrite: false, transparent: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.root = object;\n\tthis.bones = bones;\n\n\tthis.matrix = object.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n}\n\nSkeletonHelper.prototype = Object.create( LineSegments.prototype );\nSkeletonHelper.prototype.constructor = SkeletonHelper;\n\nSkeletonHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar bones = this.bones;\n\n\tvar geometry = this.geometry;\n\tvar position = geometry.getAttribute( 'position' );\n\n\t_matrixWorldInv.getInverse( this.root.matrixWorld );\n\n\tfor ( var i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t_vector$8.setFromMatrixPosition( _boneMatrix );\n\t\t\tposition.setXYZ( j, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t_vector$8.setFromMatrixPosition( _boneMatrix );\n\t\t\tposition.setXYZ( j + 1, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t\tj += 2;\n\n\t\t}\n\n\t}\n\n\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PointLightHelper( light, sphereSize, color ) {\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.color = color;\n\n\tvar geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n\tvar material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\n\tMesh.call( this, geometry, material );\n\n\tthis.matrix = this.light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n\n\t/*\n\tvar distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tvar d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n}\n\nPointLightHelper.prototype = Object.create( Mesh.prototype );\nPointLightHelper.prototype.constructor = PointLightHelper;\n\nPointLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\n};\n\nPointLightHelper.prototype.update = function () {\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color );\n\n\t}\n\n\t/*\n\tvar d = this.light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.visible = true;\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\t*/\n\n};\n\n/**\n * @author abelnation / http://github.com/abelnation\n * @author Mugen87 / http://github.com/Mugen87\n * @author WestLangley / http://github.com/WestLangley\n *\n *  This helper must be added as a child of the light\n */\n\nfunction RectAreaLightHelper( light, color ) {\n\n\tthis.type = 'RectAreaLightHelper';\n\n\tthis.light = light;\n\n\tthis.color = color; // optional hardwired color for the helper\n\n\tvar positions = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, - 1, 0, 1, 1, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tLine.call( this, geometry, material );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, 1, 0, - 1, - 1, 0, 1, - 1, 0 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.addAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { side: BackSide, fog: false } ) ) );\n\n\tthis.update();\n\n}\n\nRectAreaLightHelper.prototype = Object.create( Line.prototype );\nRectAreaLightHelper.prototype.constructor = RectAreaLightHelper;\n\nRectAreaLightHelper.prototype.update = function () {\n\n\tthis.scale.set( 0.5 * this.light.width, 0.5 * this.light.height, 1 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\t\tthis.children[ 0 ].material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\n\t\t// prevent hue shift\n\t\tvar c = this.material.color;\n\t\tvar max = Math.max( c.r, c.g, c.b );\n\t\tif ( max > 1 ) c.multiplyScalar( 1 / max );\n\n\t\tthis.children[ 0 ].material.color.copy( this.material.color );\n\n\t}\n\n};\n\nRectAreaLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nvar _vector$9 = new Vector3();\nvar _color1 = new Color();\nvar _color2 = new Color();\n\nfunction HemisphereLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new OctahedronBufferGeometry( size );\n\tgeometry.rotateY( Math.PI * 0.5 );\n\n\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\tif ( this.color === undefined ) this.material.vertexColors = VertexColors;\n\n\tvar position = geometry.getAttribute( 'position' );\n\tvar colors = new Float32Array( position.count * 3 );\n\n\tgeometry.addAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\tthis.add( new Mesh( geometry, this.material ) );\n\n\tthis.update();\n\n}\n\nHemisphereLightHelper.prototype = Object.create( Object3D.prototype );\nHemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\nHemisphereLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nHemisphereLightHelper.prototype.update = function () {\n\n\tvar mesh = this.children[ 0 ];\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tvar colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t_color1.copy( this.light.color );\n\t\t_color2.copy( this.light.groundColor );\n\n\t\tfor ( var i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\tvar color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t}\n\n\t\tcolors.needsUpdate = true;\n\n\t}\n\n\tmesh.lookAt( _vector$9.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction LightProbeHelper( lightProbe, size ) {\n\n\tthis.lightProbe = lightProbe;\n\n\tthis.size = size;\n\n\tvar defines = {};\n\tdefines[ 'GAMMA_OUTPUT' ] = \"\";\n\n\t// material\n\tvar material = new ShaderMaterial( {\n\n\t\tdefines: defines,\n\n\t\tuniforms: {\n\n\t\t\tsh: { value: this.lightProbe.sh.coefficients }, // by reference\n\n\t\t\tintensity: { value: this.lightProbe.intensity }\n\n\t\t},\n\n\t\tvertexShader: [\n\n\t\t\t'varying vec3 vNormal;',\n\n\t\t\t'void main() {',\n\n\t\t\t'\tvNormal = normalize( normalMatrix * normal );',\n\n\t\t\t'\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\n\n\t\t\t'}',\n\n\t\t].join( '\\n' ),\n\n\t\tfragmentShader: [\n\n\t\t\t'#define RECIPROCAL_PI 0.318309886',\n\n\t\t\t'vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {',\n\n\t\t\t'\t// matrix is assumed to be orthogonal',\n\n\t\t\t'\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );',\n\n\t\t\t'}',\n\n\t\t\t'vec3 linearToOutput( in vec3 a ) {',\n\n\t\t\t'\t#ifdef GAMMA_OUTPUT',\n\n\t\t\t'\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\treturn a;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'}',\n\n\t\t\t'// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf',\n\t\t\t'vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {',\n\n\t\t\t'\t// normal is assumed to have unit length',\n\n\t\t\t'\tfloat x = normal.x, y = normal.y, z = normal.z;',\n\n\t\t\t'\t// band 0',\n\t\t\t'\tvec3 result = shCoefficients[ 0 ] * 0.886227;',\n\n\t\t\t'\t// band 1',\n\t\t\t'\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;',\n\t\t\t'\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;',\n\t\t\t'\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;',\n\n\t\t\t'\t// band 2',\n\t\t\t'\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;',\n\t\t\t'\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;',\n\t\t\t'\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );',\n\t\t\t'\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;',\n\t\t\t'\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );',\n\n\t\t\t'\treturn result;',\n\n\t\t\t'}',\n\n\t\t\t'uniform vec3 sh[ 9 ]; // sh coefficients',\n\n\t\t\t'uniform float intensity; // light probe intensity',\n\n\t\t\t'varying vec3 vNormal;',\n\n\t\t\t'void main() {',\n\n\t\t\t'\tvec3 normal = normalize( vNormal );',\n\n\t\t\t'\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );',\n\n\t\t\t'\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );',\n\n\t\t\t'\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;',\n\n\t\t\t'\toutgoingLight = linearToOutput( outgoingLight );',\n\n\t\t\t'\tgl_FragColor = vec4( outgoingLight, 1.0 );',\n\n\t\t\t'}'\n\n\t\t].join( '\\n' )\n\n\t} );\n\n\tvar geometry = new SphereBufferGeometry( 1, 32, 16 );\n\n\tMesh.call( this, geometry, material );\n\n\tthis.onBeforeRender();\n\n}\n\nLightProbeHelper.prototype = Object.create( Mesh.prototype );\nLightProbeHelper.prototype.constructor = LightProbeHelper;\n\nLightProbeHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\n};\n\nLightProbeHelper.prototype.onBeforeRender = function () {\n\n\tthis.position.copy( this.lightProbe.position );\n\n\tthis.scale.set( 1, 1, 1 ).multiplyScalar( this.size );\n\n\tthis.material.uniforms.intensity.value = this.lightProbe.intensity;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction GridHelper( size, divisions, color1, color2 ) {\n\n\tsize = size || 10;\n\tdivisions = divisions || 10;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar center = divisions / 2;\n\tvar step = size / divisions;\n\tvar halfSize = size / 2;\n\n\tvar vertices = [], colors = [];\n\n\tfor ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\tvar color = i === center ? color1 : color2;\n\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nGridHelper.prototype = Object.assign( Object.create( LineSegments.prototype ), {\n\n\tconstructor: GridHelper,\n\n\tcopy: function ( source ) {\n\n\t\tLineSegments.prototype.copy.call( this, source );\n\n\t\tthis.geometry.copy( source.geometry );\n\t\tthis.material.copy( source.material );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author Hectate / http://www.github.com/Hectate\n */\n\nfunction PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\n\n\tradius = radius || 10;\n\tradials = radials || 16;\n\tcircles = circles || 8;\n\tdivisions = divisions || 64;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar x, z;\n\tvar v, i, j, r, color;\n\n\t// create the radials\n\n\tfor ( i = 0; i <= radials; i ++ ) {\n\n\t\tv = ( i / radials ) * ( Math.PI * 2 );\n\n\t\tx = Math.sin( v ) * radius;\n\t\tz = Math.cos( v ) * radius;\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tvertices.push( x, 0, z );\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tcolors.push( color.r, color.g, color.b );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t}\n\n\t// create the circles\n\n\tfor ( i = 0; i <= circles; i ++ ) {\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tr = radius - ( radius / circles * i );\n\n\t\tfor ( j = 0; j < divisions; j ++ ) {\n\n\t\t\t// first vertex\n\n\t\t\tv = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t// second vertex\n\n\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nPolarGridHelper.prototype = Object.create( LineSegments.prototype );\nPolarGridHelper.prototype.constructor = PolarGridHelper;\n\n/**\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nfunction PositionalAudioHelper( audio, range, divisionsInnerAngle, divisionsOuterAngle ) {\n\n\tthis.audio = audio;\n\tthis.range = range || 1;\n\tthis.divisionsInnerAngle = divisionsInnerAngle || 16;\n\tthis.divisionsOuterAngle = divisionsOuterAngle || 2;\n\n\tvar geometry = new BufferGeometry();\n\tvar divisions = this.divisionsInnerAngle + this.divisionsOuterAngle * 2;\n\tvar positions = new Float32Array( ( divisions * 3 + 3 ) * 3 );\n\tgeometry.addAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\tvar materialInnerAngle = new LineBasicMaterial( { color: 0x00ff00 } );\n\tvar materialOuterAngle = new LineBasicMaterial( { color: 0xffff00 } );\n\n\tLine.call( this, geometry, [ materialOuterAngle, materialInnerAngle ] );\n\n\tthis.update();\n\n}\n\nPositionalAudioHelper.prototype = Object.create( Line.prototype );\nPositionalAudioHelper.prototype.constructor = PositionalAudioHelper;\n\nPositionalAudioHelper.prototype.update = function () {\n\n\tvar audio = this.audio;\n\tvar range = this.range;\n\tvar divisionsInnerAngle = this.divisionsInnerAngle;\n\tvar divisionsOuterAngle = this.divisionsOuterAngle;\n\n\tvar coneInnerAngle = _Math.degToRad( audio.panner.coneInnerAngle );\n\tvar coneOuterAngle = _Math.degToRad( audio.panner.coneOuterAngle );\n\n\tvar halfConeInnerAngle = coneInnerAngle / 2;\n\tvar halfConeOuterAngle = coneOuterAngle / 2;\n\n\tvar start = 0;\n\tvar count = 0;\n\tvar i, stride;\n\n\tvar geometry = this.geometry;\n\tvar positionAttribute = geometry.attributes.position;\n\n\tgeometry.clearGroups();\n\n\t//\n\n\tfunction generateSegment( from, to, divisions, materialIndex ) {\n\n\t\tvar step = ( to - from ) / divisions;\n\n\t\tpositionAttribute.setXYZ( start, 0, 0, 0 );\n\t\tcount ++;\n\n\t\tfor ( i = from; i < to; i += step ) {\n\n\t\t\tstride = start + count;\n\n\t\t\tpositionAttribute.setXYZ( stride, Math.sin( i ) * range, 0, Math.cos( i ) * range );\n\t\t\tpositionAttribute.setXYZ( stride + 1, Math.sin( Math.min( i + step, to ) ) * range, 0, Math.cos( Math.min( i + step, to ) ) * range );\n\t\t\tpositionAttribute.setXYZ( stride + 2, 0, 0, 0 );\n\n\t\t\tcount += 3;\n\n\t\t}\n\n\t\tgeometry.addGroup( start, count, materialIndex );\n\n\t\tstart += count;\n\t\tcount = 0;\n\n\t}\n\n\t//\n\n\tgenerateSegment( - halfConeOuterAngle, - halfConeInnerAngle, divisionsOuterAngle, 0 );\n\tgenerateSegment( - halfConeInnerAngle, halfConeInnerAngle, divisionsInnerAngle, 1 );\n\tgenerateSegment( halfConeInnerAngle, halfConeOuterAngle, divisionsOuterAngle, 0 );\n\n\t//\n\n\tpositionAttribute.needsUpdate = true;\n\n\tif ( coneInnerAngle === coneOuterAngle ) this.material[ 0 ].visible = false;\n\n};\n\nPositionalAudioHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material[ 0 ].dispose();\n\tthis.material[ 1 ].dispose();\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _v1$6 = new Vector3();\nvar _v2$4 = new Vector3();\nvar _normalMatrix$2 = new Matrix3();\n\nfunction FaceNormalsHelper( object, size, hex, linewidth ) {\n\n\t// FaceNormalsHelper only supports THREE.Geometry\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\t//\n\n\tvar nNormals = 0;\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tnNormals = objGeometry.faces.length;\n\n\t} else {\n\n\t\tconsole.warn( 'THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.' );\n\n\t}\n\n\t//\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\tgeometry.addAttribute( 'position', positions );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n\t//\n\n\tthis.matrixAutoUpdate = false;\n\tthis.update();\n\n}\n\nFaceNormalsHelper.prototype = Object.create( LineSegments.prototype );\nFaceNormalsHelper.prototype.constructor = FaceNormalsHelper;\n\nFaceNormalsHelper.prototype.update = function () {\n\n\tthis.object.updateMatrixWorld( true );\n\n\t_normalMatrix$2.getNormalMatrix( this.object.matrixWorld );\n\n\tvar matrixWorld = this.object.matrixWorld;\n\n\tvar position = this.geometry.attributes.position;\n\n\t//\n\n\tvar objGeometry = this.object.geometry;\n\n\tvar vertices = objGeometry.vertices;\n\n\tvar faces = objGeometry.faces;\n\n\tvar idx = 0;\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tvar normal = face.normal;\n\n\t\t_v1$6.copy( vertices[ face.a ] )\n\t\t\t.add( vertices[ face.b ] )\n\t\t\t.add( vertices[ face.c ] )\n\t\t\t.divideScalar( 3 )\n\t\t\t.applyMatrix4( matrixWorld );\n\n\t\t_v2$4.copy( normal ).applyMatrix3( _normalMatrix$2 ).normalize().multiplyScalar( this.size ).add( _v1$6 );\n\n\t\tposition.setXYZ( idx, _v1$6.x, _v1$6.y, _v1$6.z );\n\n\t\tidx = idx + 1;\n\n\t\tposition.setXYZ( idx, _v2$4.x, _v2$4.y, _v2$4.z );\n\n\t\tidx = idx + 1;\n\n\t}\n\n\tposition.needsUpdate = true;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _v1$7 = new Vector3();\nvar _v2$5 = new Vector3();\nvar _v3$1 = new Vector3();\n\nfunction DirectionalLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tif ( size === undefined ) size = 1;\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( [\n\t\t- size, size, 0,\n\t\tsize, size, 0,\n\t\tsize, - size, 0,\n\t\t- size, - size, 0,\n\t\t- size, size, 0\n\t], 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.lightPlane = new Line( geometry, material );\n\tthis.add( this.lightPlane );\n\n\tgeometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\tthis.targetLine = new Line( geometry, material );\n\tthis.add( this.targetLine );\n\n\tthis.update();\n\n}\n\nDirectionalLightHelper.prototype = Object.create( Object3D.prototype );\nDirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\nDirectionalLightHelper.prototype.dispose = function () {\n\n\tthis.lightPlane.geometry.dispose();\n\tthis.lightPlane.material.dispose();\n\tthis.targetLine.geometry.dispose();\n\tthis.targetLine.material.dispose();\n\n};\n\nDirectionalLightHelper.prototype.update = function () {\n\n\t_v1$7.setFromMatrixPosition( this.light.matrixWorld );\n\t_v2$5.setFromMatrixPosition( this.light.target.matrixWorld );\n\t_v3$1.subVectors( _v2$5, _v1$7 );\n\n\tthis.lightPlane.lookAt( _v2$5 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.lightPlane.material.color.set( this.color );\n\t\tthis.targetLine.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t}\n\n\tthis.targetLine.lookAt( _v2$5 );\n\tthis.targetLine.scale.z = _v3$1.length();\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author Mugen87 / https://github.com/Mugen87\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nvar _vector$a = new Vector3();\nvar _camera = new Camera();\n\nfunction CameraHelper( camera ) {\n\n\tvar geometry = new BufferGeometry();\n\tvar material = new LineBasicMaterial( { color: 0xffffff, vertexColors: FaceColors } );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar pointMap = {};\n\n\t// colors\n\n\tvar colorFrustum = new Color( 0xffaa00 );\n\tvar colorCone = new Color( 0xff0000 );\n\tvar colorUp = new Color( 0x00aaff );\n\tvar colorTarget = new Color( 0xffffff );\n\tvar colorCross = new Color( 0x333333 );\n\n\t// near\n\n\taddLine( 'n1', 'n2', colorFrustum );\n\taddLine( 'n2', 'n4', colorFrustum );\n\taddLine( 'n4', 'n3', colorFrustum );\n\taddLine( 'n3', 'n1', colorFrustum );\n\n\t// far\n\n\taddLine( 'f1', 'f2', colorFrustum );\n\taddLine( 'f2', 'f4', colorFrustum );\n\taddLine( 'f4', 'f3', colorFrustum );\n\taddLine( 'f3', 'f1', colorFrustum );\n\n\t// sides\n\n\taddLine( 'n1', 'f1', colorFrustum );\n\taddLine( 'n2', 'f2', colorFrustum );\n\taddLine( 'n3', 'f3', colorFrustum );\n\taddLine( 'n4', 'f4', colorFrustum );\n\n\t// cone\n\n\taddLine( 'p', 'n1', colorCone );\n\taddLine( 'p', 'n2', colorCone );\n\taddLine( 'p', 'n3', colorCone );\n\taddLine( 'p', 'n4', colorCone );\n\n\t// up\n\n\taddLine( 'u1', 'u2', colorUp );\n\taddLine( 'u2', 'u3', colorUp );\n\taddLine( 'u3', 'u1', colorUp );\n\n\t// target\n\n\taddLine( 'c', 't', colorTarget );\n\taddLine( 'p', 'c', colorCross );\n\n\t// cross\n\n\taddLine( 'cn1', 'cn2', colorCross );\n\taddLine( 'cn3', 'cn4', colorCross );\n\n\taddLine( 'cf1', 'cf2', colorCross );\n\taddLine( 'cf3', 'cf4', colorCross );\n\n\tfunction addLine( a, b, color ) {\n\n\t\taddPoint( a, color );\n\t\taddPoint( b, color );\n\n\t}\n\n\tfunction addPoint( id, color ) {\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\tpointMap[ id ] = [];\n\n\t\t}\n\n\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.camera = camera;\n\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\tthis.matrix = camera.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.pointMap = pointMap;\n\n\tthis.update();\n\n}\n\nCameraHelper.prototype = Object.create( LineSegments.prototype );\nCameraHelper.prototype.constructor = CameraHelper;\n\nCameraHelper.prototype.update = function () {\n\n\tvar geometry = this.geometry;\n\tvar pointMap = this.pointMap;\n\n\tvar w = 1, h = 1;\n\n\t// we need just camera projection matrix inverse\n\t// world matrix must be identity\n\n\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t// center / target\n\n\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t// near\n\n\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t// far\n\n\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t// up\n\n\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t// cross\n\n\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n};\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector$a.set( x, y, z ).unproject( camera );\n\n\tvar points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector$a.x, _vector$a.y, _vector$a.z );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nvar _box$2 = new Box3();\n\nfunction BoxHelper( object, color ) {\n\n\tthis.object = object;\n\n\tif ( color === undefined ) color = 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\tvar positions = new Float32Array( 8 * 3 );\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\tgeometry.addAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nBoxHelper.prototype = Object.create( LineSegments.prototype );\nBoxHelper.prototype.constructor = BoxHelper;\n\nBoxHelper.prototype.update = function ( object ) {\n\n\tif ( object !== undefined ) {\n\n\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t}\n\n\tif ( this.object !== undefined ) {\n\n\t\t_box$2.setFromObject( this.object );\n\n\t}\n\n\tif ( _box$2.isEmpty() ) return;\n\n\tvar min = _box$2.min;\n\tvar max = _box$2.max;\n\n\t/*\n\t  5____4\n\t1/___0/|\n\t| 6__|_7\n\t2/___3/\n\n\t0: max.x, max.y, max.z\n\t1: min.x, max.y, max.z\n\t2: min.x, min.y, max.z\n\t3: max.x, min.y, max.z\n\t4: max.x, max.y, min.z\n\t5: min.x, max.y, min.z\n\t6: min.x, min.y, min.z\n\t7: max.x, min.y, min.z\n\t*/\n\n\tvar position = this.geometry.attributes.position;\n\tvar array = position.array;\n\n\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\tposition.needsUpdate = true;\n\n\tthis.geometry.computeBoundingSphere();\n\n\n};\n\nBoxHelper.prototype.setFromObject = function ( object ) {\n\n\tthis.object = object;\n\tthis.update();\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.copy = function ( source ) {\n\n\tLineSegments.prototype.copy.call( this, source );\n\n\tthis.object = source.object;\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3Helper( box, color ) {\n\n\tthis.type = 'Box3Helper';\n\n\tthis.box = box;\n\n\tcolor = color || 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\tvar positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\tvar geometry = new BufferGeometry();\n\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.geometry.computeBoundingSphere();\n\n}\n\nBox3Helper.prototype = Object.create( LineSegments.prototype );\nBox3Helper.prototype.constructor = Box3Helper;\n\nBox3Helper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar box = this.box;\n\n\tif ( box.isEmpty() ) return;\n\n\tbox.getCenter( this.position );\n\n\tbox.getSize( this.scale );\n\n\tthis.scale.multiplyScalar( 0.5 );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction PlaneHelper( plane, size, hex ) {\n\n\tthis.type = 'PlaneHelper';\n\n\tthis.plane = plane;\n\n\tthis.size = ( size === undefined ) ? 1 : size;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tLine.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.addAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false } ) ) );\n\n}\n\nPlaneHelper.prototype = Object.create( Line.prototype );\nPlaneHelper.prototype.constructor = PlaneHelper;\n\nPlaneHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar scale = - this.plane.constant;\n\n\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\tthis.lookAt( this.plane.normal );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\n\nvar _axis = new Vector3();\nvar _lineGeometry, _coneGeometry;\n\nfunction ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\n\n\t// dir is assumed to be normalized\n\n\tObject3D.call( this );\n\n\tif ( dir === undefined ) dir = new Vector3( 0, 0, 1 );\n\tif ( origin === undefined ) origin = new Vector3( 0, 0, 0 );\n\tif ( length === undefined ) length = 1;\n\tif ( color === undefined ) color = 0xffff00;\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tif ( _lineGeometry === undefined ) {\n\n\t\t_lineGeometry = new BufferGeometry();\n\t\t_lineGeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t_coneGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t}\n\n\tthis.position.copy( origin );\n\n\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color } ) );\n\tthis.line.matrixAutoUpdate = false;\n\tthis.add( this.line );\n\n\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color } ) );\n\tthis.cone.matrixAutoUpdate = false;\n\tthis.add( this.cone );\n\n\tthis.setDirection( dir );\n\tthis.setLength( length, headLength, headWidth );\n\n}\n\nArrowHelper.prototype = Object.create( Object3D.prototype );\nArrowHelper.prototype.constructor = ArrowHelper;\n\nArrowHelper.prototype.setDirection = function ( dir ) {\n\n\t// dir is assumed to be normalized\n\n\tif ( dir.y > 0.99999 ) {\n\n\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t} else if ( dir.y < - 0.99999 ) {\n\n\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t} else {\n\n\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\tvar radians = Math.acos( dir.y );\n\n\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t}\n\n};\n\nArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tthis.line.scale.set( 1, Math.max( 0, length - headLength ), 1 );\n\tthis.line.updateMatrix();\n\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\tthis.cone.position.y = length;\n\tthis.cone.updateMatrix();\n\n};\n\nArrowHelper.prototype.setColor = function ( color ) {\n\n\tthis.line.material.color.set( color );\n\tthis.cone.material.color.set( color );\n\n};\n\nArrowHelper.prototype.copy = function ( source ) {\n\n\tObject3D.prototype.copy.call( this, source, false );\n\n\tthis.line.copy( source.line );\n\tthis.cone.copy( source.cone );\n\n\treturn this;\n\n};\n\nArrowHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AxesHelper( size ) {\n\n\tsize = size || 1;\n\n\tvar vertices = [\n\t\t0, 0, 0,\tsize, 0, 0,\n\t\t0, 0, 0,\t0, size, 0,\n\t\t0, 0, 0,\t0, 0, size\n\t];\n\n\tvar colors = [\n\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t0, 0, 1,\t0, 0.6, 1\n\t];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nAxesHelper.prototype = Object.create( LineSegments.prototype );\nAxesHelper.prototype.constructor = AxesHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\treturn new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nvar LineStrip = 0;\n\nvar LinePieces = 1;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials ) {\n\n\tif ( materials === undefined ) materials = [];\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setDynamic( true );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nObject.assign( CurvePath.prototype, {\n\n\tcreatePointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from path points (for Line or Points objects)\n\n\t\tvar pts = this.getPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateSpacedPointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from equidistant sampling along the path\n\n\t\tvar pts = this.getSpacedPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateGeometry: function ( points ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\tvar geometry = new Geometry();\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n//\n\nObject.assign( Path.prototype, {\n\n\tfromPoints: function ( points ) {\n\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\t\tthis.setFromPoints( points );\n\n\t}\n\n} );\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\tthis.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n\tinitFromArray: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n\t},\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n\t},\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nObject.assign( Loader.prototype, {\n\n\textractUrlBase: function ( url ) {\n\n\t\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\t\treturn LoaderUtils.extractUrlBase( url );\n\n\t}\n\n} );\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tsetTexturePath: function ( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n} );\n\n//\n\nObject.assign( Box2.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Box3.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nObject.assign( _Math, {\n\n\trandom16: function () {\n\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\n\t\treturn Math.random();\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\n\t\treturn _Math.floorPowerOfTwo( value );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\n\t\treturn _Math.ceilPowerOfTwo( value );\n\n\t}\n\n} );\n\nObject.assign( Matrix3.prototype, {\n\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n\t},\n\tapplyToBuffer: function ( buffer /*, offset, length */ ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n\t\treturn this.applyToBufferAttribute( buffer );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tgetPosition: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\treturn new Vector3().setFromMatrixColumn( this, 3 );\n\n\t},\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\tmultiplyToArray: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n\t},\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\tv.transformDirection( this );\n\n\t},\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\ttranslate: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n\t},\n\trotateX: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n\t},\n\trotateY: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n\t},\n\trotateZ: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n\t},\n\trotateByAxis: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n\t},\n\tapplyToBuffer: function ( buffer /*, offset, length */ ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n\t\treturn this.applyToBufferAttribute( buffer );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n\t},\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n\t}\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nObject.assign( Ray.prototype, {\n\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionPlane: function ( plane ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\t\treturn this.intersectsPlane( plane );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tarea: function () {\n\n\t\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\t\treturn this.getArea();\n\n\t},\n\tbarycoordFromPoint: function ( point, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn this.getBarycoord( point, target );\n\n\t},\n\tmidpoint: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\t\treturn this.getMidpoint( target );\n\n\t},\n\tnormal: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn this.getNormal( target );\n\n\t},\n\tplane: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\t\treturn this.getPlane( target );\n\n\t}\n\n} );\n\nObject.assign( Triangle, {\n\n\tbarycoordFromPoint: function ( point, a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n\t},\n\tnormal: function ( a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn Triangle.getNormal( a, b, c, target );\n\n\t}\n\n} );\n\nObject.assign( Shape.prototype, {\n\n\textractAllPoints: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\t\treturn this.extractPoints( divisions );\n\n\t},\n\textrude: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\t\treturn new ExtrudeGeometry( this, options );\n\n\t},\n\tmakeGeometry: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\t\treturn new ShapeGeometry( this, options );\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n\tsetEulerFromRotationMatrix: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n\t},\n\tsetEulerFromQuaternion: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n\t},\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\treturn this.setFromMatrixScale( m );\n\n\t},\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\treturn this.setFromMatrixColumn( matrix, index );\n\n\t},\n\tapplyProjection: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\t\treturn this.applyMatrix4( m );\n\n\t},\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\n//\n\nObject.assign( Geometry.prototype, {\n\n\tcomputeTangents: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeLineDistances: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.' );\n\n\t}\n\n} );\n\nObject.assign( Object3D.prototype, {\n\n\tgetChildByName: function ( name ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name );\n\n\t},\n\trenderDepth: function () {\n\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n\t},\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t},\n\tgetWorldRotation: function () {\n\n\t\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n\t}\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n\tobjects: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\treturn this.levels;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t},\n\tset: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\treturn this.arcLengthDivisions;\n\n\t},\n\tset: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\tthis.arcLengthDivisions = value;\n\n\t}\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tcopyIndicesArray: function ( /* indices */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n\taddIndex: function ( index ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\tthis.setIndex( index );\n\n\t},\n\taddDrawCall: function ( start, count, indexOffset ) {\n\n\t\tif ( indexOffset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t\t}\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\tthis.addGroup( start, count );\n\n\t},\n\tclearDrawCalls: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\tthis.clearGroups();\n\n\t},\n\tcomputeTangents: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeOffsets: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( ExtrudeBufferGeometry.prototype, {\n\n\tgetArrays: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .getArrays() has been removed.' );\n\n\t},\n\n\taddShapeList: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.' );\n\n\t},\n\n\taddShape: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShape() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n\tdynamic: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n\t\t}\n\t},\n\tonUpdate: {\n\t\tvalue: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\t\t\treturn this;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n\tmetal: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n\tclearTarget: function ( renderTarget, color, depth, stencil ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t},\n\tanimate: function ( callback ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\t\tthis.setAnimationLoop( callback );\n\n\t},\n\tgetCurrentRenderTarget: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\t\treturn this.getRenderTarget();\n\n\t},\n\tgetMaxAnisotropy: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\t\treturn this.capabilities.getMaxAnisotropy();\n\n\t},\n\tgetPrecision: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\t\treturn this.capabilities.precision;\n\n\t},\n\tresetGLState: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\t\treturn this.state.reset();\n\n\t},\n\tsupportsFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_float' );\n\n\t},\n\tsupportsHalfFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\n\n\t},\n\tsupportsStandardDerivatives: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n\t},\n\tsupportsCompressedTextureS3TC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t},\n\tsupportsCompressedTexturePVRTC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t},\n\tsupportsBlendMinMax: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n\t},\n\tsupportsVertexTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\t\treturn this.capabilities.vertexTextures;\n\n\t},\n\tsupportsInstancedArrays: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n\t},\n\tenableScissorTest: function ( boolean ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\t\tthis.setScissorTest( boolean );\n\n\t},\n\tinitMaterial: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n\t},\n\taddPrePlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n\t},\n\taddPostPlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n\t},\n\tupdateShadowMap: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n\t},\n\tsetFaceCulling: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n\t},\n\tallocTextureUnit: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n\t},\n\tsetTexture: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n\t},\n\tsetTexture2D: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n\t},\n\tsetTextureCube: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n\t},\n\tgetActiveMipMapLevel: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\n\t\treturn this.getActiveMipmapLevel();\n\n\t}\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\tcontext: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\n\t\t\treturn this.getContext();\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebGLRenderTargetCube.prototype, {\n\n\tactiveCubeFace: {\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().' );\n\n\t\t}\n\t},\n\tactiveMipMapLevel: {\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().' );\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebVRManager.prototype, {\n\n\tstanding: {\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebVRManager: .standing has been removed.' );\n\n\t\t}\n\t},\n\tuserHeight: {\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebVRManager: .userHeight has been removed.' );\n\n\t\t}\n\t}\n\n} );\n\n//\n\nAudio.prototype.load = function ( file ) {\n\n\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\tvar scope = this;\n\tvar audioLoader = new AudioLoader();\n\taudioLoader.load( file, function ( buffer ) {\n\n\t\tscope.setBuffer( buffer );\n\n\t} );\n\treturn this;\n\n};\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\n//\n\nvar GeometryUtils = {\n\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\tvar matrix;\n\n\t\tif ( geometry2.isMesh ) {\n\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n\t\t\tmatrix = geometry2.matrix;\n\t\t\tgeometry2 = geometry2.geometry;\n\n\t\t}\n\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\n\t},\n\n\tcenter: function ( geometry ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\treturn geometry.center();\n\n\t}\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tvar loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tvar loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nvar SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js' );\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, ClosedSplineCurve3, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeBufferGeometry, ConeGeometry, CubeCamera, BoxGeometry as CubeGeometry, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DirectionalLightShadow, DiscreteInterpolant, DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeBufferGeometry, ExtrudeGeometry, Face3, Face4, FaceColors, FaceNormalsHelper, FileLoader, FlatShading, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontFaceDirectionCCW, FrontFaceDirectionCW, FrontSide, Frustum, GammaEncoding, Geometry, GeometryUtils, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, JSONLoader, KeepStencilOp, KeyframeTrack, LOD, LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, LightProbeHelper, LightShadow, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, _Math as Math, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColors, NoToneMapping, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PositionalAudioHelper, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RectAreaLightHelper, RedFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingBufferGeometry, RingGeometry, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SphericalReflectionMapping, Spline, SplineCurve, SplineCurve3, SpotLight, SpotLightHelper, SpotLightShadow, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StereoCamera, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronBufferGeometry, TetrahedronGeometry, TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusBufferGeometry, TorusGeometry, TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uncharted2ToneMapping, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VertexNormalsHelper, VideoTexture, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, sRGBEncoding };\n","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n * @author ScieCode / http://github.com/sciecode\n */\n\nimport {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from \"../../../build/three.module.js\";\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function ( object, domElement ) {\n\n\tthis.object = object;\n\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.05;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = false; // if true, pan in screen-space\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t// Touch fingers\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new Vector3();\n\t\tvar lastQuaternion = new Quaternion();\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t} else {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t}\n\n\t\t\t// restrict theta to be between desired limits\n\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t}\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = {\n\t\tNONE: - 1,\n\t\tROTATE: 0,\n\t\tDOLLY: 1,\n\t\tPAN: 2,\n\t\tTOUCH_ROTATE: 3,\n\t\tTOUCH_PAN: 4,\n\t\tTOUCH_DOLLY_PAN: 5,\n\t\tTOUCH_DOLLY_ROTATE: 6\n\t};\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new Spherical();\n\tvar sphericalDelta = new Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new Vector2();\n\tvar rotateEnd = new Vector2();\n\tvar rotateDelta = new Vector2();\n\n\tvar panStart = new Vector2();\n\tvar panEnd = new Vector2();\n\tvar panDelta = new Vector2();\n\n\tvar dollyStart = new Vector2();\n\tvar dollyEnd = new Vector2();\n\tvar dollyDelta = new Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\tvar needsUpdate = false;\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.update();\n\n\t\t}\n\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\n\n\t}\n\n\tfunction handleTouchStartDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateEnd.set( x, y );\n\n\t\t}\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t}\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\tdollyIn( dollyDelta.y );\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t}\n\n\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t}\n\n\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\t// Prevent the browser from scrolling.\n\n\t\tevent.preventDefault();\n\n\t\t// Manually set the focus since calling preventDefault above\n\t\t// prevents the browser from setting it automatically.\n\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase 0:\n\n\t\t\t\tswitch ( scope.mouseButtons.LEFT ) {\n\n\t\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\n\t\t\tcase 1:\n\n\t\t\t\tswitch ( scope.mouseButtons.MIDDLE ) {\n\n\t\t\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tswitch ( scope.mouseButtons.RIGHT ) {\n\n\t\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\n\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function ( object, domElement ) {\n\n\tOrbitControls.call( this, object, domElement );\n\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\tthis.touches.ONE = TOUCH.PAN;\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n};\n\nMapControls.prototype = Object.create( EventDispatcher.prototype );\nMapControls.prototype.constructor = MapControls;\n\nexport { OrbitControls, MapControls };\n","import Loop from 'raf-loop';\nimport { Scene, OrthographicCamera, WebGLRenderer } from 'three';\n// import { OrbitControls } from '../../examples/jsm/controls/OrbitControls.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\nconst DEFAULTS = {\n  debug: false,\n  width: 480,\n  height: 480,\n  pixelRatio: window.devicePixelRatio,\n  clickToggleDebug: true,\n};\n\nconst RENDERER_DEFAULTS = {\n  alpha: false\n};\n\nclass SketchEngine3D {\n  constructor(mountEl, opts = {}, rendererOpts = {}) {\n    this.options = {\n      ...DEFAULTS,\n      ...opts\n    };\n    this.rendererOptions = {\n      ...RENDERER_DEFAULTS,\n      ...rendererOpts\n    };\n\n    this.mountEl = mountEl;\n\n    this.scene = new Scene();\n\n    this.renderer = new WebGLRenderer(this.rendererOptions);\n\n    this.updateDimensions(this.options.width, this.options.height, this.options.pixelRatio);\n    this.mountEl.appendChild(this.renderer.domElement);\n\n    this.frame = 0;\n\n    this.loop = Loop(this.update.bind(this));\n\n    this._renderer = () => {};\n  }\n\n  setCamera(camera, orbitControls = false, { autoRotate = false, enableZoom = false} = {}) {\n    this.camera = camera;\n\n    if (orbitControls) {\n      this.orbit = new OrbitControls(this.camera, this.renderer.domElement);\n      this.orbit.autoRotate = autoRotate;\n      this.orbit.enableZoom = enableZoom;\n    } else {\n      this.orbit = null;\n    }\n  }\n\n  _addEventListeners() {\n    this.mountEl.addEventListener('click', () => {\n      this.options.debug = !this.options.debug;\n\n      document.body.classList.toggle('debug', this.options.debug);\n    }, false);\n  }\n\n  updateDimensions(width, height, pixelRatio) {\n    this.mountEl.style.width = `${width}px`;\n    this.mountEl.style.height = `${height}px`;\n\n    this.renderer.setSize(width, height);\n    this.renderer.setPixelRatio(pixelRatio);\n  }\n\n  onRender(fn = () => {}) {\n    this._renderer = fn;\n  }\n\n  start() {\n    this.loop.start();\n  }\n\n  update(dt) {\n    if (!this.camera) {\n      console.log(\"There is no camera\");\n\n      return false;\n    }\n\n    this._renderer({\n      debug: this.options.debug,\n      frame: this.frame,\n      deltaTime: dt,\n      width: this.options.width,\n      height: this.options.height\n    });\n\n    if (this.orbit) {\n      this.orbit.update();\n    }\n\n    this.renderer.render(this.scene, this.camera);\n    this.frame++;\n  }\n\n  stop() {\n    this.loop.stop();\n  }\n\n  static PERSPECTIVE_CAMERA(width, height) {\n    const camera = new OrthographicCamera(width / -2, width / 2, height / 2, height / -2, 1, 1000);\n    camera.position.z = 500;\n    return camera;\n  }\n}\n\nexport default SketchEngine3D;\n","/*\n * anime.js v3.1.0\n * (c) 2019 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; }\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.round(t * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width / viewBox[2],\n    h: height / viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * svg.w;\n    case 'y': return (p.y - svg.y) * svg.h;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\nvar pausedInstances = [];\nvar raf;\n\nvar engine = (function () {\n  function play() { \n    raf = requestAnimationFrame(step);\n  }\n  function step(t) {\n    var activeInstancesLength = activeInstances.length;\n    if (activeInstancesLength) {\n      var i = 0;\n      while (i < activeInstancesLength) {\n        var activeInstance = activeInstances[i];\n        if (!activeInstance.paused) {\n          activeInstance.tick(t);\n        } else {\n          var instanceIndex = activeInstances.indexOf(activeInstance);\n          if (instanceIndex > -1) {\n            activeInstances.splice(instanceIndex, 1);\n            activeInstancesLength = activeInstances.length;\n          }\n        }\n        i++;\n      }\n      play();\n    } else {\n      raf = cancelAnimationFrame(raf);\n    }\n  }\n  return play;\n})();\n\nfunction handleVisibilityChange() {\n  if (document.hidden) {\n    activeInstances.forEach(function (ins) { return ins.pause(); });\n    pausedInstances = activeInstances.slice(0);\n    anime.running = activeInstances = [];\n  } else {\n    pausedInstances.forEach(function (ins) { return ins.play(); });\n  }\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    if (!raf) { engine(); }\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargets(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    var animations = instance.animations;\n    var children = instance.children;\n    removeTargetsFromAnimations(targetsArray, animations);\n    for (var c = children.length; c--;) {\n      var child = children[c];\n      var childAnimations = child.animations;\n      removeTargetsFromAnimations(targetsArray, childAnimations);\n      if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n    }\n    if (!animations.length && !children.length) { instance.pause(); }\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.1.0';\nanime.speed = 1;\nanime.running = activeInstances;\nanime.remove = removeTargets;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","import { PlaneGeometry, MeshBasicMaterial, Mesh, DoubleSide, Object3D, Matrix4 } from 'three';\n\nclass Tile {\n  constructor(width, height, opts = {}) {\n    const DEFAULTS = {\n      canvasSize: 256\n    };\n\n    this.options = {\n      ...DEFAULTS,\n      ...opts\n    };\n\n    this.width = width;\n    this.height = height;\n\n    return this;\n  }\n\n  createShape(textures) {\n    const shape = new Object3D();\n\n    textures.forEach((t, idx) => {\n      const geo = new PlaneGeometry(this.width, this.height);\n\n      if (idx % 2 === 1) {\n        geo.applyMatrix( new Matrix4().makeRotationY( Math.PI ) );\n      }\n\n      const mat = new MeshBasicMaterial({\n        map: t\n      });\n      const plane = new Mesh(geo, mat);\n\n      shape.add(plane);\n    });\n\n    return shape;\n  }\n}\n\nexport default Tile;\n","const isMultipleOfEight = num => {\n  return (num / 8) === Math.round(num / 8);\n};\n\nexport const getCanvas = (size) => {\n  if (!isMultipleOfEight(size)) {\n    console.error('Size is not multiple of 8');\n    return false;\n  }\n\n  const canvas = document.createElement('canvas');\n\n  canvas.width = canvas.height = size;\n\n  return {\n    canvas,\n    ctx: canvas.getContext('2d')\n  };\n}\n\nexport const drawTextCenter = (text, canvas, { weight = 'bold', fontSize = 32, rotate = 0 } = {}) => {\n  const ctx = canvas.getContext('2d');\n  ctx.font = `${weight} ${fontSize}px Helvetica`;\n\n  const { width } = ctx.measureText(text);\n\n  const xOffset = -(width / 2);\n  const yOffset = (fontSize * 0.375);\n\n  ctx.save();\n  ctx.translate(canvas.width / 2, canvas.height / 2);\n  ctx.rotate(rotate);\n  ctx.fillText(text, xOffset, yOffset);\n  ctx.restore();\n};\n","import { CanvasTexture, Group, Math as ThreeMath } from 'three';\nimport anime from 'animejs/lib/anime.es.js';\n\nimport Tile from './Tile';\nimport {getCanvas, drawTextCenter} from './canvas';\n\nclass TileBox {\n  constructor(scene, txt, opts = {}) {\n    const DEFAULTS = {\n      canvasSize: 256,\n      tiles: 10,\n      tileGutter: 5,\n      size: 50,\n      onChange: () => {}\n    };\n\n    this.options = {\n      ...DEFAULTS,\n      ...opts\n    };\n\n    this.scene = scene;\n\n    this.canvases = new Array(2).fill(0).map(() => {\n      const { canvas, ctx } = getCanvas(this.options.canvasSize);\n\n      // document.body.appendChild(canvas);\n\n      return {\n        canvas,\n        ctx\n      };\n    });\n\n    this.textures = new Array(2).fill(0).map((c, idx) => {\n      return new CanvasTexture(this.canvases[idx].canvas);\n    });\n\n    this.shapes = new Group();\n\n    for (let i = 0; i < this.options.tiles; i++) {\n      const tile = new Tile(this.options.size, this.options.size);\n      const tileShape = tile.createShape(this.textures);\n      tileShape.position.z = (i * this.options.tileGutter) - ((this.options.tiles * this.options.tileGutter) / 2);\n      this.shapes.add(tileShape);\n    }\n\n    this.scene.add(this.shapes);\n    this.rotator = {\n      x: 0,\n      y: 0,\n      z: 0,\n      stage: 0\n    };\n\n    this.currStage = 0;\n\n    this.colours =  ['red', 'blue'];\n\n    this.setText(txt);\n  }\n\n  setText(txt) {\n    this.canvases.forEach(({ canvas, ctx }, idx) => {\n      ctx.clearRect(0, 0, this.options.canvasSize, this.options.canvasSize);\n      ctx.fillStyle = this.colours[idx];\n      ctx.fillRect(0, 0, this.options.canvasSize, this.options.canvasSize);\n      ctx.fillStyle = 'white';\n      drawTextCenter(txt[idx], canvas, {\n        fontSize: this.options.canvasSize,\n        rotate: idx % 2 === 0 ? 0 : Math.PI * 0.5\n      });\n      this.textures[idx].needsUpdate = true;\n    });\n  }\n\n  play(delay = 0, endDelay = 0) {\n\n    anime({\n      targets: this.rotator,\n      // x: ThreeMath.degToRad(360),\n      keyframes: [\n        {\n          y: ThreeMath.degToRad(-180),\n          z: ThreeMath.degToRad(-90),\n          // x: ThreeMath.degToRad(-180),\n          stage: 1\n        },\n        {\n          y: ThreeMath.degToRad(-360),\n          z: ThreeMath.degToRad(0),\n          // x: ThreeMath.degToRad(-360),\n          stage: 0\n        }\n      ],\n      duration: 1500,\n      delay,\n      endDelay,\n      easing: 'easeInOutCubic',\n      loop: true\n    });\n  }\n\n  update() {\n    // console.log(this.rotator);\n    this.shapes.rotation.x = this.rotator.x;\n    this.shapes.rotation.y = this.rotator.y;\n    this.shapes.rotation.z = this.rotator.z;\n\n    const stage = Math.round(this.rotator.stage);\n\n    if (this.currStage !== stage) {\n      this.currStage = stage;\n      this.options.onChange();\n    }\n  }\n}\n\nexport default TileBox;\n","// import {PlaneGeometry, MeshBasicMaterial, Mesh, DoubleSide, CanvasTexture} from 'three';\n\n\n// import Engine from './utils/engine';\nimport Engine from './utils/engine3d';\n\nimport TileBox from './TileBox';\n\nconst WIDTH = 480;\nconst HEIGHT = 480;\n\nconst el = document.getElementById('container');\n\nconst app = new Engine(el, {\n  debug: false,\n  width: WIDTH,\n  height: HEIGHT\n}, {\n  alpha: true\n});\n\napp.setCamera(Engine.PERSPECTIVE_CAMERA(WIDTH, HEIGHT), true, {\n  enableZoom: true\n});\n\n\nconst letters = [\n  ['H', 'M'],\n  ['E', 'E'],\n  ['A', 'T'],\n  ['V', 'A'],\n  ['Y', 'L'],\n]\n\nlet changed = 0;\nlet side = 0;\nfunction onChange() {\n  changed++;\n\n  if (changed === 1) {\n    side = (side + 1) % 2;\n\n    document.body.style.backgroundColor = boxes[0].colours[(side + 1) % 2];\n  }\n\n  if (changed >= letters.length) {\n    changed = 0;\n  }\n}\n\nconst boxes = new Array(letters.length).fill(0).map((c, idx) => {\n  const box = new TileBox(app.scene, letters[idx], {\n    onChange: onChange\n  });\n  box.shapes.position.x = (idx * 60) - (((letters.length - 1) * 60) / 2);\n\n  const delay = idx * 50;\n  box.play(\n    delay,\n    (letters.length * 50) - delay\n  );\n  return box;\n});\n\napp.onRender(({ frame, width, height, debug }) => {\n  boxes.forEach(box => box.update());\n});\n\napp.start();\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}